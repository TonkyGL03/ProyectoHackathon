function UI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function I0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var sp={exports:{}},Gl={},ip={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function zI(){if(Gv)return He;Gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),y=Symbol.iterator;function E($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function R($,Z,ie){this.props=$,this.context=Z,this.refs=I,this.updater=ie||b}R.prototype.isReactComponent={},R.prototype.setState=function($,Z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Z,"setState")},R.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=R.prototype;function L($,Z,ie){this.props=$,this.context=Z,this.refs=I,this.updater=ie||b}var z=L.prototype=new j;z.constructor=L,D(z,R.prototype),z.isPureReactComponent=!0;var Q=Array.isArray,X=Object.prototype.hasOwnProperty,J={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C($,Z,ie){var he,ge={},be=null,ne=null;if(Z!=null)for(he in Z.ref!==void 0&&(ne=Z.ref),Z.key!==void 0&&(be=""+Z.key),Z)X.call(Z,he)&&!k.hasOwnProperty(he)&&(ge[he]=Z[he]);var fe=arguments.length-2;if(fe===1)ge.children=ie;else if(1<fe){for(var Re=Array(fe),De=0;De<fe;De++)Re[De]=arguments[De+2];ge.children=Re}if($&&$.defaultProps)for(he in fe=$.defaultProps,fe)ge[he]===void 0&&(ge[he]=fe[he]);return{$$typeof:n,type:$,key:be,ref:ne,props:ge,_owner:J.current}}function P($,Z){return{$$typeof:n,type:$.type,key:Z,ref:$.ref,props:$.props,_owner:$._owner}}function V($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function M($){var Z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ie){return Z[ie]})}var U=/\/+/g;function N($,Z){return typeof $=="object"&&$!==null&&$.key!=null?M(""+$.key):Z.toString(36)}function ve($,Z,ie,he,ge){var be=typeof $;(be==="undefined"||be==="boolean")&&($=null);var ne=!1;if($===null)ne=!0;else switch(be){case"string":case"number":ne=!0;break;case"object":switch($.$$typeof){case n:case e:ne=!0}}if(ne)return ne=$,ge=ge(ne),$=he===""?"."+N(ne,0):he,Q(ge)?(ie="",$!=null&&(ie=$.replace(U,"$&/")+"/"),ve(ge,Z,ie,"",function(De){return De})):ge!=null&&(V(ge)&&(ge=P(ge,ie+(!ge.key||ne&&ne.key===ge.key?"":(""+ge.key).replace(U,"$&/")+"/")+$)),Z.push(ge)),1;if(ne=0,he=he===""?".":he+":",Q($))for(var fe=0;fe<$.length;fe++){be=$[fe];var Re=he+N(be,fe);ne+=ve(be,Z,ie,Re,ge)}else if(Re=E($),typeof Re=="function")for($=Re.call($),fe=0;!(be=$.next()).done;)be=be.value,Re=he+N(be,fe++),ne+=ve(be,Z,ie,Re,ge);else if(be==="object")throw Z=String($),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return ne}function Ae($,Z,ie){if($==null)return $;var he=[],ge=0;return ve($,he,"","",function(be){return Z.call(ie,be,ge++)}),he}function ae($){if($._status===-1){var Z=$._result;Z=Z(),Z.then(function(ie){($._status===0||$._status===-1)&&($._status=1,$._result=ie)},function(ie){($._status===0||$._status===-1)&&($._status=2,$._result=ie)}),$._status===-1&&($._status=0,$._result=Z)}if($._status===1)return $._result.default;throw $._result}var me={current:null},H={transition:null},ce={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:H,ReactCurrentOwner:J};function oe(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:Ae,forEach:function($,Z,ie){Ae($,function(){Z.apply(this,arguments)},ie)},count:function($){var Z=0;return Ae($,function(){Z++}),Z},toArray:function($){return Ae($,function(Z){return Z})||[]},only:function($){if(!V($))throw Error("React.Children.only expected to receive a single React element child.");return $}},He.Component=R,He.Fragment=t,He.Profiler=o,He.PureComponent=L,He.StrictMode=r,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,He.act=oe,He.cloneElement=function($,Z,ie){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var he=D({},$.props),ge=$.key,be=$.ref,ne=$._owner;if(Z!=null){if(Z.ref!==void 0&&(be=Z.ref,ne=J.current),Z.key!==void 0&&(ge=""+Z.key),$.type&&$.type.defaultProps)var fe=$.type.defaultProps;for(Re in Z)X.call(Z,Re)&&!k.hasOwnProperty(Re)&&(he[Re]=Z[Re]===void 0&&fe!==void 0?fe[Re]:Z[Re])}var Re=arguments.length-2;if(Re===1)he.children=ie;else if(1<Re){fe=Array(Re);for(var De=0;De<Re;De++)fe[De]=arguments[De+2];he.children=fe}return{$$typeof:n,type:$.type,key:ge,ref:be,props:he,_owner:ne}},He.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},He.createElement=C,He.createFactory=function($){var Z=C.bind(null,$);return Z.type=$,Z},He.createRef=function(){return{current:null}},He.forwardRef=function($){return{$$typeof:h,render:$}},He.isValidElement=V,He.lazy=function($){return{$$typeof:w,_payload:{_status:-1,_result:$},_init:ae}},He.memo=function($,Z){return{$$typeof:m,type:$,compare:Z===void 0?null:Z}},He.startTransition=function($){var Z=H.transition;H.transition={};try{$()}finally{H.transition=Z}},He.unstable_act=oe,He.useCallback=function($,Z){return me.current.useCallback($,Z)},He.useContext=function($){return me.current.useContext($)},He.useDebugValue=function(){},He.useDeferredValue=function($){return me.current.useDeferredValue($)},He.useEffect=function($,Z){return me.current.useEffect($,Z)},He.useId=function(){return me.current.useId()},He.useImperativeHandle=function($,Z,ie){return me.current.useImperativeHandle($,Z,ie)},He.useInsertionEffect=function($,Z){return me.current.useInsertionEffect($,Z)},He.useLayoutEffect=function($,Z){return me.current.useLayoutEffect($,Z)},He.useMemo=function($,Z){return me.current.useMemo($,Z)},He.useReducer=function($,Z,ie){return me.current.useReducer($,Z,ie)},He.useRef=function($){return me.current.useRef($)},He.useState=function($){return me.current.useState($)},He.useSyncExternalStore=function($,Z,ie){return me.current.useSyncExternalStore($,Z,ie)},He.useTransition=function(){return me.current.useTransition()},He.version="18.3.1",He}var Kv;function Zd(){return Kv||(Kv=1,ip.exports=zI()),ip.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function BI(){if(Qv)return Gl;Qv=1;var n=Zd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var w,y={},E=null,b=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(b=f.ref);for(w in f)r.call(f,w)&&!a.hasOwnProperty(w)&&(y[w]=f[w]);if(h&&h.defaultProps)for(w in f=h.defaultProps,f)y[w]===void 0&&(y[w]=f[w]);return{$$typeof:e,type:h,key:E,ref:b,props:y,_owner:o.current}}return Gl.Fragment=t,Gl.jsx=c,Gl.jsxs=c,Gl}var Yv;function $I(){return Yv||(Yv=1,sp.exports=BI()),sp.exports}var p=$I(),S=Zd();const de=I0(S),bm=UI({__proto__:null,default:de},[S]);var Ku={},op={exports:{}},kn={},ap={exports:{}},lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function HI(){return Xv||(Xv=1,(function(n){function e(H,ce){var oe=H.length;H.push(ce);e:for(;0<oe;){var $=oe-1>>>1,Z=H[$];if(0<o(Z,ce))H[$]=ce,H[oe]=Z,oe=$;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ce=H[0],oe=H.pop();if(oe!==ce){H[0]=oe;e:for(var $=0,Z=H.length,ie=Z>>>1;$<ie;){var he=2*($+1)-1,ge=H[he],be=he+1,ne=H[be];if(0>o(ge,oe))be<Z&&0>o(ne,ge)?(H[$]=ne,H[be]=oe,$=be):(H[$]=ge,H[he]=oe,$=he);else if(be<Z&&0>o(ne,oe))H[$]=ne,H[be]=oe,$=be;else break e}}return ce}function o(H,ce){var oe=H.sortIndex-ce.sortIndex;return oe!==0?oe:H.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],w=1,y=null,E=3,b=!1,D=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(H){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=H)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=t(m)}}function Q(H){if(I=!1,z(H),!D)if(t(f)!==null)D=!0,ae(X);else{var ce=t(m);ce!==null&&me(Q,ce.startTime-H)}}function X(H,ce){D=!1,I&&(I=!1,j(C),C=-1),b=!0;var oe=E;try{for(z(ce),y=t(f);y!==null&&(!(y.expirationTime>ce)||H&&!M());){var $=y.callback;if(typeof $=="function"){y.callback=null,E=y.priorityLevel;var Z=$(y.expirationTime<=ce);ce=n.unstable_now(),typeof Z=="function"?y.callback=Z:y===t(f)&&r(f),z(ce)}else r(f);y=t(f)}if(y!==null)var ie=!0;else{var he=t(m);he!==null&&me(Q,he.startTime-ce),ie=!1}return ie}finally{y=null,E=oe,b=!1}}var J=!1,k=null,C=-1,P=5,V=-1;function M(){return!(n.unstable_now()-V<P)}function U(){if(k!==null){var H=n.unstable_now();V=H;var ce=!0;try{ce=k(!0,H)}finally{ce?N():(J=!1,k=null)}}else J=!1}var N;if(typeof L=="function")N=function(){L(U)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Ae=ve.port2;ve.port1.onmessage=U,N=function(){Ae.postMessage(null)}}else N=function(){R(U,0)};function ae(H){k=H,J||(J=!0,N())}function me(H,ce){C=R(function(){H(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){D||b||(D=!0,ae(X))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ce=3;break;default:ce=E}var oe=E;E=ce;try{return H()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,ce){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=E;E=H;try{return ce()}finally{E=oe}},n.unstable_scheduleCallback=function(H,ce,oe){var $=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?$+oe:$):oe=$,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=oe+Z,H={id:w++,callback:ce,priorityLevel:H,startTime:oe,expirationTime:Z,sortIndex:-1},oe>$?(H.sortIndex=oe,e(m,H),t(f)===null&&H===t(m)&&(I?(j(C),C=-1):I=!0,me(Q,oe-$))):(H.sortIndex=Z,e(f,H),D||b||(D=!0,ae(X))),H},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(H){var ce=E;return function(){var oe=E;E=ce;try{return H.apply(this,arguments)}finally{E=oe}}}})(lp)),lp}var Jv;function WI(){return Jv||(Jv=1,ap.exports=HI()),ap.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function qI(){if(Zv)return kn;Zv=1;var n=Zd(),e=WI();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){c(s,i),c(s+"Capture",i)}function c(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},y={};function E(s){return f.call(y,s)?!0:f.call(w,s)?!1:m.test(s)?y[s]=!0:(w[s]=!0,!1)}function b(s,i,l,d){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function D(s,i,l,d){if(i===null||typeof i>"u"||b(s,i,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function I(s,i,l,d,g,v,T){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=d,this.attributeNamespace=g,this.mustUseProperty=l,this.propertyName=s,this.type=i,this.sanitizeURL=v,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new I(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];R[i]=new I(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new I(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new I(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new I(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new I(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new I(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new I(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new I(s,5,!1,s.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(j,L);R[i]=new I(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(j,L);R[i]=new I(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(j,L);R[i]=new I(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new I(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,i,l,d){var g=R.hasOwnProperty(i)?R[i]:null;(g!==null?g.type!==0:d||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(D(i,l,g,d)&&(l=null),d||g===null?E(i)&&(l===null?s.removeAttribute(i):s.setAttribute(i,""+l)):g.mustUseProperty?s[g.propertyName]=l===null?g.type===3?!1:"":l:(i=g.attributeName,d=g.attributeNamespace,l===null?s.removeAttribute(i):(g=g.type,l=g===3||g===4&&l===!0?"":""+l,d?s.setAttributeNS(d,i,l):s.setAttribute(i,l))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),J=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),H=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=H&&s[H]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Object.assign,$;function Z(s){if($===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);$=i&&i[1]||""}return`
`+$+s}var ie=!1;function he(s,i){if(!s||ie)return"";ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(K){var d=K}Reflect.construct(s,[],i)}else{try{i.call()}catch(K){d=K}s.call(i.prototype)}else{try{throw Error()}catch(K){d=K}s()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),v=d.stack.split(`
`),T=g.length-1,O=v.length-1;1<=T&&0<=O&&g[T]!==v[O];)O--;for(;1<=T&&0<=O;T--,O--)if(g[T]!==v[O]){if(T!==1||O!==1)do if(T--,O--,0>O||g[T]!==v[O]){var F=`
`+g[T].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=T&&0<=O);break}}}finally{ie=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function ge(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=he(s.type,!1),s;case 11:return s=he(s.type.render,!1),s;case 1:return s=he(s.type,!0),s;default:return""}}function be(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case J:return"Portal";case P:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case U:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ae:return i=s.displayName||null,i!==null?i:be(s.type)||"Memo";case ae:i=s._payload,s=s._init;try{return be(s(i))}catch{}}return null}function ne(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(i);case 8:return i===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Re(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function De(s){var i=Re(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),d=""+s[i];if(!s.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,v=l.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return g.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(s,i,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function ze(s){s._valueTracker||(s._valueTracker=De(s))}function $e(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var l=i.getValue(),d="";return s&&(d=Re(s)?s.checked?"true":"false":s.value),s=d,s!==l?(i.setValue(s),!0):!1}function xt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function qt(s,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function kr(s,i){var l=i.defaultValue==null?"":i.defaultValue,d=i.checked!=null?i.checked:i.defaultChecked;l=fe(i.value!=null?i.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function On(s,i){i=i.checked,i!=null&&z(s,"checked",i,!1)}function en(s,i){On(s,i);var l=fe(i.value),d=i.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?rt(s,i.type,l):i.hasOwnProperty("defaultValue")&&rt(s,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Fs(s,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var d=i.type;if(!(d!=="submit"&&d!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,l||i===s.value||(s.value=i),s.defaultValue=i}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function rt(s,i,l){(i!=="number"||xt(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Et=Array.isArray;function jn(s,i,l,d){if(s=s.options,i){i={};for(var g=0;g<l.length;g++)i["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=i.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&d&&(s[l].defaultSelected=!0)}else{for(l=""+fe(l),i=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,d&&(s[g].defaultSelected=!0);return}i!==null||s[g].disabled||(i=s[g])}i!==null&&(i.selected=!0)}}function Ut(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Qn(s,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(t(92));if(Et(l)){if(1<l.length)throw Error(t(93));l=l[0]}i=l}i==null&&(i=""),l=i}s._wrapperState={initialValue:fe(l)}}function jo(s,i){var l=fe(i.value),d=fe(i.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),i.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function Nr(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Pr(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Us(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Pr(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var lr,zs=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,d,g){MSApp.execUnsafeLocalFunction(function(){return s(i,l,d,g)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Tn(s,i){if(i){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=i;return}}s.textContent=i}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ur=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(s){ur.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),cr[i]=cr[s]})});function Dr(s,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||cr.hasOwnProperty(s)&&cr[s]?(""+i).trim():i+"px"}function Bs(s,i){s=s.style;for(var l in i)if(i.hasOwnProperty(l)){var d=l.indexOf("--")===0,g=Dr(l,i[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,g):s[l]=g}}var $s=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sn(s,i){if(i){if($s[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Hs(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=null;function _n(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var dr=null,hr=null,ft=null;function Ws(s){if(s=Pl(s)){if(typeof dr!="function")throw Error(t(280));var i=s.stateNode;i&&(i=cu(i),dr(s.stateNode,s.type,i))}}function Oe(s){hr?ft?ft.push(s):ft=[s]:hr=s}function lt(){if(hr){var s=hr,i=ft;if(ft=hr=null,Ws(s),i)for(s=0;s<i.length;s++)Ws(i[s])}}function At(s,i){return s(i)}function Gt(){}var wn=!1;function bt(s,i,l){if(wn)return s(i,l);wn=!0;try{return At(s,i,l)}finally{wn=!1,(hr!==null||ft!==null)&&(Gt(),lt())}}function Pt(s,i){var l=s.stateNode;if(l===null)return null;var d=cu(l);if(d===null)return null;l=d[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(t(231,i,typeof l));return l}var Mn=!1;if(h)try{var Dt={};Object.defineProperty(Dt,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Dt,Dt),window.removeEventListener("test",Dt,Dt)}catch{Mn=!1}function cn(s,i,l,d,g,v,T,O,F){var K=Array.prototype.slice.call(arguments,3);try{i.apply(l,K)}catch(se){this.onError(se)}}var Xn=!1,Kt=null,Bi=!1,Jn=null,zc={onError:function(s){Xn=!0,Kt=s}};function Bc(s,i,l,d,g,v,T,O,F){Xn=!1,Kt=null,cn.apply(zc,arguments)}function ol(s,i,l,d,g,v,T,O,F){if(Bc.apply(this,arguments),Xn){if(Xn){var K=Kt;Xn=!1,Kt=null}else throw Error(t(198));Bi||(Bi=!0,Jn=K)}}function fr(s){var i=s,l=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(l=i.return),s=i.return;while(s)}return i.tag===3?l:null}function al(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function $c(s){if(fr(s)!==s)throw Error(t(188))}function Hc(s){var i=s.alternate;if(!i){if(i=fr(s),i===null)throw Error(t(188));return i!==s?null:s}for(var l=s,d=i;;){var g=l.return;if(g===null)break;var v=g.alternate;if(v===null){if(d=g.return,d!==null){l=d;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===l)return $c(g),s;if(v===d)return $c(g),i;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=g,d=v;else{for(var T=!1,O=g.child;O;){if(O===l){T=!0,l=g,d=v;break}if(O===d){T=!0,d=g,l=v;break}O=O.sibling}if(!T){for(O=v.child;O;){if(O===l){T=!0,l=v,d=g;break}if(O===d){T=!0,d=v,l=g;break}O=O.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?s:i}function Wc(s){return s=Hc(s),s!==null?$i(s):null}function $i(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=$i(s);if(i!==null)return i;s=s.sibling}return null}var ll=e.unstable_scheduleCallback,Mo=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,ds=e.unstable_requestPaint,pt=e.unstable_now,Oh=e.unstable_getCurrentPriorityLevel,Vo=e.unstable_ImmediatePriority,cl=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,ul=e.unstable_LowPriority,Lo=e.unstable_IdlePriority,qi=null,Vn=null;function qc(s){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(qi,s,void 0,(s.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:Gi,Or=Math.log,Zn=Math.LN2;function Gi(s){return s>>>=0,s===0?32:31-(Or(s)/Zn|0)|0}var jr=64,qs=4194304;function et(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function hs(s,i){var l=s.pendingLanes;if(l===0)return 0;var d=0,g=s.suspendedLanes,v=s.pingedLanes,T=l&268435455;if(T!==0){var O=T&~g;O!==0?d=et(O):(v&=T,v!==0&&(d=et(v)))}else T=l&~g,T!==0?d=et(T):v!==0&&(d=et(v));if(d===0)return 0;if(i!==0&&i!==d&&(i&g)===0&&(g=d&-d,v=i&-i,g>=v||g===16&&(v&4194240)!==0))return i;if((d&4)!==0&&(d|=l&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=d;0<i;)l=31-Ln(i),g=1<<l,d|=s[l],i&=~g;return d}function Ki(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qi(s,i){for(var l=s.suspendedLanes,d=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-Ln(v),O=1<<T,F=g[T];F===-1?((O&l)===0||(O&d)!==0)&&(g[T]=Ki(O,i)):F<=i&&(s.expiredLanes|=O),v&=~O}}function dl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function hl(){var s=jr;return jr<<=1,(jr&4194240)===0&&(jr=64),s}function fl(s){for(var i=[],l=0;31>l;l++)i.push(s);return i}function Yi(s,i,l){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ln(i),s[i]=l}function jh(s,i){var l=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var g=31-Ln(l),v=1<<g;i[g]=0,d[g]=-1,s[g]=-1,l&=~v}}function pl(s,i){var l=s.entangledLanes|=i;for(s=s.entanglements;l;){var d=31-Ln(l),g=1<<d;g&i|s[d]&i&&(s[d]|=i),l&=~g}}var Ke=0;function Mr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ml,Fo,gl,yl,vl,Vr=!1,Uo=[],Lr=null,Fr=null,tn=null,Xi=new Map,fs=new Map,Fn=[],Gc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gs(s,i){switch(s){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Xi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fs.delete(i.pointerId)}}function pr(s,i,l,d,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:i,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[g]},i!==null&&(i=Pl(i),i!==null&&Fo(i)),s):(s.eventSystemFlags|=d,i=s.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),s)}function Kc(s,i,l,d,g){switch(i){case"focusin":return Lr=pr(Lr,s,i,l,d,g),!0;case"dragenter":return Fr=pr(Fr,s,i,l,d,g),!0;case"mouseover":return tn=pr(tn,s,i,l,d,g),!0;case"pointerover":var v=g.pointerId;return Xi.set(v,pr(Xi.get(v)||null,s,i,l,d,g)),!0;case"gotpointercapture":return v=g.pointerId,fs.set(v,pr(fs.get(v)||null,s,i,l,d,g)),!0}return!1}function zo(s){var i=to(s.target);if(i!==null){var l=fr(i);if(l!==null){if(i=l.tag,i===13){if(i=al(l),i!==null){s.blockedOn=i,vl(s.priority,function(){gl(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ct(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var l=Bo(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Yn=d,l.target.dispatchEvent(d),Yn=null}else return i=Pl(l),i!==null&&Fo(i),s.blockedOn=l,!1;i.shift()}return!0}function Qc(s,i,l){ct(s)&&l.delete(i)}function Mh(){Vr=!1,Lr!==null&&ct(Lr)&&(Lr=null),Fr!==null&&ct(Fr)&&(Fr=null),tn!==null&&ct(tn)&&(tn=null),Xi.forEach(Qc),fs.forEach(Qc)}function Ks(s,i){s.blockedOn===i&&(s.blockedOn=null,Vr||(Vr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mh)))}function Qs(s){function i(g){return Ks(g,s)}if(0<Uo.length){Ks(Uo[0],s);for(var l=1;l<Uo.length;l++){var d=Uo[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Lr!==null&&Ks(Lr,s),Fr!==null&&Ks(Fr,s),tn!==null&&Ks(tn,s),Xi.forEach(i),fs.forEach(i),l=0;l<Fn.length;l++)d=Fn[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Fn.length&&(l=Fn[0],l.blockedOn===null);)zo(l),l.blockedOn===null&&Fn.shift()}var ps=Q.ReactCurrentBatchConfig,ms=!0;function Ur(s,i,l,d){var g=Ke,v=ps.transition;ps.transition=null;try{Ke=1,_l(s,i,l,d)}finally{Ke=g,ps.transition=v}}function Yc(s,i,l,d){var g=Ke,v=ps.transition;ps.transition=null;try{Ke=4,_l(s,i,l,d)}finally{Ke=g,ps.transition=v}}function _l(s,i,l,d){if(ms){var g=Bo(s,i,l,d);if(g===null)Gh(s,i,d,zr,l),Gs(s,d);else if(Kc(g,s,i,l,d))d.stopPropagation();else if(Gs(s,d),i&4&&-1<Gc.indexOf(s)){for(;g!==null;){var v=Pl(g);if(v!==null&&ml(v),v=Bo(s,i,l,d),v===null&&Gh(s,i,d,zr,l),v===g)break;g=v}g!==null&&d.stopPropagation()}else Gh(s,i,d,null,l)}}var zr=null;function Bo(s,i,l,d){if(zr=null,s=_n(d),s=to(s),s!==null)if(i=fr(s),i===null)s=null;else if(l=i.tag,l===13){if(s=al(i),s!==null)return s;s=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return zr=s,null}function $o(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oh()){case Vo:return 1;case cl:return 4;case Wi:case ul:return 16;case Lo:return 536870912;default:return 16}default:return 16}}var Un=null,Ho=null,gs=null;function Xc(){if(gs)return gs;var s,i=Ho,l=i.length,d,g="value"in Un?Un.value:Un.textContent,v=g.length;for(s=0;s<l&&i[s]===g[s];s++);var T=l-s;for(d=1;d<=T&&i[l-d]===g[v-d];d++);return gs=g.slice(s,1<d?1-d:void 0)}function Ji(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Br(){return!0}function wl(){return!1}function un(s){function i(l,d,g,v,T){this._reactName=l,this._targetInst=g,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Br:wl,this.isPropagationStopped=wl,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Br)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Br)},persist:function(){},isPersistent:Br}),i}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=un($r),Ys=oe({},$r,{view:0,detail:0}),Wo=un(Ys),qo,Go,zn,eo=oe({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fe,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zn&&(zn&&s.type==="mousemove"?(qo=s.screenX-zn.screenX,Go=s.screenY-zn.screenY):Go=qo=0,zn=s),qo)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),xl=un(eo),Jc=oe({},eo,{dataTransfer:0}),Zc=un(Jc),Ko=oe({},Ys,{relatedTarget:0}),nn=un(Ko),eu=oe({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=un(eu),Xs=oe({},$r,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),u=un(Xs),_=oe({},$r,{data:0}),x=un(_),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pe(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Y[s])?!!i[s]:!1}function Fe(){return pe}var Rt=oe({},Ys,{key:function(s){if(s.key){var i=A[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ji(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fe,charCode:function(s){return s.type==="keypress"?Ji(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ji(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),at=un(Rt),Ot=oe({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bn=un(Ot),ys=oe({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fe}),Hr=un(ys),Wr=oe({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qo=un(Wr),El=oe({},eo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),OS=un(El),jS=[9,13,27,32],Vh=h&&"CompositionEvent"in window,Tl=null;h&&"documentMode"in document&&(Tl=document.documentMode);var MS=h&&"TextEvent"in window&&!Tl,Fg=h&&(!Vh||Tl&&8<Tl&&11>=Tl),Ug=" ",zg=!1;function Bg(s,i){switch(s){case"keyup":return jS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yo=!1;function VS(s,i){switch(s){case"compositionend":return $g(i);case"keypress":return i.which!==32?null:(zg=!0,Ug);case"textInput":return s=i.data,s===Ug&&zg?null:s;default:return null}}function LS(s,i){if(Yo)return s==="compositionend"||!Vh&&Bg(s,i)?(s=Xc(),gs=Ho=Un=null,Yo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fg&&i.locale!=="ko"?null:i.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!FS[s.type]:i==="textarea"}function Wg(s,i,l,d){Oe(d),i=ou(i,"onChange"),0<i.length&&(l=new Zi("onChange","change",null,l,d),s.push({event:l,listeners:i}))}var Sl=null,Il=null;function US(s){cy(s,0)}function nu(s){var i=ta(s);if($e(i))return s}function zS(s,i){if(s==="change")return i}var qg=!1;if(h){var Lh;if(h){var Fh="oninput"in document;if(!Fh){var Gg=document.createElement("div");Gg.setAttribute("oninput","return;"),Fh=typeof Gg.oninput=="function"}Lh=Fh}else Lh=!1;qg=Lh&&(!document.documentMode||9<document.documentMode)}function Kg(){Sl&&(Sl.detachEvent("onpropertychange",Qg),Il=Sl=null)}function Qg(s){if(s.propertyName==="value"&&nu(Il)){var i=[];Wg(i,Il,s,_n(s)),bt(US,i)}}function BS(s,i,l){s==="focusin"?(Kg(),Sl=i,Il=l,Sl.attachEvent("onpropertychange",Qg)):s==="focusout"&&Kg()}function $S(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nu(Il)}function HS(s,i){if(s==="click")return nu(i)}function WS(s,i){if(s==="input"||s==="change")return nu(i)}function qS(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var mr=typeof Object.is=="function"?Object.is:qS;function bl(s,i){if(mr(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var l=Object.keys(s),d=Object.keys(i);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var g=l[d];if(!f.call(i,g)||!mr(s[g],i[g]))return!1}return!0}function Yg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xg(s,i){var l=Yg(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=i&&d>=i)return{node:l,offset:i-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Yg(l)}}function Jg(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Jg(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Zg(){for(var s=window,i=xt();i instanceof s.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)s=i.contentWindow;else break;i=xt(s.document)}return i}function Uh(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function GS(s){var i=Zg(),l=s.focusedElem,d=s.selectionRange;if(i!==l&&l&&l.ownerDocument&&Jg(l.ownerDocument.documentElement,l)){if(d!==null&&Uh(l)){if(i=d.start,s=d.end,s===void 0&&(s=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(s,l.value.length);else if(s=(i=l.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var g=l.textContent.length,v=Math.min(d.start,g);d=d.end===void 0?v:Math.min(d.end,g),!s.extend&&v>d&&(g=d,d=v,v=g),g=Xg(l,v);var T=Xg(l,d);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(i=i.createRange(),i.setStart(g.node,g.offset),s.removeAllRanges(),v>d?(s.addRange(i),s.extend(T.node,T.offset)):(i.setEnd(T.node,T.offset),s.addRange(i)))}}for(i=[],s=l;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)s=i[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var KS=h&&"documentMode"in document&&11>=document.documentMode,Xo=null,zh=null,Cl=null,Bh=!1;function ey(s,i,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bh||Xo==null||Xo!==xt(d)||(d=Xo,"selectionStart"in d&&Uh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Cl&&bl(Cl,d)||(Cl=d,d=ou(zh,"onSelect"),0<d.length&&(i=new Zi("onSelect","select",null,i,l),s.push({event:i,listeners:d}),i.target=Xo)))}function ru(s,i){var l={};return l[s.toLowerCase()]=i.toLowerCase(),l["Webkit"+s]="webkit"+i,l["Moz"+s]="moz"+i,l}var Jo={animationend:ru("Animation","AnimationEnd"),animationiteration:ru("Animation","AnimationIteration"),animationstart:ru("Animation","AnimationStart"),transitionend:ru("Transition","TransitionEnd")},$h={},ty={};h&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function su(s){if($h[s])return $h[s];if(!Jo[s])return s;var i=Jo[s],l;for(l in i)if(i.hasOwnProperty(l)&&l in ty)return $h[s]=i[l];return s}var ny=su("animationend"),ry=su("animationiteration"),sy=su("animationstart"),iy=su("transitionend"),oy=new Map,ay="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(s,i){oy.set(s,i),a(i,[s])}for(var Hh=0;Hh<ay.length;Hh++){var Wh=ay[Hh],QS=Wh.toLowerCase(),YS=Wh[0].toUpperCase()+Wh.slice(1);Js(QS,"on"+YS)}Js(ny,"onAnimationEnd"),Js(ry,"onAnimationIteration"),Js(sy,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(iy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Al));function ly(s,i,l){var d=s.type||"unknown-event";s.currentTarget=l,ol(d,i,void 0,s),s.currentTarget=null}function cy(s,i){i=(i&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],g=d.event;d=d.listeners;e:{var v=void 0;if(i)for(var T=d.length-1;0<=T;T--){var O=d[T],F=O.instance,K=O.currentTarget;if(O=O.listener,F!==v&&g.isPropagationStopped())break e;ly(g,O,K),v=F}else for(T=0;T<d.length;T++){if(O=d[T],F=O.instance,K=O.currentTarget,O=O.listener,F!==v&&g.isPropagationStopped())break e;ly(g,O,K),v=F}}}if(Bi)throw s=Jn,Bi=!1,Jn=null,s}function mt(s,i){var l=i[Zh];l===void 0&&(l=i[Zh]=new Set);var d=s+"__bubble";l.has(d)||(uy(i,s,2,!1),l.add(d))}function qh(s,i,l){var d=0;i&&(d|=4),uy(l,s,d,i)}var iu="_reactListening"+Math.random().toString(36).slice(2);function Rl(s){if(!s[iu]){s[iu]=!0,r.forEach(function(l){l!=="selectionchange"&&(XS.has(l)||qh(l,!1,s),qh(l,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[iu]||(i[iu]=!0,qh("selectionchange",!1,i))}}function uy(s,i,l,d){switch($o(i)){case 1:var g=Ur;break;case 4:g=Yc;break;default:g=_l}l=g.bind(null,i,l,s),g=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),d?g!==void 0?s.addEventListener(i,l,{capture:!0,passive:g}):s.addEventListener(i,l,!0):g!==void 0?s.addEventListener(i,l,{passive:g}):s.addEventListener(i,l,!1)}function Gh(s,i,l,d,g){var v=d;if((i&1)===0&&(i&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var O=d.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(T===4)for(T=d.return;T!==null;){var F=T.tag;if((F===3||F===4)&&(F=T.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;T=T.return}for(;O!==null;){if(T=to(O),T===null)return;if(F=T.tag,F===5||F===6){d=v=T;continue e}O=O.parentNode}}d=d.return}bt(function(){var K=v,se=_n(l),le=[];e:{var re=oy.get(s);if(re!==void 0){var ye=Zi,Ee=s;switch(s){case"keypress":if(Ji(l)===0)break e;case"keydown":case"keyup":ye=at;break;case"focusin":Ee="focus",ye=nn;break;case"focusout":Ee="blur",ye=nn;break;case"beforeblur":case"afterblur":ye=nn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=Hr;break;case ny:case ry:case sy:ye=tu;break;case iy:ye=Qo;break;case"scroll":ye=Wo;break;case"wheel":ye=OS;break;case"copy":case"cut":case"paste":ye=u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Bn}var Ie=(i&4)!==0,kt=!Ie&&s==="scroll",W=Ie?re!==null?re+"Capture":null:re;Ie=[];for(var B=K,G;B!==null;){G=B;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,W!==null&&(ue=Pt(B,W),ue!=null&&Ie.push(kl(B,ue,G)))),kt)break;B=B.return}0<Ie.length&&(re=new ye(re,Ee,null,l,se),le.push({event:re,listeners:Ie}))}}if((i&7)===0){e:{if(re=s==="mouseover"||s==="pointerover",ye=s==="mouseout"||s==="pointerout",re&&l!==Yn&&(Ee=l.relatedTarget||l.fromElement)&&(to(Ee)||Ee[vs]))break e;if((ye||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,ye?(Ee=l.relatedTarget||l.toElement,ye=K,Ee=Ee?to(Ee):null,Ee!==null&&(kt=fr(Ee),Ee!==kt||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(ye=null,Ee=K),ye!==Ee)){if(Ie=xl,ue="onMouseLeave",W="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=Bn,ue="onPointerLeave",W="onPointerEnter",B="pointer"),kt=ye==null?re:ta(ye),G=Ee==null?re:ta(Ee),re=new Ie(ue,B+"leave",ye,l,se),re.target=kt,re.relatedTarget=G,ue=null,to(se)===K&&(Ie=new Ie(W,B+"enter",Ee,l,se),Ie.target=G,Ie.relatedTarget=kt,ue=Ie),kt=ue,ye&&Ee)t:{for(Ie=ye,W=Ee,B=0,G=Ie;G;G=Zo(G))B++;for(G=0,ue=W;ue;ue=Zo(ue))G++;for(;0<B-G;)Ie=Zo(Ie),B--;for(;0<G-B;)W=Zo(W),G--;for(;B--;){if(Ie===W||W!==null&&Ie===W.alternate)break t;Ie=Zo(Ie),W=Zo(W)}Ie=null}else Ie=null;ye!==null&&dy(le,re,ye,Ie,!1),Ee!==null&&kt!==null&&dy(le,kt,Ee,Ie,!0)}}e:{if(re=K?ta(K):window,ye=re.nodeName&&re.nodeName.toLowerCase(),ye==="select"||ye==="input"&&re.type==="file")var Ce=zS;else if(Hg(re))if(qg)Ce=WS;else{Ce=$S;var Ne=BS}else(ye=re.nodeName)&&ye.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(Ce=HS);if(Ce&&(Ce=Ce(s,K))){Wg(le,Ce,l,se);break e}Ne&&Ne(s,re,K),s==="focusout"&&(Ne=re._wrapperState)&&Ne.controlled&&re.type==="number"&&rt(re,"number",re.value)}switch(Ne=K?ta(K):window,s){case"focusin":(Hg(Ne)||Ne.contentEditable==="true")&&(Xo=Ne,zh=K,Cl=null);break;case"focusout":Cl=zh=Xo=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,ey(le,l,se);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":ey(le,l,se)}var Pe;if(Vh)e:{switch(s){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Yo?Bg(s,l)&&(Ve="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(Fg&&l.locale!=="ko"&&(Yo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Yo&&(Pe=Xc()):(Un=se,Ho="value"in Un?Un.value:Un.textContent,Yo=!0)),Ne=ou(K,Ve),0<Ne.length&&(Ve=new x(Ve,s,null,l,se),le.push({event:Ve,listeners:Ne}),Pe?Ve.data=Pe:(Pe=$g(l),Pe!==null&&(Ve.data=Pe)))),(Pe=MS?VS(s,l):LS(s,l))&&(K=ou(K,"onBeforeInput"),0<K.length&&(se=new x("onBeforeInput","beforeinput",null,l,se),le.push({event:se,listeners:K}),se.data=Pe))}cy(le,i)})}function kl(s,i,l){return{instance:s,listener:i,currentTarget:l}}function ou(s,i){for(var l=i+"Capture",d=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Pt(s,l),v!=null&&d.unshift(kl(s,v,g)),v=Pt(s,i),v!=null&&d.push(kl(s,v,g))),s=s.return}return d}function Zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function dy(s,i,l,d,g){for(var v=i._reactName,T=[];l!==null&&l!==d;){var O=l,F=O.alternate,K=O.stateNode;if(F!==null&&F===d)break;O.tag===5&&K!==null&&(O=K,g?(F=Pt(l,v),F!=null&&T.unshift(kl(l,F,O))):g||(F=Pt(l,v),F!=null&&T.push(kl(l,F,O)))),l=l.return}T.length!==0&&s.push({event:i,listeners:T})}var JS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function hy(s){return(typeof s=="string"?s:""+s).replace(JS,`
`).replace(ZS,"")}function au(s,i,l){if(i=hy(i),hy(s)!==i&&l)throw Error(t(425))}function lu(){}var Kh=null,Qh=null;function Yh(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,eI=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,tI=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(s){return fy.resolve(null).then(s).catch(nI)}:Xh;function nI(s){setTimeout(function(){throw s})}function Jh(s,i){var l=i,d=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(d===0){s.removeChild(g),Qs(i);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=g}while(l);Qs(i)}function Zs(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function py(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return s;i--}else l==="/$"&&i++}s=s.previousSibling}return null}var ea=Math.random().toString(36).slice(2),qr="__reactFiber$"+ea,Nl="__reactProps$"+ea,vs="__reactContainer$"+ea,Zh="__reactEvents$"+ea,rI="__reactListeners$"+ea,sI="__reactHandles$"+ea;function to(s){var i=s[qr];if(i)return i;for(var l=s.parentNode;l;){if(i=l[vs]||l[qr]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(s=py(s);s!==null;){if(l=s[qr])return l;s=py(s)}return i}s=l,l=s.parentNode}return null}function Pl(s){return s=s[qr]||s[vs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ta(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function cu(s){return s[Nl]||null}var ef=[],na=-1;function ei(s){return{current:s}}function gt(s){0>na||(s.current=ef[na],ef[na]=null,na--)}function dt(s,i){na++,ef[na]=s.current,s.current=i}var ti={},dn=ei(ti),In=ei(!1),no=ti;function ra(s,i){var l=s.type.contextTypes;if(!l)return ti;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===i)return d.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in l)g[v]=i[v];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function uu(){gt(In),gt(dn)}function my(s,i,l){if(dn.current!==ti)throw Error(t(168));dt(dn,i),dt(In,l)}function gy(s,i,l){var d=s.stateNode;if(i=i.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var g in d)if(!(g in i))throw Error(t(108,ne(s)||"Unknown",g));return oe({},l,d)}function du(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ti,no=dn.current,dt(dn,s),dt(In,In.current),!0}function yy(s,i,l){var d=s.stateNode;if(!d)throw Error(t(169));l?(s=gy(s,i,no),d.__reactInternalMemoizedMergedChildContext=s,gt(In),gt(dn),dt(dn,s)):gt(In),dt(In,l)}var _s=null,hu=!1,tf=!1;function vy(s){_s===null?_s=[s]:_s.push(s)}function iI(s){hu=!0,vy(s)}function ni(){if(!tf&&_s!==null){tf=!0;var s=0,i=Ke;try{var l=_s;for(Ke=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}_s=null,hu=!1}catch(g){throw _s!==null&&(_s=_s.slice(s+1)),ll(Vo,ni),g}finally{Ke=i,tf=!1}}return null}var sa=[],ia=0,fu=null,pu=0,er=[],tr=0,ro=null,ws=1,xs="";function so(s,i){sa[ia++]=pu,sa[ia++]=fu,fu=s,pu=i}function _y(s,i,l){er[tr++]=ws,er[tr++]=xs,er[tr++]=ro,ro=s;var d=ws;s=xs;var g=32-Ln(d)-1;d&=~(1<<g),l+=1;var v=32-Ln(i)+g;if(30<v){var T=g-g%5;v=(d&(1<<T)-1).toString(32),d>>=T,g-=T,ws=1<<32-Ln(i)+g|l<<g|d,xs=v+s}else ws=1<<v|l<<g|d,xs=s}function nf(s){s.return!==null&&(so(s,1),_y(s,1,0))}function rf(s){for(;s===fu;)fu=sa[--ia],sa[ia]=null,pu=sa[--ia],sa[ia]=null;for(;s===ro;)ro=er[--tr],er[tr]=null,xs=er[--tr],er[tr]=null,ws=er[--tr],er[tr]=null}var $n=null,Hn=null,vt=!1,gr=null;function wy(s,i){var l=ir(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=s,i=s.deletions,i===null?(s.deletions=[l],s.flags|=16):i.push(l)}function xy(s,i){switch(s.tag){case 5:var l=s.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,$n=s,Hn=Zs(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,$n=s,Hn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ro!==null?{id:ws,overflow:xs}:null,s.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=ir(18,null,null,0),l.stateNode=i,l.return=s,s.child=l,$n=s,Hn=null,!0):!1;default:return!1}}function sf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function of(s){if(vt){var i=Hn;if(i){var l=i;if(!xy(s,i)){if(sf(s))throw Error(t(418));i=Zs(l.nextSibling);var d=$n;i&&xy(s,i)?wy(d,l):(s.flags=s.flags&-4097|2,vt=!1,$n=s)}}else{if(sf(s))throw Error(t(418));s.flags=s.flags&-4097|2,vt=!1,$n=s}}}function Ey(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;$n=s}function mu(s){if(s!==$n)return!1;if(!vt)return Ey(s),vt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Yh(s.type,s.memoizedProps)),i&&(i=Hn)){if(sf(s))throw Ty(),Error(t(418));for(;i;)wy(s,i),i=Zs(i.nextSibling)}if(Ey(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(i===0){Hn=Zs(s.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}s=s.nextSibling}Hn=null}}else Hn=$n?Zs(s.stateNode.nextSibling):null;return!0}function Ty(){for(var s=Hn;s;)s=Zs(s.nextSibling)}function oa(){Hn=$n=null,vt=!1}function af(s){gr===null?gr=[s]:gr.push(s)}var oI=Q.ReactCurrentBatchConfig;function Dl(s,i,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,s));var g=d,v=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(T){var O=g.refs;T===null?delete O[v]:O[v]=T},i._stringRef=v,i)}if(typeof s!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,s))}return s}function gu(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Sy(s){var i=s._init;return i(s._payload)}function Iy(s){function i(W,B){if(s){var G=W.deletions;G===null?(W.deletions=[B],W.flags|=16):G.push(B)}}function l(W,B){if(!s)return null;for(;B!==null;)i(W,B),B=B.sibling;return null}function d(W,B){for(W=new Map;B!==null;)B.key!==null?W.set(B.key,B):W.set(B.index,B),B=B.sibling;return W}function g(W,B){return W=ui(W,B),W.index=0,W.sibling=null,W}function v(W,B,G){return W.index=G,s?(G=W.alternate,G!==null?(G=G.index,G<B?(W.flags|=2,B):G):(W.flags|=2,B)):(W.flags|=1048576,B)}function T(W){return s&&W.alternate===null&&(W.flags|=2),W}function O(W,B,G,ue){return B===null||B.tag!==6?(B=Jf(G,W.mode,ue),B.return=W,B):(B=g(B,G),B.return=W,B)}function F(W,B,G,ue){var Ce=G.type;return Ce===k?se(W,B,G.props.children,ue,G.key):B!==null&&(B.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&Sy(Ce)===B.type)?(ue=g(B,G.props),ue.ref=Dl(W,B,G),ue.return=W,ue):(ue=Uu(G.type,G.key,G.props,null,W.mode,ue),ue.ref=Dl(W,B,G),ue.return=W,ue)}function K(W,B,G,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Zf(G,W.mode,ue),B.return=W,B):(B=g(B,G.children||[]),B.return=W,B)}function se(W,B,G,ue,Ce){return B===null||B.tag!==7?(B=fo(G,W.mode,ue,Ce),B.return=W,B):(B=g(B,G),B.return=W,B)}function le(W,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Jf(""+B,W.mode,G),B.return=W,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case X:return G=Uu(B.type,B.key,B.props,null,W.mode,G),G.ref=Dl(W,null,B),G.return=W,G;case J:return B=Zf(B,W.mode,G),B.return=W,B;case ae:var ue=B._init;return le(W,ue(B._payload),G)}if(Et(B)||ce(B))return B=fo(B,W.mode,G,null),B.return=W,B;gu(W,B)}return null}function re(W,B,G,ue){var Ce=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ce!==null?null:O(W,B,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return G.key===Ce?F(W,B,G,ue):null;case J:return G.key===Ce?K(W,B,G,ue):null;case ae:return Ce=G._init,re(W,B,Ce(G._payload),ue)}if(Et(G)||ce(G))return Ce!==null?null:se(W,B,G,ue,null);gu(W,G)}return null}function ye(W,B,G,ue,Ce){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return W=W.get(G)||null,O(B,W,""+ue,Ce);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case X:return W=W.get(ue.key===null?G:ue.key)||null,F(B,W,ue,Ce);case J:return W=W.get(ue.key===null?G:ue.key)||null,K(B,W,ue,Ce);case ae:var Ne=ue._init;return ye(W,B,G,Ne(ue._payload),Ce)}if(Et(ue)||ce(ue))return W=W.get(G)||null,se(B,W,ue,Ce,null);gu(B,ue)}return null}function Ee(W,B,G,ue){for(var Ce=null,Ne=null,Pe=B,Ve=B=0,Xt=null;Pe!==null&&Ve<G.length;Ve++){Pe.index>Ve?(Xt=Pe,Pe=null):Xt=Pe.sibling;var Ze=re(W,Pe,G[Ve],ue);if(Ze===null){Pe===null&&(Pe=Xt);break}s&&Pe&&Ze.alternate===null&&i(W,Pe),B=v(Ze,B,Ve),Ne===null?Ce=Ze:Ne.sibling=Ze,Ne=Ze,Pe=Xt}if(Ve===G.length)return l(W,Pe),vt&&so(W,Ve),Ce;if(Pe===null){for(;Ve<G.length;Ve++)Pe=le(W,G[Ve],ue),Pe!==null&&(B=v(Pe,B,Ve),Ne===null?Ce=Pe:Ne.sibling=Pe,Ne=Pe);return vt&&so(W,Ve),Ce}for(Pe=d(W,Pe);Ve<G.length;Ve++)Xt=ye(Pe,W,Ve,G[Ve],ue),Xt!==null&&(s&&Xt.alternate!==null&&Pe.delete(Xt.key===null?Ve:Xt.key),B=v(Xt,B,Ve),Ne===null?Ce=Xt:Ne.sibling=Xt,Ne=Xt);return s&&Pe.forEach(function(di){return i(W,di)}),vt&&so(W,Ve),Ce}function Ie(W,B,G,ue){var Ce=ce(G);if(typeof Ce!="function")throw Error(t(150));if(G=Ce.call(G),G==null)throw Error(t(151));for(var Ne=Ce=null,Pe=B,Ve=B=0,Xt=null,Ze=G.next();Pe!==null&&!Ze.done;Ve++,Ze=G.next()){Pe.index>Ve?(Xt=Pe,Pe=null):Xt=Pe.sibling;var di=re(W,Pe,Ze.value,ue);if(di===null){Pe===null&&(Pe=Xt);break}s&&Pe&&di.alternate===null&&i(W,Pe),B=v(di,B,Ve),Ne===null?Ce=di:Ne.sibling=di,Ne=di,Pe=Xt}if(Ze.done)return l(W,Pe),vt&&so(W,Ve),Ce;if(Pe===null){for(;!Ze.done;Ve++,Ze=G.next())Ze=le(W,Ze.value,ue),Ze!==null&&(B=v(Ze,B,Ve),Ne===null?Ce=Ze:Ne.sibling=Ze,Ne=Ze);return vt&&so(W,Ve),Ce}for(Pe=d(W,Pe);!Ze.done;Ve++,Ze=G.next())Ze=ye(Pe,W,Ve,Ze.value,ue),Ze!==null&&(s&&Ze.alternate!==null&&Pe.delete(Ze.key===null?Ve:Ze.key),B=v(Ze,B,Ve),Ne===null?Ce=Ze:Ne.sibling=Ze,Ne=Ze);return s&&Pe.forEach(function(FI){return i(W,FI)}),vt&&so(W,Ve),Ce}function kt(W,B,G,ue){if(typeof G=="object"&&G!==null&&G.type===k&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case X:e:{for(var Ce=G.key,Ne=B;Ne!==null;){if(Ne.key===Ce){if(Ce=G.type,Ce===k){if(Ne.tag===7){l(W,Ne.sibling),B=g(Ne,G.props.children),B.return=W,W=B;break e}}else if(Ne.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===ae&&Sy(Ce)===Ne.type){l(W,Ne.sibling),B=g(Ne,G.props),B.ref=Dl(W,Ne,G),B.return=W,W=B;break e}l(W,Ne);break}else i(W,Ne);Ne=Ne.sibling}G.type===k?(B=fo(G.props.children,W.mode,ue,G.key),B.return=W,W=B):(ue=Uu(G.type,G.key,G.props,null,W.mode,ue),ue.ref=Dl(W,B,G),ue.return=W,W=ue)}return T(W);case J:e:{for(Ne=G.key;B!==null;){if(B.key===Ne)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(W,B.sibling),B=g(B,G.children||[]),B.return=W,W=B;break e}else{l(W,B);break}else i(W,B);B=B.sibling}B=Zf(G,W.mode,ue),B.return=W,W=B}return T(W);case ae:return Ne=G._init,kt(W,B,Ne(G._payload),ue)}if(Et(G))return Ee(W,B,G,ue);if(ce(G))return Ie(W,B,G,ue);gu(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,B!==null&&B.tag===6?(l(W,B.sibling),B=g(B,G),B.return=W,W=B):(l(W,B),B=Jf(G,W.mode,ue),B.return=W,W=B),T(W)):l(W,B)}return kt}var aa=Iy(!0),by=Iy(!1),yu=ei(null),vu=null,la=null,lf=null;function cf(){lf=la=vu=null}function uf(s){var i=yu.current;gt(yu),s._currentValue=i}function df(s,i,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,d!==null&&(d.childLanes|=i)):d!==null&&(d.childLanes&i)!==i&&(d.childLanes|=i),s===l)break;s=s.return}}function ca(s,i){vu=s,lf=la=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Cn=!0),s.firstContext=null)}function nr(s){var i=s._currentValue;if(lf!==s)if(s={context:s,memoizedValue:i,next:null},la===null){if(vu===null)throw Error(t(308));la=s,vu.dependencies={lanes:0,firstContext:s}}else la=la.next=s;return i}var io=null;function hf(s){io===null?io=[s]:io.push(s)}function Cy(s,i,l,d){var g=i.interleaved;return g===null?(l.next=l,hf(i)):(l.next=g.next,g.next=l),i.interleaved=l,Es(s,d)}function Es(s,i){s.lanes|=i;var l=s.alternate;for(l!==null&&(l.lanes|=i),l=s,s=s.return;s!==null;)s.childLanes|=i,l=s.alternate,l!==null&&(l.childLanes|=i),l=s,s=s.return;return l.tag===3?l.stateNode:null}var ri=!1;function ff(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ay(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ts(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function si(s,i,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Je&2)!==0){var g=d.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),d.pending=i,Es(s,l)}return g=d.interleaved,g===null?(i.next=i,hf(d)):(i.next=g.next,g.next=i),d.interleaved=i,Es(s,l)}function _u(s,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,pl(s,l)}}function Ry(s,i){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var g=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?g=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?g=v=i:v=v.next=i}else g=v=i;l={baseState:d.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=i:s.next=i,l.lastBaseUpdate=i}function wu(s,i,l,d){var g=s.updateQueue;ri=!1;var v=g.firstBaseUpdate,T=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var F=O,K=F.next;F.next=null,T===null?v=K:T.next=K,T=F;var se=s.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==T&&(O===null?se.firstBaseUpdate=K:O.next=K,se.lastBaseUpdate=F))}if(v!==null){var le=g.baseState;T=0,se=K=F=null,O=v;do{var re=O.lane,ye=O.eventTime;if((d&re)===re){se!==null&&(se=se.next={eventTime:ye,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ee=s,Ie=O;switch(re=i,ye=l,Ie.tag){case 1:if(Ee=Ie.payload,typeof Ee=="function"){le=Ee.call(ye,le,re);break e}le=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ie.payload,re=typeof Ee=="function"?Ee.call(ye,le,re):Ee,re==null)break e;le=oe({},le,re);break e;case 2:ri=!0}}O.callback!==null&&O.lane!==0&&(s.flags|=64,re=g.effects,re===null?g.effects=[O]:re.push(O))}else ye={eventTime:ye,lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(K=se=ye,F=le):se=se.next=ye,T|=re;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;re=O,O=re.next,re.next=null,g.lastBaseUpdate=re,g.shared.pending=null}}while(!0);if(se===null&&(F=le),g.baseState=F,g.firstBaseUpdate=K,g.lastBaseUpdate=se,i=g.shared.interleaved,i!==null){g=i;do T|=g.lane,g=g.next;while(g!==i)}else v===null&&(g.shared.lanes=0);lo|=T,s.lanes=T,s.memoizedState=le}}function ky(s,i,l){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var d=s[i],g=d.callback;if(g!==null){if(d.callback=null,d=l,typeof g!="function")throw Error(t(191,g));g.call(d)}}}var Ol={},Gr=ei(Ol),jl=ei(Ol),Ml=ei(Ol);function oo(s){if(s===Ol)throw Error(t(174));return s}function pf(s,i){switch(dt(Ml,i),dt(jl,s),dt(Gr,Ol),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Us(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Us(i,s)}gt(Gr),dt(Gr,i)}function ua(){gt(Gr),gt(jl),gt(Ml)}function Ny(s){oo(Ml.current);var i=oo(Gr.current),l=Us(i,s.type);i!==l&&(dt(jl,s),dt(Gr,l))}function mf(s){jl.current===s&&(gt(Gr),gt(jl))}var Tt=ei(0);function xu(s){for(var i=s;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gf=[];function yf(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var Eu=Q.ReactCurrentDispatcher,vf=Q.ReactCurrentBatchConfig,ao=0,St=null,zt=null,Qt=null,Tu=!1,Vl=!1,Ll=0,aI=0;function hn(){throw Error(t(321))}function _f(s,i){if(i===null)return!1;for(var l=0;l<i.length&&l<s.length;l++)if(!mr(s[l],i[l]))return!1;return!0}function wf(s,i,l,d,g,v){if(ao=v,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Eu.current=s===null||s.memoizedState===null?dI:hI,s=l(d,g),Vl){v=0;do{if(Vl=!1,Ll=0,25<=v)throw Error(t(301));v+=1,Qt=zt=null,i.updateQueue=null,Eu.current=fI,s=l(d,g)}while(Vl)}if(Eu.current=bu,i=zt!==null&&zt.next!==null,ao=0,Qt=zt=St=null,Tu=!1,i)throw Error(t(300));return s}function xf(){var s=Ll!==0;return Ll=0,s}function Kr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?St.memoizedState=Qt=s:Qt=Qt.next=s,Qt}function rr(){if(zt===null){var s=St.alternate;s=s!==null?s.memoizedState:null}else s=zt.next;var i=Qt===null?St.memoizedState:Qt.next;if(i!==null)Qt=i,zt=s;else{if(s===null)throw Error(t(310));zt=s,s={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Qt===null?St.memoizedState=Qt=s:Qt=Qt.next=s}return Qt}function Fl(s,i){return typeof i=="function"?i(s):i}function Ef(s){var i=rr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=zt,g=d.baseQueue,v=l.pending;if(v!==null){if(g!==null){var T=g.next;g.next=v.next,v.next=T}d.baseQueue=g=v,l.pending=null}if(g!==null){v=g.next,d=d.baseState;var O=T=null,F=null,K=v;do{var se=K.lane;if((ao&se)===se)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:s(d,K.action);else{var le={lane:se,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(O=F=le,T=d):F=F.next=le,St.lanes|=se,lo|=se}K=K.next}while(K!==null&&K!==v);F===null?T=d:F.next=O,mr(d,i.memoizedState)||(Cn=!0),i.memoizedState=d,i.baseState=T,i.baseQueue=F,l.lastRenderedState=d}if(s=l.interleaved,s!==null){g=s;do v=g.lane,St.lanes|=v,lo|=v,g=g.next;while(g!==s)}else g===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Tf(s){var i=rr(),l=i.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=s;var d=l.dispatch,g=l.pending,v=i.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do v=s(v,T.action),T=T.next;while(T!==g);mr(v,i.memoizedState)||(Cn=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,d]}function Py(){}function Dy(s,i){var l=St,d=rr(),g=i(),v=!mr(d.memoizedState,g);if(v&&(d.memoizedState=g,Cn=!0),d=d.queue,Sf(My.bind(null,l,d,s),[s]),d.getSnapshot!==i||v||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,Ul(9,jy.bind(null,l,d,g,i),void 0,null),Yt===null)throw Error(t(349));(ao&30)!==0||Oy(l,i,g)}return g}function Oy(s,i,l){s.flags|=16384,s={getSnapshot:i,value:l},i=St.updateQueue,i===null?(i={lastEffect:null,stores:null},St.updateQueue=i,i.stores=[s]):(l=i.stores,l===null?i.stores=[s]:l.push(s))}function jy(s,i,l,d){i.value=l,i.getSnapshot=d,Vy(i)&&Ly(s)}function My(s,i,l){return l(function(){Vy(i)&&Ly(s)})}function Vy(s){var i=s.getSnapshot;s=s.value;try{var l=i();return!mr(s,l)}catch{return!0}}function Ly(s){var i=Es(s,1);i!==null&&wr(i,s,1,-1)}function Fy(s){var i=Kr();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:s},i.queue=s,s=s.dispatch=uI.bind(null,St,s),[i.memoizedState,s]}function Ul(s,i,l,d){return s={tag:s,create:i,destroy:l,deps:d,next:null},i=St.updateQueue,i===null?(i={lastEffect:null,stores:null},St.updateQueue=i,i.lastEffect=s.next=s):(l=i.lastEffect,l===null?i.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,i.lastEffect=s)),s}function Uy(){return rr().memoizedState}function Su(s,i,l,d){var g=Kr();St.flags|=s,g.memoizedState=Ul(1|i,l,void 0,d===void 0?null:d)}function Iu(s,i,l,d){var g=rr();d=d===void 0?null:d;var v=void 0;if(zt!==null){var T=zt.memoizedState;if(v=T.destroy,d!==null&&_f(d,T.deps)){g.memoizedState=Ul(i,l,v,d);return}}St.flags|=s,g.memoizedState=Ul(1|i,l,v,d)}function zy(s,i){return Su(8390656,8,s,i)}function Sf(s,i){return Iu(2048,8,s,i)}function By(s,i){return Iu(4,2,s,i)}function $y(s,i){return Iu(4,4,s,i)}function Hy(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function Wy(s,i,l){return l=l!=null?l.concat([s]):null,Iu(4,4,Hy.bind(null,i,s),l)}function If(){}function qy(s,i){var l=rr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&_f(i,d[1])?d[0]:(l.memoizedState=[s,i],s)}function Gy(s,i){var l=rr();i=i===void 0?null:i;var d=l.memoizedState;return d!==null&&i!==null&&_f(i,d[1])?d[0]:(s=s(),l.memoizedState=[s,i],s)}function Ky(s,i,l){return(ao&21)===0?(s.baseState&&(s.baseState=!1,Cn=!0),s.memoizedState=l):(mr(l,i)||(l=hl(),St.lanes|=l,lo|=l,s.baseState=!0),i)}function lI(s,i){var l=Ke;Ke=l!==0&&4>l?l:4,s(!0);var d=vf.transition;vf.transition={};try{s(!1),i()}finally{Ke=l,vf.transition=d}}function Qy(){return rr().memoizedState}function cI(s,i,l){var d=li(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Yy(s))Xy(i,l);else if(l=Cy(s,i,l,d),l!==null){var g=En();wr(l,s,d,g),Jy(l,i,d)}}function uI(s,i,l){var d=li(s),g={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yy(s))Xy(i,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var T=i.lastRenderedState,O=v(T,l);if(g.hasEagerState=!0,g.eagerState=O,mr(O,T)){var F=i.interleaved;F===null?(g.next=g,hf(i)):(g.next=F.next,F.next=g),i.interleaved=g;return}}catch{}finally{}l=Cy(s,i,g,d),l!==null&&(g=En(),wr(l,s,d,g),Jy(l,i,d))}}function Yy(s){var i=s.alternate;return s===St||i!==null&&i===St}function Xy(s,i){Vl=Tu=!0;var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}function Jy(s,i,l){if((l&4194240)!==0){var d=i.lanes;d&=s.pendingLanes,l|=d,i.lanes=l,pl(s,l)}}var bu={readContext:nr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},dI={readContext:nr,useCallback:function(s,i){return Kr().memoizedState=[s,i===void 0?null:i],s},useContext:nr,useEffect:zy,useImperativeHandle:function(s,i,l){return l=l!=null?l.concat([s]):null,Su(4194308,4,Hy.bind(null,i,s),l)},useLayoutEffect:function(s,i){return Su(4194308,4,s,i)},useInsertionEffect:function(s,i){return Su(4,2,s,i)},useMemo:function(s,i){var l=Kr();return i=i===void 0?null:i,s=s(),l.memoizedState=[s,i],s},useReducer:function(s,i,l){var d=Kr();return i=l!==void 0?l(i):i,d.memoizedState=d.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},d.queue=s,s=s.dispatch=cI.bind(null,St,s),[d.memoizedState,s]},useRef:function(s){var i=Kr();return s={current:s},i.memoizedState=s},useState:Fy,useDebugValue:If,useDeferredValue:function(s){return Kr().memoizedState=s},useTransition:function(){var s=Fy(!1),i=s[0];return s=lI.bind(null,s[1]),Kr().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,l){var d=St,g=Kr();if(vt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=i(),Yt===null)throw Error(t(349));(ao&30)!==0||Oy(d,i,l)}g.memoizedState=l;var v={value:l,getSnapshot:i};return g.queue=v,zy(My.bind(null,d,v,s),[s]),d.flags|=2048,Ul(9,jy.bind(null,d,v,l,i),void 0,null),l},useId:function(){var s=Kr(),i=Yt.identifierPrefix;if(vt){var l=xs,d=ws;l=(d&~(1<<32-Ln(d)-1)).toString(32)+l,i=":"+i+"R"+l,l=Ll++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=aI++,i=":"+i+"r"+l.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},hI={readContext:nr,useCallback:qy,useContext:nr,useEffect:Sf,useImperativeHandle:Wy,useInsertionEffect:By,useLayoutEffect:$y,useMemo:Gy,useReducer:Ef,useRef:Uy,useState:function(){return Ef(Fl)},useDebugValue:If,useDeferredValue:function(s){var i=rr();return Ky(i,zt.memoizedState,s)},useTransition:function(){var s=Ef(Fl)[0],i=rr().memoizedState;return[s,i]},useMutableSource:Py,useSyncExternalStore:Dy,useId:Qy,unstable_isNewReconciler:!1},fI={readContext:nr,useCallback:qy,useContext:nr,useEffect:Sf,useImperativeHandle:Wy,useInsertionEffect:By,useLayoutEffect:$y,useMemo:Gy,useReducer:Tf,useRef:Uy,useState:function(){return Tf(Fl)},useDebugValue:If,useDeferredValue:function(s){var i=rr();return zt===null?i.memoizedState=s:Ky(i,zt.memoizedState,s)},useTransition:function(){var s=Tf(Fl)[0],i=rr().memoizedState;return[s,i]},useMutableSource:Py,useSyncExternalStore:Dy,useId:Qy,unstable_isNewReconciler:!1};function yr(s,i){if(s&&s.defaultProps){i=oe({},i),s=s.defaultProps;for(var l in s)i[l]===void 0&&(i[l]=s[l]);return i}return i}function bf(s,i,l,d){i=s.memoizedState,l=l(d,i),l=l==null?i:oe({},i,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Cu={isMounted:function(s){return(s=s._reactInternals)?fr(s)===s:!1},enqueueSetState:function(s,i,l){s=s._reactInternals;var d=En(),g=li(s),v=Ts(d,g);v.payload=i,l!=null&&(v.callback=l),i=si(s,v,g),i!==null&&(wr(i,s,g,d),_u(i,s,g))},enqueueReplaceState:function(s,i,l){s=s._reactInternals;var d=En(),g=li(s),v=Ts(d,g);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=si(s,v,g),i!==null&&(wr(i,s,g,d),_u(i,s,g))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var l=En(),d=li(s),g=Ts(l,d);g.tag=2,i!=null&&(g.callback=i),i=si(s,g,d),i!==null&&(wr(i,s,d,l),_u(i,s,d))}};function Zy(s,i,l,d,g,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,v,T):i.prototype&&i.prototype.isPureReactComponent?!bl(l,d)||!bl(g,v):!0}function ev(s,i,l){var d=!1,g=ti,v=i.contextType;return typeof v=="object"&&v!==null?v=nr(v):(g=bn(i)?no:dn.current,d=i.contextTypes,v=(d=d!=null)?ra(s,g):ti),i=new i(l,v),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cu,s.stateNode=i,i._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),i}function tv(s,i,l,d){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,d),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,d),i.state!==s&&Cu.enqueueReplaceState(i,i.state,null)}function Cf(s,i,l,d){var g=s.stateNode;g.props=l,g.state=s.memoizedState,g.refs={},ff(s);var v=i.contextType;typeof v=="object"&&v!==null?g.context=nr(v):(v=bn(i)?no:dn.current,g.context=ra(s,v)),g.state=s.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(bf(s,i,v,l),g.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(i=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),i!==g.state&&Cu.enqueueReplaceState(g,g.state,null),wu(s,l,g,d),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function da(s,i){try{var l="",d=i;do l+=ge(d),d=d.return;while(d);var g=l}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:i,stack:g,digest:null}}function Af(s,i,l){return{value:s,source:null,stack:l??null,digest:i??null}}function Rf(s,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var pI=typeof WeakMap=="function"?WeakMap:Map;function nv(s,i,l){l=Ts(-1,l),l.tag=3,l.payload={element:null};var d=i.value;return l.callback=function(){Ou||(Ou=!0,Hf=d),Rf(s,i)},l}function rv(s,i,l){l=Ts(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var g=i.value;l.payload=function(){return d(g)},l.callback=function(){Rf(s,i)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Rf(s,i),typeof d!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var T=i.stack;this.componentDidCatch(i.value,{componentStack:T!==null?T:""})}),l}function sv(s,i,l){var d=s.pingCache;if(d===null){d=s.pingCache=new pI;var g=new Set;d.set(i,g)}else g=d.get(i),g===void 0&&(g=new Set,d.set(i,g));g.has(l)||(g.add(l),s=AI.bind(null,s,i,l),i.then(s,s))}function iv(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function ov(s,i,l,d,g){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=Ts(-1,1),i.tag=2,si(l,i,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var mI=Q.ReactCurrentOwner,Cn=!1;function xn(s,i,l,d){i.child=s===null?by(i,null,l,d):aa(i,s.child,l,d)}function av(s,i,l,d,g){l=l.render;var v=i.ref;return ca(i,g),d=wf(s,i,l,d,v,g),l=xf(),s!==null&&!Cn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Ss(s,i,g)):(vt&&l&&nf(i),i.flags|=1,xn(s,i,d,g),i.child)}function lv(s,i,l,d,g){if(s===null){var v=l.type;return typeof v=="function"&&!Xf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,cv(s,i,v,d,g)):(s=Uu(l.type,null,d,i,i.mode,g),s.ref=i.ref,s.return=i,i.child=s)}if(v=s.child,(s.lanes&g)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(T,d)&&s.ref===i.ref)return Ss(s,i,g)}return i.flags|=1,s=ui(v,d),s.ref=i.ref,s.return=i,i.child=s}function cv(s,i,l,d,g){if(s!==null){var v=s.memoizedProps;if(bl(v,d)&&s.ref===i.ref)if(Cn=!1,i.pendingProps=d=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Cn=!0);else return i.lanes=s.lanes,Ss(s,i,g)}return kf(s,i,l,d,g)}function uv(s,i,l){var d=i.pendingProps,g=d.children,v=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(fa,Wn),Wn|=l;else{if((l&1073741824)===0)return s=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,dt(fa,Wn),Wn|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,dt(fa,Wn),Wn|=d}else v!==null?(d=v.baseLanes|l,i.memoizedState=null):d=l,dt(fa,Wn),Wn|=d;return xn(s,i,g,l),i.child}function dv(s,i){var l=i.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function kf(s,i,l,d,g){var v=bn(l)?no:dn.current;return v=ra(i,v),ca(i,g),l=wf(s,i,l,d,v,g),d=xf(),s!==null&&!Cn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~g,Ss(s,i,g)):(vt&&d&&nf(i),i.flags|=1,xn(s,i,l,g),i.child)}function hv(s,i,l,d,g){if(bn(l)){var v=!0;du(i)}else v=!1;if(ca(i,g),i.stateNode===null)Ru(s,i),ev(i,l,d),Cf(i,l,d,g),d=!0;else if(s===null){var T=i.stateNode,O=i.memoizedProps;T.props=O;var F=T.context,K=l.contextType;typeof K=="object"&&K!==null?K=nr(K):(K=bn(l)?no:dn.current,K=ra(i,K));var se=l.getDerivedStateFromProps,le=typeof se=="function"||typeof T.getSnapshotBeforeUpdate=="function";le||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==d||F!==K)&&tv(i,T,d,K),ri=!1;var re=i.memoizedState;T.state=re,wu(i,d,T,g),F=i.memoizedState,O!==d||re!==F||In.current||ri?(typeof se=="function"&&(bf(i,l,se,d),F=i.memoizedState),(O=ri||Zy(i,l,O,d,re,F,K))?(le||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=d,i.memoizedState=F),T.props=d,T.state=F,T.context=K,d=O):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),d=!1)}else{T=i.stateNode,Ay(s,i),O=i.memoizedProps,K=i.type===i.elementType?O:yr(i.type,O),T.props=K,le=i.pendingProps,re=T.context,F=l.contextType,typeof F=="object"&&F!==null?F=nr(F):(F=bn(l)?no:dn.current,F=ra(i,F));var ye=l.getDerivedStateFromProps;(se=typeof ye=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==le||re!==F)&&tv(i,T,d,F),ri=!1,re=i.memoizedState,T.state=re,wu(i,d,T,g);var Ee=i.memoizedState;O!==le||re!==Ee||In.current||ri?(typeof ye=="function"&&(bf(i,l,ye,d),Ee=i.memoizedState),(K=ri||Zy(i,l,K,d,re,Ee,F)||!1)?(se||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,Ee,F),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,Ee,F)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),i.memoizedProps=d,i.memoizedState=Ee),T.props=d,T.state=Ee,T.context=F,d=K):(typeof T.componentDidUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&re===s.memoizedState||(i.flags|=1024),d=!1)}return Nf(s,i,l,d,v,g)}function Nf(s,i,l,d,g,v){dv(s,i);var T=(i.flags&128)!==0;if(!d&&!T)return g&&yy(i,l,!1),Ss(s,i,v);d=i.stateNode,mI.current=i;var O=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return i.flags|=1,s!==null&&T?(i.child=aa(i,s.child,null,v),i.child=aa(i,null,O,v)):xn(s,i,O,v),i.memoizedState=d.state,g&&yy(i,l,!0),i.child}function fv(s){var i=s.stateNode;i.pendingContext?my(s,i.pendingContext,i.pendingContext!==i.context):i.context&&my(s,i.context,!1),pf(s,i.containerInfo)}function pv(s,i,l,d,g){return oa(),af(g),i.flags|=256,xn(s,i,l,d),i.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Df(s){return{baseLanes:s,cachePool:null,transitions:null}}function mv(s,i,l){var d=i.pendingProps,g=Tt.current,v=!1,T=(i.flags&128)!==0,O;if((O=T)||(O=s!==null&&s.memoizedState===null?!1:(g&2)!==0),O?(v=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),dt(Tt,g&1),s===null)return of(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(T=d.children,s=d.fallback,v?(d=i.mode,v=i.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=zu(T,d,0,null),s=fo(s,d,l,null),v.return=i,s.return=i,v.sibling=s,i.child=v,i.child.memoizedState=Df(l),i.memoizedState=Pf,s):Of(i,T));if(g=s.memoizedState,g!==null&&(O=g.dehydrated,O!==null))return gI(s,i,T,d,O,g,l);if(v){v=d.fallback,T=i.mode,g=s.child,O=g.sibling;var F={mode:"hidden",children:d.children};return(T&1)===0&&i.child!==g?(d=i.child,d.childLanes=0,d.pendingProps=F,i.deletions=null):(d=ui(g,F),d.subtreeFlags=g.subtreeFlags&14680064),O!==null?v=ui(O,v):(v=fo(v,T,l,null),v.flags|=2),v.return=i,d.return=i,d.sibling=v,i.child=d,d=v,v=i.child,T=s.child.memoizedState,T=T===null?Df(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~l,i.memoizedState=Pf,d}return v=s.child,s=v.sibling,d=ui(v,{mode:"visible",children:d.children}),(i.mode&1)===0&&(d.lanes=l),d.return=i,d.sibling=null,s!==null&&(l=i.deletions,l===null?(i.deletions=[s],i.flags|=16):l.push(s)),i.child=d,i.memoizedState=null,d}function Of(s,i){return i=zu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Au(s,i,l,d){return d!==null&&af(d),aa(i,s.child,null,l),s=Of(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function gI(s,i,l,d,g,v,T){if(l)return i.flags&256?(i.flags&=-257,d=Af(Error(t(422))),Au(s,i,T,d)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(v=d.fallback,g=i.mode,d=zu({mode:"visible",children:d.children},g,0,null),v=fo(v,g,T,null),v.flags|=2,d.return=i,v.return=i,d.sibling=v,i.child=d,(i.mode&1)!==0&&aa(i,s.child,null,T),i.child.memoizedState=Df(T),i.memoizedState=Pf,v);if((i.mode&1)===0)return Au(s,i,T,null);if(g.data==="$!"){if(d=g.nextSibling&&g.nextSibling.dataset,d)var O=d.dgst;return d=O,v=Error(t(419)),d=Af(v,d,void 0),Au(s,i,T,d)}if(O=(T&s.childLanes)!==0,Cn||O){if(d=Yt,d!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(d.suspendedLanes|T))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Es(s,g),wr(d,s,g,-1))}return Yf(),d=Af(Error(t(421))),Au(s,i,T,d)}return g.data==="$?"?(i.flags|=128,i.child=s.child,i=RI.bind(null,s),g._reactRetry=i,null):(s=v.treeContext,Hn=Zs(g.nextSibling),$n=i,vt=!0,gr=null,s!==null&&(er[tr++]=ws,er[tr++]=xs,er[tr++]=ro,ws=s.id,xs=s.overflow,ro=i),i=Of(i,d.children),i.flags|=4096,i)}function gv(s,i,l){s.lanes|=i;var d=s.alternate;d!==null&&(d.lanes|=i),df(s.return,i,l)}function jf(s,i,l,d,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:g}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=g)}function yv(s,i,l){var d=i.pendingProps,g=d.revealOrder,v=d.tail;if(xn(s,i,d.children,l),d=Tt.current,(d&2)!==0)d=d&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gv(s,l,i);else if(s.tag===19)gv(s,l,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(dt(Tt,d),(i.mode&1)===0)i.memoizedState=null;else switch(g){case"forwards":for(l=i.child,g=null;l!==null;)s=l.alternate,s!==null&&xu(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=i.child,i.child=null):(g=l.sibling,l.sibling=null),jf(i,!1,g,l,v);break;case"backwards":for(l=null,g=i.child,i.child=null;g!==null;){if(s=g.alternate,s!==null&&xu(s)===null){i.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}jf(i,!0,l,null,v);break;case"together":jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ru(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Ss(s,i,l){if(s!==null&&(i.dependencies=s.dependencies),lo|=i.lanes,(l&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,l=ui(s,s.pendingProps),i.child=l,l.return=i;s.sibling!==null;)s=s.sibling,l=l.sibling=ui(s,s.pendingProps),l.return=i;l.sibling=null}return i.child}function yI(s,i,l){switch(i.tag){case 3:fv(i),oa();break;case 5:Ny(i);break;case 1:bn(i.type)&&du(i);break;case 4:pf(i,i.stateNode.containerInfo);break;case 10:var d=i.type._context,g=i.memoizedProps.value;dt(yu,d._currentValue),d._currentValue=g;break;case 13:if(d=i.memoizedState,d!==null)return d.dehydrated!==null?(dt(Tt,Tt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?mv(s,i,l):(dt(Tt,Tt.current&1),s=Ss(s,i,l),s!==null?s.sibling:null);dt(Tt,Tt.current&1);break;case 19:if(d=(l&i.childLanes)!==0,(s.flags&128)!==0){if(d)return yv(s,i,l);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),dt(Tt,Tt.current),d)break;return null;case 22:case 23:return i.lanes=0,uv(s,i,l)}return Ss(s,i,l)}var vv,Mf,_v,wv;vv=function(s,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Mf=function(){},_v=function(s,i,l,d){var g=s.memoizedProps;if(g!==d){s=i.stateNode,oo(Gr.current);var v=null;switch(l){case"input":g=qt(s,g),d=qt(s,d),v=[];break;case"select":g=oe({},g,{value:void 0}),d=oe({},d,{value:void 0}),v=[];break;case"textarea":g=Ut(s,g),d=Ut(s,d),v=[];break;default:typeof g.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=lu)}Sn(l,d);var T;l=null;for(K in g)if(!d.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var O=g[K];for(T in O)O.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(o.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var F=d[K];if(O=g?.[K],d.hasOwnProperty(K)&&F!==O&&(F!=null||O!=null))if(K==="style")if(O){for(T in O)!O.hasOwnProperty(T)||F&&F.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in F)F.hasOwnProperty(T)&&O[T]!==F[T]&&(l||(l={}),l[T]=F[T])}else l||(v||(v=[]),v.push(K,l)),l=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,O=O?O.__html:void 0,F!=null&&O!==F&&(v=v||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(v=v||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(o.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&mt("scroll",s),v||O===F||(v=[])):(v=v||[]).push(K,F))}l&&(v=v||[]).push("style",l);var K=v;(i.updateQueue=K)&&(i.flags|=4)}},wv=function(s,i,l,d){l!==d&&(i.flags|=4)};function zl(s,i){if(!vt)switch(s.tailMode){case"hidden":i=s.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function fn(s){var i=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(i)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags&14680064,d|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,d|=g.subtreeFlags,d|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=d,s.childLanes=l,i}function vI(s,i,l){var d=i.pendingProps;switch(rf(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(i),null;case 1:return bn(i.type)&&uu(),fn(i),null;case 3:return d=i.stateNode,ua(),gt(In),gt(dn),yf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(mu(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gr!==null&&(Gf(gr),gr=null))),Mf(s,i),fn(i),null;case 5:mf(i);var g=oo(Ml.current);if(l=i.type,s!==null&&i.stateNode!=null)_v(s,i,l,d,g),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!d){if(i.stateNode===null)throw Error(t(166));return fn(i),null}if(s=oo(Gr.current),mu(i)){d=i.stateNode,l=i.type;var v=i.memoizedProps;switch(d[qr]=i,d[Nl]=v,s=(i.mode&1)!==0,l){case"dialog":mt("cancel",d),mt("close",d);break;case"iframe":case"object":case"embed":mt("load",d);break;case"video":case"audio":for(g=0;g<Al.length;g++)mt(Al[g],d);break;case"source":mt("error",d);break;case"img":case"image":case"link":mt("error",d),mt("load",d);break;case"details":mt("toggle",d);break;case"input":kr(d,v),mt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},mt("invalid",d);break;case"textarea":Qn(d,v),mt("invalid",d)}Sn(l,v),g=null;for(var T in v)if(v.hasOwnProperty(T)){var O=v[T];T==="children"?typeof O=="string"?d.textContent!==O&&(v.suppressHydrationWarning!==!0&&au(d.textContent,O,s),g=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&au(d.textContent,O,s),g=["children",""+O]):o.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&mt("scroll",d)}switch(l){case"input":ze(d),Fs(d,v,!0);break;case"textarea":ze(d),Nr(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=lu)}d=g,i.updateQueue=d,d!==null&&(i.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pr(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=T.createElement(l,{is:d.is}):(s=T.createElement(l),l==="select"&&(T=s,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):s=T.createElementNS(s,l),s[qr]=i,s[Nl]=d,vv(s,i,!1,!1),i.stateNode=s;e:{switch(T=Hs(l,d),l){case"dialog":mt("cancel",s),mt("close",s),g=d;break;case"iframe":case"object":case"embed":mt("load",s),g=d;break;case"video":case"audio":for(g=0;g<Al.length;g++)mt(Al[g],s);g=d;break;case"source":mt("error",s),g=d;break;case"img":case"image":case"link":mt("error",s),mt("load",s),g=d;break;case"details":mt("toggle",s),g=d;break;case"input":kr(s,d),g=qt(s,d),mt("invalid",s);break;case"option":g=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},g=oe({},d,{value:void 0}),mt("invalid",s);break;case"textarea":Qn(s,d),g=Ut(s,d),mt("invalid",s);break;default:g=d}Sn(l,g),O=g;for(v in O)if(O.hasOwnProperty(v)){var F=O[v];v==="style"?Bs(s,F):v==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&zs(s,F)):v==="children"?typeof F=="string"?(l!=="textarea"||F!=="")&&Tn(s,F):typeof F=="number"&&Tn(s,""+F):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?F!=null&&v==="onScroll"&&mt("scroll",s):F!=null&&z(s,v,F,T))}switch(l){case"input":ze(s),Fs(s,d,!1);break;case"textarea":ze(s),Nr(s);break;case"option":d.value!=null&&s.setAttribute("value",""+fe(d.value));break;case"select":s.multiple=!!d.multiple,v=d.value,v!=null?jn(s,!!d.multiple,v,!1):d.defaultValue!=null&&jn(s,!!d.multiple,d.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=lu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return fn(i),null;case 6:if(s&&i.stateNode!=null)wv(s,i,s.memoizedProps,d);else{if(typeof d!="string"&&i.stateNode===null)throw Error(t(166));if(l=oo(Ml.current),oo(Gr.current),mu(i)){if(d=i.stateNode,l=i.memoizedProps,d[qr]=i,(v=d.nodeValue!==l)&&(s=$n,s!==null))switch(s.tag){case 3:au(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&au(d.nodeValue,l,(s.mode&1)!==0)}v&&(i.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[qr]=i,i.stateNode=d}return fn(i),null;case 13:if(gt(Tt),d=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(vt&&Hn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ty(),oa(),i.flags|=98560,v=!1;else if(v=mu(i),d!==null&&d.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[qr]=i}else oa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;fn(i),v=!1}else gr!==null&&(Gf(gr),gr=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Tt.current&1)!==0?Bt===0&&(Bt=3):Yf())),i.updateQueue!==null&&(i.flags|=4),fn(i),null);case 4:return ua(),Mf(s,i),s===null&&Rl(i.stateNode.containerInfo),fn(i),null;case 10:return uf(i.type._context),fn(i),null;case 17:return bn(i.type)&&uu(),fn(i),null;case 19:if(gt(Tt),v=i.memoizedState,v===null)return fn(i),null;if(d=(i.flags&128)!==0,T=v.rendering,T===null)if(d)zl(v,!1);else{if(Bt!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(T=xu(s),T!==null){for(i.flags|=128,zl(v,!1),d=T.updateQueue,d!==null&&(i.updateQueue=d,i.flags|=4),i.subtreeFlags=0,d=l,l=i.child;l!==null;)v=l,s=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return dt(Tt,Tt.current&1|2),i.child}s=s.sibling}v.tail!==null&&pt()>pa&&(i.flags|=128,d=!0,zl(v,!1),i.lanes=4194304)}else{if(!d)if(s=xu(T),s!==null){if(i.flags|=128,d=!0,l=s.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),zl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!vt)return fn(i),null}else 2*pt()-v.renderingStartTime>pa&&l!==1073741824&&(i.flags|=128,d=!0,zl(v,!1),i.lanes=4194304);v.isBackwards?(T.sibling=i.child,i.child=T):(l=v.last,l!==null?l.sibling=T:i.child=T,v.last=T)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=pt(),i.sibling=null,l=Tt.current,dt(Tt,d?l&1|2:l&1),i):(fn(i),null);case 22:case 23:return Qf(),d=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(i.flags|=8192),d&&(i.mode&1)!==0?(Wn&1073741824)!==0&&(fn(i),i.subtreeFlags&6&&(i.flags|=8192)):fn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function _I(s,i){switch(rf(i),i.tag){case 1:return bn(i.type)&&uu(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ua(),gt(In),gt(dn),yf(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return mf(i),null;case 13:if(gt(Tt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));oa()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return gt(Tt),null;case 4:return ua(),null;case 10:return uf(i.type._context),null;case 22:case 23:return Qf(),null;case 24:return null;default:return null}}var ku=!1,pn=!1,wI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ha(s,i){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ct(s,i,d)}else l.current=null}function Vf(s,i,l){try{l()}catch(d){Ct(s,i,d)}}var xv=!1;function xI(s,i){if(Kh=ms,s=Zg(),Uh(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var g=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,O=-1,F=-1,K=0,se=0,le=s,re=null;t:for(;;){for(var ye;le!==l||g!==0&&le.nodeType!==3||(O=T+g),le!==v||d!==0&&le.nodeType!==3||(F=T+d),le.nodeType===3&&(T+=le.nodeValue.length),(ye=le.firstChild)!==null;)re=le,le=ye;for(;;){if(le===s)break t;if(re===l&&++K===g&&(O=T),re===v&&++se===d&&(F=T),(ye=le.nextSibling)!==null)break;le=re,re=le.parentNode}le=ye}l=O===-1||F===-1?null:{start:O,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qh={focusedElem:s,selectionRange:l},ms=!1,xe=i;xe!==null;)if(i=xe,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,xe=s;else for(;xe!==null;){i=xe;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ie=Ee.memoizedProps,kt=Ee.memoizedState,W=i.stateNode,B=W.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:yr(i.type,Ie),kt);W.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var G=i.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){Ct(i,i.return,ue)}if(s=i.sibling,s!==null){s.return=i.return,xe=s;break}xe=i.return}return Ee=xv,xv=!1,Ee}function Bl(s,i,l){var d=i.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var g=d=d.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&Vf(i,l,v)}g=g.next}while(g!==d)}}function Nu(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==i)}}function Lf(s){var i=s.ref;if(i!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof i=="function"?i(s):i.current=s}}function Ev(s){var i=s.alternate;i!==null&&(s.alternate=null,Ev(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[qr],delete i[Nl],delete i[Zh],delete i[rI],delete i[sI])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Tv(s){return s.tag===5||s.tag===3||s.tag===4}function Sv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Tv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ff(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(s,i):l.insertBefore(s,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(s,l)):(i=l,i.appendChild(s)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=lu));else if(d!==4&&(s=s.child,s!==null))for(Ff(s,i,l),s=s.sibling;s!==null;)Ff(s,i,l),s=s.sibling}function Uf(s,i,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,i?l.insertBefore(s,i):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(Uf(s,i,l),s=s.sibling;s!==null;)Uf(s,i,l),s=s.sibling}var rn=null,vr=!1;function ii(s,i,l){for(l=l.child;l!==null;)Iv(s,i,l),l=l.sibling}function Iv(s,i,l){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(qi,l)}catch{}switch(l.tag){case 5:pn||ha(l,i);case 6:var d=rn,g=vr;rn=null,ii(s,i,l),rn=d,vr=g,rn!==null&&(vr?(s=rn,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):rn.removeChild(l.stateNode));break;case 18:rn!==null&&(vr?(s=rn,l=l.stateNode,s.nodeType===8?Jh(s.parentNode,l):s.nodeType===1&&Jh(s,l),Qs(s)):Jh(rn,l.stateNode));break;case 4:d=rn,g=vr,rn=l.stateNode.containerInfo,vr=!0,ii(s,i,l),rn=d,vr=g;break;case 0:case 11:case 14:case 15:if(!pn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){g=d=d.next;do{var v=g,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Vf(l,i,T),g=g.next}while(g!==d)}ii(s,i,l);break;case 1:if(!pn&&(ha(l,i),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){Ct(l,i,O)}ii(s,i,l);break;case 21:ii(s,i,l);break;case 22:l.mode&1?(pn=(d=pn)||l.memoizedState!==null,ii(s,i,l),pn=d):ii(s,i,l);break;default:ii(s,i,l)}}function bv(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new wI),i.forEach(function(d){var g=kI.bind(null,s,d);l.has(d)||(l.add(d),d.then(g,g))})}}function _r(s,i){var l=i.deletions;if(l!==null)for(var d=0;d<l.length;d++){var g=l[d];try{var v=s,T=i,O=T;e:for(;O!==null;){switch(O.tag){case 5:rn=O.stateNode,vr=!1;break e;case 3:rn=O.stateNode.containerInfo,vr=!0;break e;case 4:rn=O.stateNode.containerInfo,vr=!0;break e}O=O.return}if(rn===null)throw Error(t(160));Iv(v,T,g),rn=null,vr=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(K){Ct(g,i,K)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Cv(i,s),i=i.sibling}function Cv(s,i){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(_r(i,s),Qr(s),d&4){try{Bl(3,s,s.return),Nu(3,s)}catch(Ie){Ct(s,s.return,Ie)}try{Bl(5,s,s.return)}catch(Ie){Ct(s,s.return,Ie)}}break;case 1:_r(i,s),Qr(s),d&512&&l!==null&&ha(l,l.return);break;case 5:if(_r(i,s),Qr(s),d&512&&l!==null&&ha(l,l.return),s.flags&32){var g=s.stateNode;try{Tn(g,"")}catch(Ie){Ct(s,s.return,Ie)}}if(d&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,T=l!==null?l.memoizedProps:v,O=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&On(g,v),Hs(O,T);var K=Hs(O,v);for(T=0;T<F.length;T+=2){var se=F[T],le=F[T+1];se==="style"?Bs(g,le):se==="dangerouslySetInnerHTML"?zs(g,le):se==="children"?Tn(g,le):z(g,se,le,K)}switch(O){case"input":en(g,v);break;case"textarea":jo(g,v);break;case"select":var re=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var ye=v.value;ye!=null?jn(g,!!v.multiple,ye,!1):re!==!!v.multiple&&(v.defaultValue!=null?jn(g,!!v.multiple,v.defaultValue,!0):jn(g,!!v.multiple,v.multiple?[]:"",!1))}g[Nl]=v}catch(Ie){Ct(s,s.return,Ie)}}break;case 6:if(_r(i,s),Qr(s),d&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(Ie){Ct(s,s.return,Ie)}}break;case 3:if(_r(i,s),Qr(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Qs(i.containerInfo)}catch(Ie){Ct(s,s.return,Ie)}break;case 4:_r(i,s),Qr(s);break;case 13:_r(i,s),Qr(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||($f=pt())),d&4&&bv(s);break;case 22:if(se=l!==null&&l.memoizedState!==null,s.mode&1?(pn=(K=pn)||se,_r(i,s),pn=K):_r(i,s),Qr(s),d&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!se&&(s.mode&1)!==0)for(xe=s,se=s.child;se!==null;){for(le=xe=se;xe!==null;){switch(re=xe,ye=re.child,re.tag){case 0:case 11:case 14:case 15:Bl(4,re,re.return);break;case 1:ha(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){d=re,l=re.return;try{i=d,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(Ie){Ct(d,l,Ie)}}break;case 5:ha(re,re.return);break;case 22:if(re.memoizedState!==null){kv(le);continue}}ye!==null?(ye.return=re,xe=ye):kv(le)}se=se.sibling}e:for(se=null,le=s;;){if(le.tag===5){if(se===null){se=le;try{g=le.stateNode,K?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=le.stateNode,F=le.memoizedProps.style,T=F!=null&&F.hasOwnProperty("display")?F.display:null,O.style.display=Dr("display",T))}catch(Ie){Ct(s,s.return,Ie)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=K?"":le.memoizedProps}catch(Ie){Ct(s,s.return,Ie)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===s)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===s)break e;for(;le.sibling===null;){if(le.return===null||le.return===s)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:_r(i,s),Qr(s),d&4&&bv(s);break;case 21:break;default:_r(i,s),Qr(s)}}function Qr(s){var i=s.flags;if(i&2){try{e:{for(var l=s.return;l!==null;){if(Tv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var g=d.stateNode;d.flags&32&&(Tn(g,""),d.flags&=-33);var v=Sv(s);Uf(s,v,g);break;case 3:case 4:var T=d.stateNode.containerInfo,O=Sv(s);Ff(s,O,T);break;default:throw Error(t(161))}}catch(F){Ct(s,s.return,F)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function EI(s,i,l){xe=s,Av(s)}function Av(s,i,l){for(var d=(s.mode&1)!==0;xe!==null;){var g=xe,v=g.child;if(g.tag===22&&d){var T=g.memoizedState!==null||ku;if(!T){var O=g.alternate,F=O!==null&&O.memoizedState!==null||pn;O=ku;var K=pn;if(ku=T,(pn=F)&&!K)for(xe=g;xe!==null;)T=xe,F=T.child,T.tag===22&&T.memoizedState!==null?Nv(g):F!==null?(F.return=T,xe=F):Nv(g);for(;v!==null;)xe=v,Av(v),v=v.sibling;xe=g,ku=O,pn=K}Rv(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,xe=v):Rv(s)}}function Rv(s){for(;xe!==null;){var i=xe;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:pn||Nu(5,i);break;case 1:var d=i.stateNode;if(i.flags&4&&!pn)if(l===null)d.componentDidMount();else{var g=i.elementType===i.type?l.memoizedProps:yr(i.type,l.memoizedProps);d.componentDidUpdate(g,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&ky(i,v,d);break;case 3:var T=i.updateQueue;if(T!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ky(i,T,l)}break;case 5:var O=i.stateNode;if(l===null&&i.flags&4){l=O;var F=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&l.focus();break;case"img":F.src&&(l.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var K=i.alternate;if(K!==null){var se=K.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&Qs(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}pn||i.flags&512&&Lf(i)}catch(re){Ct(i,i.return,re)}}if(i===s){xe=null;break}if(l=i.sibling,l!==null){l.return=i.return,xe=l;break}xe=i.return}}function kv(s){for(;xe!==null;){var i=xe;if(i===s){xe=null;break}var l=i.sibling;if(l!==null){l.return=i.return,xe=l;break}xe=i.return}}function Nv(s){for(;xe!==null;){var i=xe;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Nu(4,i)}catch(F){Ct(i,l,F)}break;case 1:var d=i.stateNode;if(typeof d.componentDidMount=="function"){var g=i.return;try{d.componentDidMount()}catch(F){Ct(i,g,F)}}var v=i.return;try{Lf(i)}catch(F){Ct(i,v,F)}break;case 5:var T=i.return;try{Lf(i)}catch(F){Ct(i,T,F)}}}catch(F){Ct(i,i.return,F)}if(i===s){xe=null;break}var O=i.sibling;if(O!==null){O.return=i.return,xe=O;break}xe=i.return}}var TI=Math.ceil,Pu=Q.ReactCurrentDispatcher,zf=Q.ReactCurrentOwner,sr=Q.ReactCurrentBatchConfig,Je=0,Yt=null,jt=null,sn=0,Wn=0,fa=ei(0),Bt=0,$l=null,lo=0,Du=0,Bf=0,Hl=null,An=null,$f=0,pa=1/0,Is=null,Ou=!1,Hf=null,oi=null,ju=!1,ai=null,Mu=0,Wl=0,Wf=null,Vu=-1,Lu=0;function En(){return(Je&6)!==0?pt():Vu!==-1?Vu:Vu=pt()}function li(s){return(s.mode&1)===0?1:(Je&2)!==0&&sn!==0?sn&-sn:oI.transition!==null?(Lu===0&&(Lu=hl()),Lu):(s=Ke,s!==0||(s=window.event,s=s===void 0?16:$o(s.type)),s)}function wr(s,i,l,d){if(50<Wl)throw Wl=0,Wf=null,Error(t(185));Yi(s,l,d),((Je&2)===0||s!==Yt)&&(s===Yt&&((Je&2)===0&&(Du|=l),Bt===4&&ci(s,sn)),Rn(s,d),l===1&&Je===0&&(i.mode&1)===0&&(pa=pt()+500,hu&&ni()))}function Rn(s,i){var l=s.callbackNode;Qi(s,i);var d=hs(s,s===Yt?sn:0);if(d===0)l!==null&&Mo(l),s.callbackNode=null,s.callbackPriority=0;else if(i=d&-d,s.callbackPriority!==i){if(l!=null&&Mo(l),i===1)s.tag===0?iI(Dv.bind(null,s)):vy(Dv.bind(null,s)),tI(function(){(Je&6)===0&&ni()}),l=null;else{switch(Mr(d)){case 1:l=Vo;break;case 4:l=cl;break;case 16:l=Wi;break;case 536870912:l=Lo;break;default:l=Wi}l=zv(l,Pv.bind(null,s))}s.callbackPriority=i,s.callbackNode=l}}function Pv(s,i){if(Vu=-1,Lu=0,(Je&6)!==0)throw Error(t(327));var l=s.callbackNode;if(ma()&&s.callbackNode!==l)return null;var d=hs(s,s===Yt?sn:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||i)i=Fu(s,d);else{i=d;var g=Je;Je|=2;var v=jv();(Yt!==s||sn!==i)&&(Is=null,pa=pt()+500,uo(s,i));do try{bI();break}catch(O){Ov(s,O)}while(!0);cf(),Pu.current=v,Je=g,jt!==null?i=0:(Yt=null,sn=0,i=Bt)}if(i!==0){if(i===2&&(g=dl(s),g!==0&&(d=g,i=qf(s,g))),i===1)throw l=$l,uo(s,0),ci(s,d),Rn(s,pt()),l;if(i===6)ci(s,d);else{if(g=s.current.alternate,(d&30)===0&&!SI(g)&&(i=Fu(s,d),i===2&&(v=dl(s),v!==0&&(d=v,i=qf(s,v))),i===1))throw l=$l,uo(s,0),ci(s,d),Rn(s,pt()),l;switch(s.finishedWork=g,s.finishedLanes=d,i){case 0:case 1:throw Error(t(345));case 2:ho(s,An,Is);break;case 3:if(ci(s,d),(d&130023424)===d&&(i=$f+500-pt(),10<i)){if(hs(s,0)!==0)break;if(g=s.suspendedLanes,(g&d)!==d){En(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Xh(ho.bind(null,s,An,Is),i);break}ho(s,An,Is);break;case 4:if(ci(s,d),(d&4194240)===d)break;for(i=s.eventTimes,g=-1;0<d;){var T=31-Ln(d);v=1<<T,T=i[T],T>g&&(g=T),d&=~v}if(d=g,d=pt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*TI(d/1960))-d,10<d){s.timeoutHandle=Xh(ho.bind(null,s,An,Is),d);break}ho(s,An,Is);break;case 5:ho(s,An,Is);break;default:throw Error(t(329))}}}return Rn(s,pt()),s.callbackNode===l?Pv.bind(null,s):null}function qf(s,i){var l=Hl;return s.current.memoizedState.isDehydrated&&(uo(s,i).flags|=256),s=Fu(s,i),s!==2&&(i=An,An=l,i!==null&&Gf(i)),s}function Gf(s){An===null?An=s:An.push.apply(An,s)}function SI(s){for(var i=s;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var g=l[d],v=g.getSnapshot;g=g.value;try{if(!mr(v(),g))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(s,i){for(i&=~Bf,i&=~Du,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var l=31-Ln(i),d=1<<l;s[l]=-1,i&=~d}}function Dv(s){if((Je&6)!==0)throw Error(t(327));ma();var i=hs(s,0);if((i&1)===0)return Rn(s,pt()),null;var l=Fu(s,i);if(s.tag!==0&&l===2){var d=dl(s);d!==0&&(i=d,l=qf(s,d))}if(l===1)throw l=$l,uo(s,0),ci(s,i),Rn(s,pt()),l;if(l===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,ho(s,An,Is),Rn(s,pt()),null}function Kf(s,i){var l=Je;Je|=1;try{return s(i)}finally{Je=l,Je===0&&(pa=pt()+500,hu&&ni())}}function co(s){ai!==null&&ai.tag===0&&(Je&6)===0&&ma();var i=Je;Je|=1;var l=sr.transition,d=Ke;try{if(sr.transition=null,Ke=1,s)return s()}finally{Ke=d,sr.transition=l,Je=i,(Je&6)===0&&ni()}}function Qf(){Wn=fa.current,gt(fa)}function uo(s,i){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,eI(l)),jt!==null)for(l=jt.return;l!==null;){var d=l;switch(rf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&uu();break;case 3:ua(),gt(In),gt(dn),yf();break;case 5:mf(d);break;case 4:ua();break;case 13:gt(Tt);break;case 19:gt(Tt);break;case 10:uf(d.type._context);break;case 22:case 23:Qf()}l=l.return}if(Yt=s,jt=s=ui(s.current,null),sn=Wn=i,Bt=0,$l=null,Bf=Du=lo=0,An=Hl=null,io!==null){for(i=0;i<io.length;i++)if(l=io[i],d=l.interleaved,d!==null){l.interleaved=null;var g=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=g,d.next=T}l.pending=d}io=null}return s}function Ov(s,i){do{var l=jt;try{if(cf(),Eu.current=bu,Tu){for(var d=St.memoizedState;d!==null;){var g=d.queue;g!==null&&(g.pending=null),d=d.next}Tu=!1}if(ao=0,Qt=zt=St=null,Vl=!1,Ll=0,zf.current=null,l===null||l.return===null){Bt=1,$l=i,jt=null;break}e:{var v=s,T=l.return,O=l,F=i;if(i=sn,O.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,se=O,le=se.tag;if((se.mode&1)===0&&(le===0||le===11||le===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var ye=iv(T);if(ye!==null){ye.flags&=-257,ov(ye,T,O,v,i),ye.mode&1&&sv(v,K,i),i=ye,F=K;var Ee=i.updateQueue;if(Ee===null){var Ie=new Set;Ie.add(F),i.updateQueue=Ie}else Ee.add(F);break e}else{if((i&1)===0){sv(v,K,i),Yf();break e}F=Error(t(426))}}else if(vt&&O.mode&1){var kt=iv(T);if(kt!==null){(kt.flags&65536)===0&&(kt.flags|=256),ov(kt,T,O,v,i),af(da(F,O));break e}}v=F=da(F,O),Bt!==4&&(Bt=2),Hl===null?Hl=[v]:Hl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var W=nv(v,F,i);Ry(v,W);break e;case 1:O=F;var B=v.type,G=v.stateNode;if((v.flags&128)===0&&(typeof B.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(oi===null||!oi.has(G)))){v.flags|=65536,i&=-i,v.lanes|=i;var ue=rv(v,O,i);Ry(v,ue);break e}}v=v.return}while(v!==null)}Vv(l)}catch(Ce){i=Ce,jt===l&&l!==null&&(jt=l=l.return);continue}break}while(!0)}function jv(){var s=Pu.current;return Pu.current=bu,s===null?bu:s}function Yf(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Yt===null||(lo&268435455)===0&&(Du&268435455)===0||ci(Yt,sn)}function Fu(s,i){var l=Je;Je|=2;var d=jv();(Yt!==s||sn!==i)&&(Is=null,uo(s,i));do try{II();break}catch(g){Ov(s,g)}while(!0);if(cf(),Je=l,Pu.current=d,jt!==null)throw Error(t(261));return Yt=null,sn=0,Bt}function II(){for(;jt!==null;)Mv(jt)}function bI(){for(;jt!==null&&!Hi();)Mv(jt)}function Mv(s){var i=Uv(s.alternate,s,Wn);s.memoizedProps=s.pendingProps,i===null?Vv(s):jt=i,zf.current=null}function Vv(s){var i=s;do{var l=i.alternate;if(s=i.return,(i.flags&32768)===0){if(l=vI(l,i,Wn),l!==null){jt=l;return}}else{if(l=_I(l,i),l!==null){l.flags&=32767,jt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Bt=6,jt=null;return}}if(i=i.sibling,i!==null){jt=i;return}jt=i=s}while(i!==null);Bt===0&&(Bt=5)}function ho(s,i,l){var d=Ke,g=sr.transition;try{sr.transition=null,Ke=1,CI(s,i,l,d)}finally{sr.transition=g,Ke=d}return null}function CI(s,i,l,d){do ma();while(ai!==null);if((Je&6)!==0)throw Error(t(327));l=s.finishedWork;var g=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(jh(s,v),s===Yt&&(jt=Yt=null,sn=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ju||(ju=!0,zv(Wi,function(){return ma(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=sr.transition,sr.transition=null;var T=Ke;Ke=1;var O=Je;Je|=4,zf.current=null,xI(s,l),Cv(l,s),GS(Qh),ms=!!Kh,Qh=Kh=null,s.current=l,EI(l),ds(),Je=O,Ke=T,sr.transition=v}else s.current=l;if(ju&&(ju=!1,ai=s,Mu=g),v=s.pendingLanes,v===0&&(oi=null),qc(l.stateNode),Rn(s,pt()),i!==null)for(d=s.onRecoverableError,l=0;l<i.length;l++)g=i[l],d(g.value,{componentStack:g.stack,digest:g.digest});if(Ou)throw Ou=!1,s=Hf,Hf=null,s;return(Mu&1)!==0&&s.tag!==0&&ma(),v=s.pendingLanes,(v&1)!==0?s===Wf?Wl++:(Wl=0,Wf=s):Wl=0,ni(),null}function ma(){if(ai!==null){var s=Mr(Mu),i=sr.transition,l=Ke;try{if(sr.transition=null,Ke=16>s?16:s,ai===null)var d=!1;else{if(s=ai,ai=null,Mu=0,(Je&6)!==0)throw Error(t(331));var g=Je;for(Je|=4,xe=s.current;xe!==null;){var v=xe,T=v.child;if((xe.flags&16)!==0){var O=v.deletions;if(O!==null){for(var F=0;F<O.length;F++){var K=O[F];for(xe=K;xe!==null;){var se=xe;switch(se.tag){case 0:case 11:case 15:Bl(8,se,v)}var le=se.child;if(le!==null)le.return=se,xe=le;else for(;xe!==null;){se=xe;var re=se.sibling,ye=se.return;if(Ev(se),se===K){xe=null;break}if(re!==null){re.return=ye,xe=re;break}xe=ye}}}var Ee=v.alternate;if(Ee!==null){var Ie=Ee.child;if(Ie!==null){Ee.child=null;do{var kt=Ie.sibling;Ie.sibling=null,Ie=kt}while(Ie!==null)}}xe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,xe=T;else e:for(;xe!==null;){if(v=xe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Bl(9,v,v.return)}var W=v.sibling;if(W!==null){W.return=v.return,xe=W;break e}xe=v.return}}var B=s.current;for(xe=B;xe!==null;){T=xe;var G=T.child;if((T.subtreeFlags&2064)!==0&&G!==null)G.return=T,xe=G;else e:for(T=B;xe!==null;){if(O=xe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Nu(9,O)}}catch(Ce){Ct(O,O.return,Ce)}if(O===T){xe=null;break e}var ue=O.sibling;if(ue!==null){ue.return=O.return,xe=ue;break e}xe=O.return}}if(Je=g,ni(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(qi,s)}catch{}d=!0}return d}finally{Ke=l,sr.transition=i}}return!1}function Lv(s,i,l){i=da(l,i),i=nv(s,i,1),s=si(s,i,1),i=En(),s!==null&&(Yi(s,1,i),Rn(s,i))}function Ct(s,i,l){if(s.tag===3)Lv(s,s,l);else for(;i!==null;){if(i.tag===3){Lv(i,s,l);break}else if(i.tag===1){var d=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(oi===null||!oi.has(d))){s=da(l,s),s=rv(i,s,1),i=si(i,s,1),s=En(),i!==null&&(Yi(i,1,s),Rn(i,s));break}}i=i.return}}function AI(s,i,l){var d=s.pingCache;d!==null&&d.delete(i),i=En(),s.pingedLanes|=s.suspendedLanes&l,Yt===s&&(sn&l)===l&&(Bt===4||Bt===3&&(sn&130023424)===sn&&500>pt()-$f?uo(s,0):Bf|=l),Rn(s,i)}function Fv(s,i){i===0&&((s.mode&1)===0?i=1:(i=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var l=En();s=Es(s,i),s!==null&&(Yi(s,i,l),Rn(s,l))}function RI(s){var i=s.memoizedState,l=0;i!==null&&(l=i.retryLane),Fv(s,l)}function kI(s,i){var l=0;switch(s.tag){case 13:var d=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(i),Fv(s,l)}var Uv;Uv=function(s,i,l){if(s!==null)if(s.memoizedProps!==i.pendingProps||In.current)Cn=!0;else{if((s.lanes&l)===0&&(i.flags&128)===0)return Cn=!1,yI(s,i,l);Cn=(s.flags&131072)!==0}else Cn=!1,vt&&(i.flags&1048576)!==0&&_y(i,pu,i.index);switch(i.lanes=0,i.tag){case 2:var d=i.type;Ru(s,i),s=i.pendingProps;var g=ra(i,dn.current);ca(i,l),g=wf(null,i,d,s,g,l);var v=xf();return i.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,bn(d)?(v=!0,du(i)):v=!1,i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,ff(i),g.updater=Cu,i.stateNode=g,g._reactInternals=i,Cf(i,d,s,l),i=Nf(null,i,d,!0,v,l)):(i.tag=0,vt&&v&&nf(i),xn(null,i,g,l),i=i.child),i;case 16:d=i.elementType;e:{switch(Ru(s,i),s=i.pendingProps,g=d._init,d=g(d._payload),i.type=d,g=i.tag=PI(d),s=yr(d,s),g){case 0:i=kf(null,i,d,s,l);break e;case 1:i=hv(null,i,d,s,l);break e;case 11:i=av(null,i,d,s,l);break e;case 14:i=lv(null,i,d,yr(d.type,s),l);break e}throw Error(t(306,d,""))}return i;case 0:return d=i.type,g=i.pendingProps,g=i.elementType===d?g:yr(d,g),kf(s,i,d,g,l);case 1:return d=i.type,g=i.pendingProps,g=i.elementType===d?g:yr(d,g),hv(s,i,d,g,l);case 3:e:{if(fv(i),s===null)throw Error(t(387));d=i.pendingProps,v=i.memoizedState,g=v.element,Ay(s,i),wu(i,d,null,l);var T=i.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){g=da(Error(t(423)),i),i=pv(s,i,d,l,g);break e}else if(d!==g){g=da(Error(t(424)),i),i=pv(s,i,d,l,g);break e}else for(Hn=Zs(i.stateNode.containerInfo.firstChild),$n=i,vt=!0,gr=null,l=by(i,null,d,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(oa(),d===g){i=Ss(s,i,l);break e}xn(s,i,d,l)}i=i.child}return i;case 5:return Ny(i),s===null&&of(i),d=i.type,g=i.pendingProps,v=s!==null?s.memoizedProps:null,T=g.children,Yh(d,g)?T=null:v!==null&&Yh(d,v)&&(i.flags|=32),dv(s,i),xn(s,i,T,l),i.child;case 6:return s===null&&of(i),null;case 13:return mv(s,i,l);case 4:return pf(i,i.stateNode.containerInfo),d=i.pendingProps,s===null?i.child=aa(i,null,d,l):xn(s,i,d,l),i.child;case 11:return d=i.type,g=i.pendingProps,g=i.elementType===d?g:yr(d,g),av(s,i,d,g,l);case 7:return xn(s,i,i.pendingProps,l),i.child;case 8:return xn(s,i,i.pendingProps.children,l),i.child;case 12:return xn(s,i,i.pendingProps.children,l),i.child;case 10:e:{if(d=i.type._context,g=i.pendingProps,v=i.memoizedProps,T=g.value,dt(yu,d._currentValue),d._currentValue=T,v!==null)if(mr(v.value,T)){if(v.children===g.children&&!In.current){i=Ss(s,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var O=v.dependencies;if(O!==null){T=v.child;for(var F=O.firstContext;F!==null;){if(F.context===d){if(v.tag===1){F=Ts(-1,l&-l),F.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var se=K.pending;se===null?F.next=F:(F.next=se.next,se.next=F),K.pending=F}}v.lanes|=l,F=v.alternate,F!==null&&(F.lanes|=l),df(v.return,l,i),O.lanes|=l;break}F=F.next}}else if(v.tag===10)T=v.type===i.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,O=T.alternate,O!==null&&(O.lanes|=l),df(T,l,i),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===i){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}xn(s,i,g.children,l),i=i.child}return i;case 9:return g=i.type,d=i.pendingProps.children,ca(i,l),g=nr(g),d=d(g),i.flags|=1,xn(s,i,d,l),i.child;case 14:return d=i.type,g=yr(d,i.pendingProps),g=yr(d.type,g),lv(s,i,d,g,l);case 15:return cv(s,i,i.type,i.pendingProps,l);case 17:return d=i.type,g=i.pendingProps,g=i.elementType===d?g:yr(d,g),Ru(s,i),i.tag=1,bn(d)?(s=!0,du(i)):s=!1,ca(i,l),ev(i,d,g),Cf(i,d,g,l),Nf(null,i,d,!0,s,l);case 19:return yv(s,i,l);case 22:return uv(s,i,l)}throw Error(t(156,i.tag))};function zv(s,i){return ll(s,i)}function NI(s,i,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(s,i,l,d){return new NI(s,i,l,d)}function Xf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function PI(s){if(typeof s=="function")return Xf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Ae)return 14}return 2}function ui(s,i){var l=s.alternate;return l===null?(l=ir(s.tag,i,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=i,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,i=s.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function Uu(s,i,l,d,g,v){var T=2;if(d=s,typeof s=="function")Xf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case k:return fo(l.children,g,v,i);case C:T=8,g|=8;break;case P:return s=ir(12,l,i,g|2),s.elementType=P,s.lanes=v,s;case N:return s=ir(13,l,i,g),s.elementType=N,s.lanes=v,s;case ve:return s=ir(19,l,i,g),s.elementType=ve,s.lanes=v,s;case me:return zu(l,g,v,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case M:T=9;break e;case U:T=11;break e;case Ae:T=14;break e;case ae:T=16,d=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=ir(T,l,i,g),i.elementType=s,i.type=d,i.lanes=v,i}function fo(s,i,l,d){return s=ir(7,s,d,i),s.lanes=l,s}function zu(s,i,l,d){return s=ir(22,s,d,i),s.elementType=me,s.lanes=l,s.stateNode={isHidden:!1},s}function Jf(s,i,l){return s=ir(6,s,null,i),s.lanes=l,s}function Zf(s,i,l){return i=ir(4,s.children!==null?s.children:[],s.key,i),i.lanes=l,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function DI(s,i,l,d,g){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=d,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function ep(s,i,l,d,g,v,T,O,F){return s=new DI(s,i,l,O,F),i===1?(i=1,v===!0&&(i|=8)):i=0,v=ir(3,null,null,i),s.current=v,v.stateNode=s,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ff(v),s}function OI(s,i,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:s,containerInfo:i,implementation:l}}function Bv(s){if(!s)return ti;s=s._reactInternals;e:{if(fr(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(bn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var l=s.type;if(bn(l))return gy(s,l,i)}return i}function $v(s,i,l,d,g,v,T,O,F){return s=ep(l,d,!0,s,g,v,T,O,F),s.context=Bv(null),l=s.current,d=En(),g=li(l),v=Ts(d,g),v.callback=i??null,si(l,v,g),s.current.lanes=g,Yi(s,g,d),Rn(s,d),s}function Bu(s,i,l,d){var g=i.current,v=En(),T=li(g);return l=Bv(l),i.context===null?i.context=l:i.pendingContext=l,i=Ts(v,T),i.payload={element:s},d=d===void 0?null:d,d!==null&&(i.callback=d),s=si(g,i,T),s!==null&&(wr(s,g,T,v),_u(s,g,T)),T}function $u(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Hv(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<i?l:i}}function tp(s,i){Hv(s,i),(s=s.alternate)&&Hv(s,i)}function jI(){return null}var Wv=typeof reportError=="function"?reportError:function(s){console.error(s)};function np(s){this._internalRoot=s}Hu.prototype.render=np.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Bu(s,i,null,null)},Hu.prototype.unmount=np.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;co(function(){Bu(null,s,null,null)}),i[vs]=null}};function Hu(s){this._internalRoot=s}Hu.prototype.unstable_scheduleHydration=function(s){if(s){var i=yl();s={blockedOn:null,target:s,priority:i};for(var l=0;l<Fn.length&&i!==0&&i<Fn[l].priority;l++);Fn.splice(l,0,s),l===0&&zo(s)}};function rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Wu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function qv(){}function MI(s,i,l,d,g){if(g){if(typeof d=="function"){var v=d;d=function(){var K=$u(T);v.call(K)}}var T=$v(i,d,s,0,null,!1,!1,"",qv);return s._reactRootContainer=T,s[vs]=T.current,Rl(s.nodeType===8?s.parentNode:s),co(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof d=="function"){var O=d;d=function(){var K=$u(F);O.call(K)}}var F=ep(s,0,!1,null,null,!1,!1,"",qv);return s._reactRootContainer=F,s[vs]=F.current,Rl(s.nodeType===8?s.parentNode:s),co(function(){Bu(i,F,l,d)}),F}function qu(s,i,l,d,g){var v=l._reactRootContainer;if(v){var T=v;if(typeof g=="function"){var O=g;g=function(){var F=$u(T);O.call(F)}}Bu(i,T,s,g)}else T=MI(l,i,s,g,d);return $u(T)}ml=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var l=et(i.pendingLanes);l!==0&&(pl(i,l|1),Rn(i,pt()),(Je&6)===0&&(pa=pt()+500,ni()))}break;case 13:co(function(){var d=Es(s,1);if(d!==null){var g=En();wr(d,s,1,g)}}),tp(s,1)}},Fo=function(s){if(s.tag===13){var i=Es(s,134217728);if(i!==null){var l=En();wr(i,s,134217728,l)}tp(s,134217728)}},gl=function(s){if(s.tag===13){var i=li(s),l=Es(s,i);if(l!==null){var d=En();wr(l,s,i,d)}tp(s,i)}},yl=function(){return Ke},vl=function(s,i){var l=Ke;try{return Ke=s,i()}finally{Ke=l}},dr=function(s,i,l){switch(i){case"input":if(en(s,l),i=l.name,l.type==="radio"&&i!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var d=l[i];if(d!==s&&d.form===s.form){var g=cu(d);if(!g)throw Error(t(90));$e(d),en(d,g)}}}break;case"textarea":jo(s,l);break;case"select":i=l.value,i!=null&&jn(s,!!l.multiple,i,!1)}},At=Kf,Gt=co;var VI={usingClientEntryPoint:!1,Events:[Pl,ta,cu,Oe,lt,Kf]},ql={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LI={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Wc(s),s===null?null:s.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||jI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{qi=Gu.inject(LI),Vn=Gu}catch{}}return kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI,kn.createPortal=function(s,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rp(i))throw Error(t(200));return OI(s,i,null,l)},kn.createRoot=function(s,i){if(!rp(s))throw Error(t(299));var l=!1,d="",g=Wv;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=ep(s,1,!1,null,null,l,!1,d,g),s[vs]=i.current,Rl(s.nodeType===8?s.parentNode:s),new np(i)},kn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Wc(i),s=s===null?null:s.stateNode,s},kn.flushSync=function(s){return co(s)},kn.hydrate=function(s,i,l){if(!Wu(i))throw Error(t(200));return qu(null,s,i,!0,l)},kn.hydrateRoot=function(s,i,l){if(!rp(s))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,g=!1,v="",T=Wv;if(l!=null&&(l.unstable_strictMode===!0&&(g=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),i=$v(i,null,s,1,l??null,g,!1,v,T),s[vs]=i.current,Rl(s),d)for(s=0;s<d.length;s++)l=d[s],g=l._getVersion,g=g(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,g]:i.mutableSourceEagerHydrationData.push(l,g);return new Hu(i)},kn.render=function(s,i,l){if(!Wu(i))throw Error(t(200));return qu(null,s,i,!1,l)},kn.unmountComponentAtNode=function(s){if(!Wu(s))throw Error(t(40));return s._reactRootContainer?(co(function(){qu(null,null,s,!1,function(){s._reactRootContainer=null,s[vs]=null})}),!0):!1},kn.unstable_batchedUpdates=Kf,kn.unstable_renderSubtreeIntoContainer=function(s,i,l,d){if(!Wu(l))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return qu(s,i,l,!1,d)},kn.version="18.3.1-next-f1338f8080-20240426",kn}var e_;function b0(){if(e_)return op.exports;e_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),op.exports=qI(),op.exports}var t_;function GI(){if(t_)return Ku;t_=1;var n=b0();return Ku.createRoot=n.createRoot,Ku.hydrateRoot=n.hydrateRoot,Ku}var KI=GI();const QI=()=>{};var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,w=a>>2,y=(a&3)<<4|h>>4;let E=(h&15)<<2|m>>6,b=m&63;f||(b=64,c||(E=64)),r.push(t[w],t[y],t[E],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(C0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const y=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||y==null)throw new XI;const E=a<<2|h>>4;if(r.push(E),m!==64){const b=h<<4&240|m>>2;if(r.push(b),y!==64){const D=m<<6&192|y;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(n){const e=C0(n);return A0.encodeByteArray(e,!0)},Sd=function(n){return JI(n).replace(/\./g,"")},R0=function(n){try{return A0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=()=>ZI().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof n_>"u")return;const n=n_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&R0(n[1]);return e&&JSON.parse(e)},eh=()=>{try{return QI()||eb()||tb()||nb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k0=n=>eh()?.emulatorHosts?.[n],rb=n=>{const e=k0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},N0=()=>eh()?.config,P0=n=>eh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Sd(JSON.stringify(t)),Sd(JSON.stringify(c)),""].join(".")}const ic={};function ob(){const n={prod:[],emulator:[]};for(const e of Object.keys(ic))ic[e]?n.emulator.push(e):n.prod.push(e);return n}function ab(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let r_=!1;function O0(n,e){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||ic[n]===e||ic[n]||r_)return;ic[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=ob().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,b){E.setAttribute("width","24"),E.setAttribute("id",b),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{r_=!0,c()},E}function w(E,b){E.setAttribute("id",b),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=ab(r),b=t("text"),D=document.getElementById(b)||document.createElement("span"),I=t("learnmore"),R=document.getElementById(I)||document.createElement("a"),j=t("preprendIcon"),L=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const z=E.element;h(z),w(R,I);const Q=m();f(L,j),z.append(L,D,R,Q),document.body.appendChild(z)}a?(D.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function cb(){const n=eh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function db(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fb(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function gb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="FirebaseError";class Ls extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yb,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ic.prototype.create)}}class Ic{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?vb(a,r):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Ls(o,h,r)}}function vb(n,e){return n.replace(_b,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const _b=/\{\$([^}]+)}/g;function wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function bi(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],c=e[o];if(s_(a)&&s_(c)){if(!bi(a,c))return!1}else if(a!==c)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function s_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Jl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function xb(n,e){const t=new Eb(n,e);return t.subscribe.bind(t)}class Eb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Tb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=cp),o.error===void 0&&(o.error=cp),o.complete===void 0&&(o.complete=cp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(n){return n&&n._delegate?n._delegate:n}class xo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bb(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&c.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(n){return n===mo?void 0:n}function bb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Sb(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(We||(We={}));const Ab={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},Rb=We.INFO,kb={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},Nb=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=kb[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=Rb,this._logHandler=Nb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ab[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const Pb=(n,e)=>e.some(t=>n instanceof t);let i_,o_;function Db(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ob(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const j0=new WeakMap,Mp=new WeakMap,M0=new WeakMap,up=new WeakMap,Am=new WeakMap;function jb(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(wi(n.result)),o()},c=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&j0.set(t,n)}).catch(()=>{}),Am.set(e,n),e}function Mb(n){if(Mp.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Mp.set(n,e)}let Vp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||M0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Vb(n){Vp=n(Vp)}function Lb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dp(this),e,...t);return M0.set(r,e.sort?e.sort():[e]),wi(r)}:Ob().includes(n)?function(...e){return n.apply(dp(this),e),wi(j0.get(this))}:function(...e){return wi(n.apply(dp(this),e))}}function Fb(n){return typeof n=="function"?Lb(n):(n instanceof IDBTransaction&&Mb(n),Pb(n,Db())?new Proxy(n,Vp):n)}function wi(n){if(n instanceof IDBRequest)return jb(n);if(up.has(n))return up.get(n);const e=Fb(n);return e!==n&&(up.set(n,e),Am.set(e,n)),e}const dp=n=>Am.get(n);function Ub(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=wi(c);return r&&c.addEventListener("upgradeneeded",f=>{r(wi(c.result),f.oldVersion,f.newVersion,wi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const zb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],hp=new Map;function a_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Bb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zb.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return hp.set(e,a),a}Vb(n=>({...n,get:(e,t,r)=>a_(e,t)||n.get(e,t,r),has:(e,t)=>!!a_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Hb(n){return n.getComponent()?.type==="VERSION"}const Lp="@firebase/app",l_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Cm("@firebase/app"),Wb="@firebase/app-compat",qb="@firebase/analytics-compat",Gb="@firebase/analytics",Kb="@firebase/app-check-compat",Qb="@firebase/app-check",Yb="@firebase/auth",Xb="@firebase/auth-compat",Jb="@firebase/database",Zb="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",sC="@firebase/installations-compat",iC="@firebase/messaging",oC="@firebase/messaging-compat",aC="@firebase/performance",lC="@firebase/performance-compat",cC="@firebase/remote-config",uC="@firebase/remote-config-compat",dC="@firebase/storage",hC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/ai",mC="@firebase/firestore-compat",gC="firebase",yC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",vC={[Lp]:"fire-core",[Wb]:"fire-core-compat",[Gb]:"fire-analytics",[qb]:"fire-analytics-compat",[Qb]:"fire-app-check",[Kb]:"fire-app-check-compat",[Yb]:"fire-auth",[Xb]:"fire-auth-compat",[Jb]:"fire-rtdb",[Zb]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[sC]:"fire-iid-compat",[iC]:"fire-fcm",[oC]:"fire-fcm-compat",[aC]:"fire-perf",[lC]:"fire-perf-compat",[cC]:"fire-rc",[uC]:"fire-rc-compat",[dC]:"fire-gcs",[hC]:"fire-gcs-compat",[fC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id=new Map,_C=new Map,Up=new Map;function c_(n,e){try{n.container.addComponent(e)}catch(t){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oa(n){const e=n.name;if(Up.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,n);for(const t of Id.values())c_(t,n);for(const t of _C.values())c_(t,n);return!0}function Rm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Ic("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=yC;function V0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Fp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw xi.create("bad-app-name",{appName:String(o)});if(t||(t=N0()),!t)throw xi.create("no-options");const a=Id.get(o);if(a){if(bi(t,a.options)&&bi(r,a.config))return a;throw xi.create("duplicate-app",{appName:o})}const c=new Cb(o);for(const f of Up.values())c.addComponent(f);const h=new xC(t,r,c);return Id.set(o,h),h}function L0(n=Fp){const e=Id.get(n);if(!e&&n===Fp&&N0())return V0();if(!e)throw xi.create("no-app",{appName:n});return e}function Ei(n,e,t){let r=vC[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}Oa(new xo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="firebase-heartbeat-database",TC=1,dc="firebase-heartbeat-store";let fp=null;function F0(){return fp||(fp=Ub(EC,TC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(dc)}catch(t){console.warn(t)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),fp}async function SC(n){try{const t=(await F0()).transaction(dc),r=await t.objectStore(dc).get(U0(n));return await t.done,r}catch(e){if(e instanceof Ls)Ns.warn(e.message);else{const t=xi.create("idb-get",{originalErrorMessage:e?.message});Ns.warn(t.message)}}}async function u_(n,e){try{const r=(await F0()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,U0(n)),await r.done}catch(t){if(t instanceof Ls)Ns.warn(t.message);else{const r=xi.create("idb-set",{originalErrorMessage:t?.message});Ns.warn(r.message)}}}function U0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=1024,bC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=d_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>bC){const o=kC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ns.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=d_(),{heartbeatsToSend:t,unsentEntries:r}=AC(this._heartbeatsCache.heartbeats),o=Sd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ns.warn(e),""}}}function d_(){return new Date().toISOString().substring(0,10)}function AC(n,e=IC){const t=[];let r=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),h_(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),h_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class RC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?gb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return u_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function h_(n){return Sd(JSON.stringify({version:2,heartbeats:n})).length}function kC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){Oa(new xo("platform-logger",e=>new $b(e),"PRIVATE")),Oa(new xo("heartbeat",e=>new CC(e),"PRIVATE")),Ei(Lp,l_,n),Ei(Lp,l_,"esm2020"),Ei("fire-js","")}NC("");var PC="firebase",DC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(PC,DC,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,z0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function P(){}P.prototype=C.prototype,k.F=C.prototype,k.prototype=new P,k.prototype.constructor=k,k.D=function(V,M,U){for(var N=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)N[ve-2]=arguments[ve];return C.prototype[M].apply(V,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,P){P||(P=0);const V=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)V[M]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(M=0;M<16;++M)V[M]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=k.g[0],P=k.g[1],M=k.g[2];let U=k.g[3],N;N=C+(U^P&(M^U))+V[0]+3614090360&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(M^C&(P^M))+V[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=M+(P^U&(C^P))+V[2]+606105819&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(C^M&(U^C))+V[3]+3250441966&4294967295,P=M+(N<<22&4294967295|N>>>10),N=C+(U^P&(M^U))+V[4]+4118548399&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(M^C&(P^M))+V[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=M+(P^U&(C^P))+V[6]+2821735955&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(C^M&(U^C))+V[7]+4249261313&4294967295,P=M+(N<<22&4294967295|N>>>10),N=C+(U^P&(M^U))+V[8]+1770035416&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(M^C&(P^M))+V[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=M+(P^U&(C^P))+V[10]+4294925233&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(C^M&(U^C))+V[11]+2304563134&4294967295,P=M+(N<<22&4294967295|N>>>10),N=C+(U^P&(M^U))+V[12]+1804603682&4294967295,C=P+(N<<7&4294967295|N>>>25),N=U+(M^C&(P^M))+V[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=M+(P^U&(C^P))+V[14]+2792965006&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(C^M&(U^C))+V[15]+1236535329&4294967295,P=M+(N<<22&4294967295|N>>>10),N=C+(M^U&(P^M))+V[1]+4129170786&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(C^P))+V[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=M+(C^P&(U^C))+V[11]+643717713&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(M^U))+V[0]+3921069994&4294967295,P=M+(N<<20&4294967295|N>>>12),N=C+(M^U&(P^M))+V[5]+3593408605&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(C^P))+V[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=M+(C^P&(U^C))+V[15]+3634488961&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(M^U))+V[4]+3889429448&4294967295,P=M+(N<<20&4294967295|N>>>12),N=C+(M^U&(P^M))+V[9]+568446438&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(C^P))+V[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=M+(C^P&(U^C))+V[3]+4107603335&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(M^U))+V[8]+1163531501&4294967295,P=M+(N<<20&4294967295|N>>>12),N=C+(M^U&(P^M))+V[13]+2850285829&4294967295,C=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(C^P))+V[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=M+(C^P&(U^C))+V[7]+1735328473&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^C&(M^U))+V[12]+2368359562&4294967295,P=M+(N<<20&4294967295|N>>>12),N=C+(P^M^U)+V[5]+4294588738&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^M)+V[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=M+(U^C^P)+V[11]+1839030562&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^C)+V[14]+4259657740&4294967295,P=M+(N<<23&4294967295|N>>>9),N=C+(P^M^U)+V[1]+2763975236&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^M)+V[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=M+(U^C^P)+V[7]+4139469664&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^C)+V[10]+3200236656&4294967295,P=M+(N<<23&4294967295|N>>>9),N=C+(P^M^U)+V[13]+681279174&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^M)+V[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=M+(U^C^P)+V[3]+3572445317&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^C)+V[6]+76029189&4294967295,P=M+(N<<23&4294967295|N>>>9),N=C+(P^M^U)+V[9]+3654602809&4294967295,C=P+(N<<4&4294967295|N>>>28),N=U+(C^P^M)+V[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=M+(U^C^P)+V[15]+530742520&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^C)+V[2]+3299628645&4294967295,P=M+(N<<23&4294967295|N>>>9),N=C+(M^(P|~U))+V[0]+4096336452&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~M))+V[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=M+(C^(U|~P))+V[14]+2878612391&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~C))+V[5]+4237533241&4294967295,P=M+(N<<21&4294967295|N>>>11),N=C+(M^(P|~U))+V[12]+1700485571&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~M))+V[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=M+(C^(U|~P))+V[10]+4293915773&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~C))+V[1]+2240044497&4294967295,P=M+(N<<21&4294967295|N>>>11),N=C+(M^(P|~U))+V[8]+1873313359&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~M))+V[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=M+(C^(U|~P))+V[6]+2734768916&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~C))+V[13]+1309151649&4294967295,P=M+(N<<21&4294967295|N>>>11),N=C+(M^(P|~U))+V[4]+4149444226&4294967295,C=P+(N<<6&4294967295|N>>>26),N=U+(P^(C|~M))+V[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=M+(C^(U|~P))+V[2]+718787259&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~C))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+U&4294967295}r.prototype.v=function(k,C){C===void 0&&(C=k.length);const P=C-this.blockSize,V=this.C;let M=this.h,U=0;for(;U<C;){if(M==0)for(;U<=P;)o(this,k,U),U+=this.blockSize;if(typeof k=="string"){for(;U<C;)if(V[M++]=k.charCodeAt(U++),M==this.blockSize){o(this,V),M=0;break}}else for(;U<C;)if(V[M++]=k[U++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=C},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var P=k.length-8;P<k.length;++P)k[P]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)k[C++]=this.g[P]>>>V&255;return k};function a(k,C){var P=h;return Object.prototype.hasOwnProperty.call(P,k)?P[k]:P[k]=C(k)}function c(k,C){this.h=C;const P=[];let V=!0;for(let M=k.length-1;M>=0;M--){const U=k[M]|0;V&&U==C||(P[M]=U,V=!1)}this.g=P}var h={};function f(k){return-128<=k&&k<128?a(k,function(C){return new c([C|0],C<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return y;if(k<0)return R(m(-k));const C=[];let P=1;for(let V=0;k>=P;V++)C[V]=k/P|0,P*=4294967296;return new c(C,0)}function w(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return R(w(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(C,8));let V=y;for(let U=0;U<k.length;U+=8){var M=Math.min(8,k.length-U);const N=parseInt(k.substring(U,U+M),C);M<8?(M=m(Math.pow(C,M)),V=V.j(M).add(m(N))):(V=V.j(P),V=V.add(m(N)))}return V}var y=f(0),E=f(1),b=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-R(this).m();let k=0,C=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);k+=(V>=0?V:4294967296+V)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(I(this))return"-"+R(this).toString(k);const C=m(Math.pow(k,6));var P=this;let V="";for(;;){const M=Q(P,C).g;P=j(P,M.j(C));let U=((P.g.length>0?P.g[0]:P.h)>>>0).toString(k);if(P=M,D(P))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function I(k){return k.h==-1}n.l=function(k){return k=j(this,k),I(k)?-1:D(k)?0:1};function R(k){const C=k.g.length,P=[];for(let V=0;V<C;V++)P[V]=~k.g[V];return new c(P,~k.h).add(E)}n.abs=function(){return I(this)?R(this):this},n.add=function(k){const C=Math.max(this.g.length,k.g.length),P=[];let V=0;for(let M=0;M<=C;M++){let U=V+(this.i(M)&65535)+(k.i(M)&65535),N=(U>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);V=N>>>16,U&=65535,N&=65535,P[M]=N<<16|U}return new c(P,P[P.length-1]&-2147483648?-1:0)};function j(k,C){return k.add(R(C))}n.j=function(k){if(D(this)||D(k))return y;if(I(this))return I(k)?R(this).j(R(k)):R(R(this).j(k));if(I(k))return R(this.j(R(k)));if(this.l(b)<0&&k.l(b)<0)return m(this.m()*k.m());const C=this.g.length+k.g.length,P=[];for(var V=0;V<2*C;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<k.g.length;M++){const U=this.i(V)>>>16,N=this.i(V)&65535,ve=k.i(M)>>>16,Ae=k.i(M)&65535;P[2*V+2*M]+=N*Ae,L(P,2*V+2*M),P[2*V+2*M+1]+=U*Ae,L(P,2*V+2*M+1),P[2*V+2*M+1]+=N*ve,L(P,2*V+2*M+1),P[2*V+2*M+2]+=U*ve,L(P,2*V+2*M+2)}for(k=0;k<C;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=C;k<2*C;k++)P[k]=0;return new c(P,0)};function L(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function z(k,C){this.g=k,this.h=C}function Q(k,C){if(D(C))throw Error("division by zero");if(D(k))return new z(y,y);if(I(k))return C=Q(R(k),C),new z(R(C.g),R(C.h));if(I(C))return C=Q(k,R(C)),new z(R(C.g),C.h);if(k.g.length>30){if(I(k)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=C;V.l(k)<=0;)P=X(P),V=X(V);var M=J(P,1),U=J(V,1);for(V=J(V,2),P=J(P,2);!D(V);){var N=U.add(V);N.l(k)<=0&&(M=M.add(P),U=N),V=J(V,1),P=J(P,1)}return C=j(k,M.j(C)),new z(M,C)}for(M=y;k.l(C)>=0;){for(P=Math.max(1,Math.floor(k.m()/C.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=m(P),N=U.j(C);I(N)||N.l(k)>0;)P-=V,U=m(P),N=U.j(C);D(U)&&(U=E),M=M.add(U),k=j(k,N)}return new z(M,k)}n.B=function(k){return Q(this,k).h},n.and=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<C;V++)P[V]=this.i(V)&k.i(V);return new c(P,this.h&k.h)},n.or=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<C;V++)P[V]=this.i(V)|k.i(V);return new c(P,this.h|k.h)},n.xor=function(k){const C=Math.max(this.g.length,k.g.length),P=[];for(let V=0;V<C;V++)P[V]=this.i(V)^k.i(V);return new c(P,this.h^k.h)};function X(k){const C=k.g.length+1,P=[];for(let V=0;V<C;V++)P[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(P,k.h)}function J(k,C){const P=C>>5;C%=32;const V=k.g.length-P,M=[];for(let U=0;U<V;U++)M[U]=C>0?k.i(U+P)>>>C|k.i(U+P+1)<<32-C:k.i(U+P);return new c(M,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,z0=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=w,Ti=c}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var B0,Zl,$0,dd,zp,H0,W0,q0;(function(){var n,e=Object.defineProperty;function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var _=0;_<u.length;++_){var x=u[_];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=t(this);function o(u,_){if(_)e:{var x=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var q=u[A];if(!(q in x))break e;x=x[q]}u=u[u.length-1],A=x[u],_=_(A),_!=A&&_!=null&&e(x,u,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(_){var x=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&x.push([A,_[A]]);return x}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function h(u){var _=typeof u;return _=="object"&&u!=null||_=="function"}function f(u,_,x){return u.call.apply(u.bind,arguments)}function m(u,_,x){return m=f,m.apply(null,arguments)}function w(u,_){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function y(u,_){function x(){}x.prototype=_.prototype,u.Z=_.prototype,u.prototype=new x,u.prototype.constructor=u,u.Ob=function(A,q,Y){for(var pe=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)pe[Fe-2]=arguments[Fe];return _.prototype[q].apply(A,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function b(u){const _=u.length;if(_>0){const x=Array(_);for(let A=0;A<_;A++)x[A]=u[A];return x}return[]}function D(u,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];var x=typeof q;if(x=x!="object"?x:q?Array.isArray(q)?"array":x:"null",x=="array"||x=="object"&&typeof q.length=="number"){x=u.length||0;const Y=q.length||0;u.length=x+Y;for(let pe=0;pe<Y;pe++)u[x+pe]=q[pe]}else u.push(q)}}class I{constructor(_,x){this.i=_,this.j=x,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function R(u){c.setTimeout(()=>{throw u},0)}function j(){var u=k;let _=null;return u.g&&(_=u.g,u.g=u.g.next,u.g||(u.h=null),_.next=null),_}class L{constructor(){this.h=this.g=null}add(_,x){const A=z.get();A.set(_,x),this.h?this.h.next=A:this.g=A,this.h=A}}var z=new I(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,x){this.h=_,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let X,J=!1,k=new L,C=()=>{const u=Promise.resolve(void 0);X=()=>{u.then(P)}};function P(){for(var u;u=j();){try{u.h.call(u.g)}catch(x){R(x)}var _=z;_.j(u),_.h<100&&(_.h++,u.next=_.g,_.g=u)}J=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,_){this.type=u,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,_=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};c.addEventListener("test",x,_),c.removeEventListener("test",x,_)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ve(u,_){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,_)}y(ve,M),ve.prototype.init=function(u,_){const x=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=_,_=u.relatedTarget,_||(x=="mouseover"?_=u.fromElement:x=="mouseout"&&(_=u.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ae="closure_listenable_"+(Math.random()*1e6|0),ae=0;function me(u,_,x,A,q){this.listener=u,this.proxy=null,this.src=_,this.type=x,this.capture=!!A,this.ha=q,this.key=++ae,this.da=this.fa=!1}function H(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ce(u,_,x){for(const A in u)_.call(x,u[A],A,u)}function oe(u,_){for(const x in u)_.call(void 0,u[x],x,u)}function $(u){const _={};for(const x in u)_[x]=u[x];return _}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,_){let x,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(x in A)u[x]=A[x];for(let Y=0;Y<Z.length;Y++)x=Z[Y],Object.prototype.hasOwnProperty.call(A,x)&&(u[x]=A[x])}}function he(u){this.src=u,this.g={},this.h=0}he.prototype.add=function(u,_,x,A,q){const Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);const pe=be(u,_,A,q);return pe>-1?(_=u[pe],x||(_.fa=!1)):(_=new me(_,this.src,Y,!!A,q),_.fa=x,u.push(_)),_};function ge(u,_){const x=_.type;if(x in u.g){var A=u.g[x],q=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=q>=0)&&Array.prototype.splice.call(A,q,1),Y&&(H(_),u.g[x].length==0&&(delete u.g[x],u.h--))}}function be(u,_,x,A){for(let q=0;q<u.length;++q){const Y=u[q];if(!Y.da&&Y.listener==_&&Y.capture==!!x&&Y.ha==A)return q}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),fe={};function Re(u,_,x,A,q){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)Re(u,_[Y],x,A,q);return null}return x=Fs(x),u&&u[Ae]?u.J(_,x,h(A)?!!A.capture:!1,q):De(u,_,x,!1,A,q)}function De(u,_,x,A,q,Y){if(!_)throw Error("Invalid event type");const pe=h(q)?!!q.capture:!!q;let Fe=On(u);if(Fe||(u[ne]=Fe=new he(u)),x=Fe.add(_,x,A,pe,Y),x.proxy)return x;if(A=ze(),x.proxy=A,A.src=u,A.listener=x,u.addEventListener)U||(q=pe),q===void 0&&(q=!1),u.addEventListener(_.toString(),A,q);else if(u.attachEvent)u.attachEvent(qt(_.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ze(){function u(x){return _.call(u.src,u.listener,x)}const _=kr;return u}function $e(u,_,x,A,q){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)$e(u,_[Y],x,A,q);else A=h(A)?!!A.capture:!!A,x=Fs(x),u&&u[Ae]?(u=u.i,Y=String(_).toString(),Y in u.g&&(_=u.g[Y],x=be(_,x,A,q),x>-1&&(H(_[x]),Array.prototype.splice.call(_,x,1),_.length==0&&(delete u.g[Y],u.h--)))):u&&(u=On(u))&&(_=u.g[_.toString()],u=-1,_&&(u=be(_,x,A,q)),(x=u>-1?_[u]:null)&&xt(x))}function xt(u){if(typeof u!="number"&&u&&!u.da){var _=u.src;if(_&&_[Ae])ge(_.i,u);else{var x=u.type,A=u.proxy;_.removeEventListener?_.removeEventListener(x,A,u.capture):_.detachEvent?_.detachEvent(qt(x),A):_.addListener&&_.removeListener&&_.removeListener(A),(x=On(_))?(ge(x,u),x.h==0&&(x.src=null,_[ne]=null)):H(u)}}}function qt(u){return u in fe?fe[u]:fe[u]="on"+u}function kr(u,_){if(u.da)u=!0;else{_=new ve(_,this);const x=u.listener,A=u.ha||u.src;u.fa&&xt(u),u=x.call(A,_)}return u}function On(u){return u=u[ne],u instanceof he?u:null}var en="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fs(u){return typeof u=="function"?u:(u[en]||(u[en]=function(_){return u.handleEvent(_)}),u[en])}function rt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}y(rt,V),rt.prototype[Ae]=!0,rt.prototype.removeEventListener=function(u,_,x,A){$e(this,u,_,x,A)};function Et(u,_){var x,A=u.G;if(A)for(x=[];A;A=A.G)x.push(A);if(u=u.M,A=_.type||_,typeof _=="string")_=new M(_,u);else if(_ instanceof M)_.target=_.target||u;else{var q=_;_=new M(A,u),ie(_,q)}q=!0;let Y,pe;if(x)for(pe=x.length-1;pe>=0;pe--)Y=_.g=x[pe],q=jn(Y,A,!0,_)&&q;if(Y=_.g=u,q=jn(Y,A,!0,_)&&q,q=jn(Y,A,!1,_)&&q,x)for(pe=0;pe<x.length;pe++)Y=_.g=x[pe],q=jn(Y,A,!1,_)&&q}rt.prototype.N=function(){if(rt.Z.N.call(this),this.i){var u=this.i;for(const _ in u.g){const x=u.g[_];for(let A=0;A<x.length;A++)H(x[A]);delete u.g[_],u.h--}}this.G=null},rt.prototype.J=function(u,_,x,A){return this.i.add(String(u),_,!1,x,A)},rt.prototype.K=function(u,_,x,A){return this.i.add(String(u),_,!0,x,A)};function jn(u,_,x,A){if(_=u.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let Y=0;Y<_.length;++Y){const pe=_[Y];if(pe&&!pe.da&&pe.capture==x){const Fe=pe.listener,Rt=pe.ha||pe.src;pe.fa&&ge(u.i,pe),q=Fe.call(Rt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ut(u,_){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(u,_||0)}function Qn(u){u.g=Ut(()=>{u.g=null,u.i&&(u.i=!1,Qn(u))},u.l);const _=u.h;u.h=null,u.m.apply(null,_)}class jo extends V{constructor(_,x){super(),this.m=_,this.l=x,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(u){V.call(this),this.h=u,this.g={}}y(Nr,V);var Pr=[];function Us(u){ce(u.g,function(_,x){this.g.hasOwnProperty(x)&&xt(_)},u),u.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),Us(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lr=c.JSON.stringify,zs=c.JSON.parse,Tn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function cr(){}function ur(){}var Dr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bs(){M.call(this,"d")}y(Bs,M);function $s(){M.call(this,"c")}y($s,M);var Sn={},Hs=null;function Yn(){return Hs=Hs||new rt}Sn.Ia="serverreachability";function _n(u){M.call(this,Sn.Ia,u)}y(_n,M);function dr(u){const _=Yn();Et(_,new _n(_))}Sn.STAT_EVENT="statevent";function hr(u,_){M.call(this,Sn.STAT_EVENT,u),this.stat=_}y(hr,M);function ft(u){const _=Yn();Et(_,new hr(_,u))}Sn.Ja="timingevent";function Ws(u,_){M.call(this,Sn.Ja,u),this.size=_}y(Ws,M);function Oe(u,_){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},_)}function lt(){this.g=!0}lt.prototype.ua=function(){this.g=!1};function At(u,_,x,A,q,Y){u.info(function(){if(u.g)if(Y){var pe="",Fe=Y.split("&");for(let at=0;at<Fe.length;at++){var Rt=Fe[at].split("=");if(Rt.length>1){const Ot=Rt[0];Rt=Rt[1];const Bn=Ot.split("_");pe=Bn.length>=2&&Bn[1]=="type"?pe+(Ot+"="+Rt+"&"):pe+(Ot+"=redacted&")}}}else pe=null;else pe=Y;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+x+`
`+pe})}function Gt(u,_,x,A,q,Y,pe){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+x+`
`+Y+" "+pe})}function wn(u,_,x,A){u.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pt(u,x)+(A?" "+A:"")})}function bt(u,_){u.info(function(){return"TIMEOUT: "+_})}lt.prototype.info=function(){};function Pt(u,_){if(!u.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(u=0;u<Y.length;u++)if(Array.isArray(Y[u])){var x=Y[u];if(!(x.length<2)){var A=x[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let pe=1;pe<A.length;pe++)A[pe]=""}}}}return lr(Y)}catch{return _}}var Mn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},cn;function Xn(){}y(Xn,cr),Xn.prototype.g=function(){return new XMLHttpRequest},cn=new Xn;function Kt(u){return encodeURIComponent(String(u))}function Bi(u){var _=1;u=u.split(":");const x=[];for(;_>0&&u.length;)x.push(u.shift()),_--;return u.length&&x.push(u.join(":")),x}function Jn(u,_,x,A){this.j=u,this.i=_,this.l=x,this.S=A||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zc}function zc(){this.i=null,this.g="",this.h=!1}var Bc={},ol={};function fr(u,_,x){u.M=1,u.A=hs(Zn(_)),u.u=x,u.R=!0,al(u,null)}function al(u,_){u.F=Date.now(),$i(u),u.B=Zn(u.A);var x=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),yl(x.i,"t",A),u.C=0,x=u.j.L,u.h=new zc,u.g=Jc(u.j,x?_:null,!u.u),u.P>0&&(u.O=new jo(m(u.Y,u,u.g),u.P)),_=u.V,x=u.g,A=u.ba;var q="readystatechange";Array.isArray(q)||(q&&(Pr[0]=q.toString()),q=Pr);for(let Y=0;Y<q.length;Y++){const pe=Re(x,q[Y],A||_.handleEvent,!1,_.h||_);if(!pe)break;_.g[pe.key]=pe}_=u.J?$(u.J):{},u.u?(u.v||(u.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,_)):(u.v="GET",u.g.ea(u.B,u.v,null,_)),dr(),At(u.i,u.v,u.B,u.l,u.S,u.u)}Jn.prototype.ba=function(u){u=u.target;const _=this.O;_&&Ur(u)==3?_.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const Fe=Ur(this.g),Rt=this.g.ya(),at=this.g.ca();if(!(Fe<3)&&(Fe!=3||this.g&&(this.h.h||this.g.la()||Yc(this.g)))){this.K||Fe!=4||Rt==7||(Rt==8||at<=0?dr(3):dr(2)),Mo(this);var _=this.g.ca();this.X=_;var x=$c(this);if(this.o=_==200,Gt(this.i,this.v,this.B,this.l,this.S,Fe,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(u=Y)wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,u);else{this.o=!1,this.m=3,ft(12),ds(this),Hi(this);break e}}if(this.R){u=!0;let Ot;for(;!this.K&&this.C<x.length;)if(Ot=Wc(this,x),Ot==ol){Fe==4&&(this.m=4,ft(14),u=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==Bc){this.m=4,ft(15),wn(this.i,this.l,x,"[Invalid Chunk]"),u=!1;break}else wn(this.i,this.l,Ot,null),pt(this,Ot);if(Hc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||x.length!=0||this.h.h||(this.m=1,ft(16),u=!1),this.o=this.o&&u,!u)wn(this.i,this.l,x,"[Invalid Chunked Response]"),ds(this),Hi(this);else if(x.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Zi(pe),pe.P=!0,ft(11))}}else wn(this.i,this.l,x,null),pt(this,x);Fe==4&&ds(this),this.o&&!this.K&&(Fe==4?qo(this.j,this):(this.o=!1,$i(this)))}else _l(this.g),_==400&&x.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),ds(this),Hi(this)}}}catch{}finally{}};function $c(u){if(!Hc(u))return u.g.la();const _=Yc(u.g);if(_==="")return"";let x="";const A=_.length,q=Ur(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ds(u),Hi(u),"";u.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)u.h.h=!0,x+=u.h.i.decode(_[Y],{stream:!(q&&Y==A-1)});return _.length=0,u.h.g+=x,u.C=0,u.h.g}function Hc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wc(u,_){var x=u.C,A=_.indexOf(`
`,x);return A==-1?ol:(x=Number(_.substring(x,A)),isNaN(x)?Bc:(A+=1,A+x>_.length?ol:(_=_.slice(A,A+x),u.C=A+x,_)))}Jn.prototype.cancel=function(){this.K=!0,ds(this)};function $i(u){u.T=Date.now()+u.H,ll(u,u.H)}function ll(u,_){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Oe(m(u.aa,u),_)}function Mo(u){u.D&&(c.clearTimeout(u.D),u.D=null)}Jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bt(this.i,this.B),this.M!=2&&(dr(),ft(17)),ds(this),this.m=2,Hi(this)):ll(this,this.T-u)};function Hi(u){u.j.I==0||u.K||qo(u.j,u)}function ds(u){Mo(u);var _=u.O;_&&typeof _.dispose=="function"&&_.dispose(),u.O=null,Us(u.V),u.g&&(_=u.g,u.g=null,_.abort(),_.dispose())}function pt(u,_){try{var x=u.j;if(x.I!=0&&(x.g==u||ul(x.h,u))){if(!u.L&&ul(x.h,u)&&x.I==3){try{var A=x.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!x.v){if(x.g)if(x.g.F+3e3<u.F)Wo(x),Un(x);else break e;$r(x),ft(18)}}else x.xa=q[1],0<x.xa-x.K&&q[2]<37500&&x.F&&x.A==0&&!x.C&&(x.C=Oe(m(x.Va,x),6e3));Wi(x.h)<=1&&x.ta&&(x.ta=void 0)}else zn(x,11)}else if((u.L||x.g==u)&&Wo(x),!N(_))for(q=x.Ba.g.parse(_),_=0;_<q.length;_++){let at=q[_];const Ot=at[0];if(!(Ot<=x.K))if(x.K=Ot,at=at[1],x.I==2)if(at[0]=="c"){x.M=at[1],x.ba=at[2];const Bn=at[3];Bn!=null&&(x.ka=Bn,x.j.info("VER="+x.ka));const ys=at[4];ys!=null&&(x.za=ys,x.j.info("SVER="+x.za));const Hr=at[5];Hr!=null&&typeof Hr=="number"&&Hr>0&&(A=1.5*Hr,x.O=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const Wr=u.g;if(Wr){const Qo=Wr.g?Wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qo){var Y=A.h;Y.g||Qo.indexOf("spdy")==-1&&Qo.indexOf("quic")==-1&&Qo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Lo(Y,Y.h),Y.h=null))}if(A.G){const El=Wr.g?Wr.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(A.wa=El,et(A.J,A.G,El))}}x.I=3,x.l&&x.l.ra(),x.aa&&(x.T=Date.now()-u.F,x.j.info("Handshake RTT: "+x.T+"ms")),A=x;var pe=u;if(A.na=xl(A,A.L?A.ba:null,A.W),pe.L){qi(A.h,pe);var Fe=pe,Rt=A.O;Rt&&(Fe.H=Rt),Fe.D&&(Mo(Fe),$i(Fe)),A.g=pe}else un(A);x.i.length>0&&gs(x)}else at[0]!="stop"&&at[0]!="close"||zn(x,7);else x.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?zn(x,7):$o(x):at[0]!="noop"&&x.l&&x.l.qa(at),x.A=0)}}dr(4)}catch{}}var Oh=class{constructor(u,_){this.g=u,this.map=_}};function Vo(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Wi(u){return u.h?1:u.g?u.g.size:0}function ul(u,_){return u.h?u.h==_:u.g?u.g.has(_):!1}function Lo(u,_){u.g?u.g.add(_):u.h=_}function qi(u,_){u.h&&u.h==_?u.h=null:u.g&&u.g.has(_)&&u.g.delete(_)}Vo.prototype.cancel=function(){if(this.i=Vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vn(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let _=u.i;for(const x of u.g.values())_=_.concat(x.G);return _}return b(u.i)}var qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ln(u,_){if(u){u=u.split("&");for(let x=0;x<u.length;x++){const A=u[x].indexOf("=");let q,Y=null;A>=0?(q=u[x].substring(0,A),Y=u[x].substring(A+1)):q=u[x],_(q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Or(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;u instanceof Or?(this.l=u.l,Gi(this,u.j),this.o=u.o,this.g=u.g,jr(this,u.u),this.h=u.h,qs(this,vl(u.i)),this.m=u.m):u&&(_=String(u).match(qc))?(this.l=!1,Gi(this,_[1]||"",!0),this.o=Ki(_[2]||""),this.g=Ki(_[3]||"",!0),jr(this,_[4]),this.h=Ki(_[5]||"",!0),qs(this,_[6]||"",!0),this.m=Ki(_[7]||"")):(this.l=!1,this.i=new Ke(null,this.l))}Or.prototype.toString=function(){const u=[];var _=this.j;_&&u.push(Qi(_,hl,!0),":");var x=this.g;return(x||_=="file")&&(u.push("//"),(_=this.o)&&u.push(Qi(_,hl,!0),"@"),u.push(Kt(x).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.u,x!=null&&u.push(":",String(x))),(x=this.h)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(Qi(x,x.charAt(0)=="/"?Yi:fl,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",Qi(x,pl)),u.join("")},Or.prototype.resolve=function(u){const _=Zn(this);let x=!!u.j;x?Gi(_,u.j):x=!!u.o,x?_.o=u.o:x=!!u.g,x?_.g=u.g:x=u.u!=null;var A=u.h;if(x)jr(_,u.u);else if(x=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=_.h.lastIndexOf("/");q!=-1&&(A=_.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const Y=[];for(let pe=0;pe<q.length;){const Fe=q[pe++];Fe=="."?A&&pe==q.length&&Y.push(""):Fe==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&pe==q.length&&Y.push("")):(Y.push(Fe),A=!0)}A=Y.join("/")}else A=q}return x?_.h=A:x=u.i.toString()!=="",x?qs(_,vl(u.i)):x=!!u.m,x&&(_.m=u.m),_};function Zn(u){return new Or(u)}function Gi(u,_,x){u.j=x?Ki(_,!0):_,u.j&&(u.j=u.j.replace(/:$/,""))}function jr(u,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);u.u=_}else u.u=null}function qs(u,_,x){_ instanceof Ke?(u.i=_,Uo(u.i,u.l)):(x||(_=Qi(_,jh)),u.i=new Ke(_,u.l))}function et(u,_,x){u.i.set(_,x)}function hs(u){return et(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ki(u,_){return u?_?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qi(u,_,x){return typeof u=="string"?(u=encodeURI(u).replace(_,dl),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,Yi=/[#\?]/g,jh=/[#\?@]/g,pl=/#/g;function Ke(u,_){this.h=this.g=null,this.i=u||null,this.j=!!_}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&Ln(u.i,function(_,x){u.add(decodeURIComponent(_.replace(/\+/g," ")),x)}))}n=Ke.prototype,n.add=function(u,_){Mr(this),this.i=null,u=Vr(this,u);let x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(_),this.h+=1,this};function ml(u,_){Mr(u),_=Vr(u,_),u.g.has(_)&&(u.i=null,u.h-=u.g.get(_).length,u.g.delete(_))}function Fo(u,_){return Mr(u),_=Vr(u,_),u.g.has(_)}n.forEach=function(u,_){Mr(this),this.g.forEach(function(x,A){x.forEach(function(q){u.call(_,q,A,this)},this)},this)};function gl(u,_){Mr(u);let x=[];if(typeof _=="string")Fo(u,_)&&(x=x.concat(u.g.get(Vr(u,_))));else for(u=Array.from(u.g.values()),_=0;_<u.length;_++)x=x.concat(u[_]);return x}n.set=function(u,_){return Mr(this),this.i=null,u=Vr(this,u),Fo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[_]),this.h+=1,this},n.get=function(u,_){return u?(u=gl(this,u),u.length>0?String(u[0]):_):_};function yl(u,_,x){ml(u,_),x.length>0&&(u.i=null,u.g.set(Vr(u,_),b(x)),u.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var x=_[A];const q=Kt(x);x=gl(this,x);for(let Y=0;Y<x.length;Y++){let pe=q;x[Y]!==""&&(pe+="="+Kt(x[Y])),u.push(pe)}}return this.i=u.join("&")};function vl(u){const _=new Ke;return _.i=u.i,u.g&&(_.g=new Map(u.g),_.h=u.h),_}function Vr(u,_){return _=String(_),u.j&&(_=_.toLowerCase()),_}function Uo(u,_){_&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(x,A){const q=A.toLowerCase();A!=q&&(ml(this,A),yl(this,q,x))},u)),u.j=_}function Lr(u,_){const x=new lt;if(c.Image){const A=new Image;A.onload=w(tn,x,"TestLoadImage: loaded",!0,_,A),A.onerror=w(tn,x,"TestLoadImage: error",!1,_,A),A.onabort=w(tn,x,"TestLoadImage: abort",!1,_,A),A.ontimeout=w(tn,x,"TestLoadImage: timeout",!1,_,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else _(!1)}function Fr(u,_){const x=new lt,A=new AbortController,q=setTimeout(()=>{A.abort(),tn(x,"TestPingServer: timeout",!1,_)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(q),Y.ok?tn(x,"TestPingServer: ok",!0,_):tn(x,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),tn(x,"TestPingServer: error",!1,_)})}function tn(u,_,x,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(x)}catch{}}function Xi(){this.g=new Tn}function fs(u){this.i=u.Sb||null,this.h=u.ab||!1}y(fs,cr),fs.prototype.g=function(){return new Fn(this.i,this.h)};function Fn(u,_){rt.call(this),this.H=u,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Fn,rt),n=Fn.prototype,n.open=function(u,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=_,this.readyState=1,pr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(_.body=u),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gs(this)),this.readyState=0},n.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gc(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gc(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}n.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var _=u.value?u.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!u.done}))&&(this.response=this.responseText+=_)}u.done?Gs(this):pr(this),this.readyState==3&&Gc(this)}},n.Oa=function(u){this.g&&(this.response=this.responseText=u,Gs(this))},n.Na=function(u){this.g&&(this.response=u,Gs(this))},n.ga=function(){this.g&&Gs(this)};function Gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,pr(u)}n.setRequestHeader=function(u,_){this.A.append(u,_)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],_=this.h.entries();for(var x=_.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=_.next();return u.join(`\r
`)};function pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kc(u){let _="";return ce(u,function(x,A){_+=A,_+=":",_+=x,_+=`\r
`}),_}function zo(u,_,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=Kc(x),typeof u=="string"?x!=null&&Kt(x):et(u,_,x))}function ct(u){rt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ct,rt);var Qc=/^https?$/i,Mh=["POST","PUT"];n=ct.prototype,n.Fa=function(u){this.H=u},n.ea=function(u,_,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);_=_?_.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():cn.g(),this.g.onreadystatechange=E(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(u),!0),this.B=!1}catch(Y){Ks(this,Y);return}if(u=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)x.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())x.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=c.FormData&&u instanceof c.FormData,!(Array.prototype.indexOf.call(Mh,_,void 0)>=0)||A||q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,pe]of x)this.g.setRequestHeader(Y,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Y){Ks(this,Y)}};function Ks(u,_){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=_,u.o=5,Qs(u),ms(u)}function Qs(u){u.A||(u.A=!0,Et(u,"complete"),Et(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Et(this,"complete"),Et(this,"abort"),ms(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),ct.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},n.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof a<"u"){if(u.v&&Ur(u)==4)setTimeout(u.Ca.bind(u),0);else if(Et(u,"readystatechange"),Ur(u)==4){u.h=!1;try{const Y=u.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var x;if(!(x=_)){var A;if(A=Y===0){let pe=String(u.D).match(qc)[1]||null;!pe&&c.self&&c.self.location&&(pe=c.self.location.protocol.slice(0,-1)),A=!Qc.test(pe?pe.toLowerCase():"")}x=A}if(x)Et(u,"complete"),Et(u,"success");else{u.o=6;try{var q=Ur(u)>2?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.ca()+"]",Qs(u)}}finally{ms(u)}}}}function ms(u,_){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const x=u.g;u.g=null,_||Et(u,"ready");try{x.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ur(u){return u.g?u.g.readyState:0}n.ca=function(){try{return Ur(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(u){if(this.g){var _=this.g.responseText;return u&&_.indexOf(u)==0&&(_=_.substring(u.length)),zs(_)}};function Yc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _l(u){const _={};u=(u.g&&Ur(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(N(u[A]))continue;var x=Bi(u[A]);const q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=_[q]||[];_[q]=Y,Y.push(x)}oe(_,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function zr(u,_,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||_}function Bo(u){this.za=0,this.i=[],this.j=new lt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=zr("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=zr("baseRetryDelayMs",5e3,u),this.Za=zr("retryDelaySeedMs",1e4,u),this.Ta=zr("forwardChannelMaxRetries",2,u),this.va=zr("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vo(u&&u.concurrentRequestLimit),this.Ba=new Xi,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Bo.prototype,n.ka=8,n.I=1,n.connect=function(u,_,x,A){ft(0),this.W=u,this.H=_||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.J=xl(this,null,this.W),gs(this)};function $o(u){if(Ho(u),u.I==3){var _=u.V++,x=Zn(u.J);if(et(x,"SID",u.M),et(x,"RID",_),et(x,"TYPE","terminate"),Br(u,x),_=new Jn(u,u.j,_),_.M=2,_.A=hs(Zn(x)),x=!1,c.navigator&&c.navigator.sendBeacon)try{x=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!x&&c.Image&&(new Image().src=_.A,x=!0),x||(_.g=Jc(_.j,null),_.g.ea(_.A)),_.F=Date.now(),$i(_)}eo(u)}function Un(u){u.g&&(Zi(u),u.g.cancel(),u.g=null)}function Ho(u){Un(u),u.v&&(c.clearTimeout(u.v),u.v=null),Wo(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&c.clearTimeout(u.m),u.m=null)}function gs(u){if(!cl(u.h)&&!u.m){u.m=!0;var _=u.Ea;X||C(),J||(X(),J=!0),k.add(_,u),u.D=0}}function Xc(u,_){return Wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=_.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Oe(m(u.Ea,u,_),Go(u,u.D)),u.D++,!0)}n.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const q=new Jn(this,this.j,u);let Y=this.o;if(this.U&&(Y?(Y=$(Y),ie(Y,this.U)):Y=this.U),this.u!==null||this.R||(q.J=Y,Y=null),this.S)e:{for(var _=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=x;break e}if(_===4096||x===this.i.length-1){_=x+1;break e}}_=1e3}else _=1e3;_=wl(this,q,_),x=Zn(this.J),et(x,"RID",u),et(x,"CVER",22),this.G&&et(x,"X-HTTP-Session-Id",this.G),Br(this,x),Y&&(this.R?_="headers="+Kt(Kc(Y))+"&"+_:this.u&&zo(x,this.u,Y)),Lo(this.h,q),this.Ra&&et(x,"TYPE","init"),this.S?(et(x,"$req",_),et(x,"SID","null"),q.U=!0,fr(q,x,null)):fr(q,x,_),this.I=2}}else this.I==3&&(u?Ji(this,u):this.i.length==0||cl(this.h)||Ji(this))};function Ji(u,_){var x;_?x=_.l:x=u.V++;const A=Zn(u.J);et(A,"SID",u.M),et(A,"RID",x),et(A,"AID",u.K),Br(u,A),u.u&&u.o&&zo(A,u.u,u.o),x=new Jn(u,u.j,x,u.D+1),u.u===null&&(x.J=u.o),_&&(u.i=_.G.concat(u.i)),_=wl(u,x,1e3),x.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Lo(u.h,x),fr(x,A,_)}function Br(u,_){u.H&&ce(u.H,function(x,A){et(_,A,x)}),u.l&&ce({},function(x,A){et(_,A,x)})}function wl(u,_,x){x=Math.min(u.i.length,x);const A=u.l?m(u.l.Ka,u.l,u):null;e:{var q=u.i;let Fe=-1;for(;;){const Rt=["count="+x];Fe==-1?x>0?(Fe=q[0].g,Rt.push("ofs="+Fe)):Fe=0:Rt.push("ofs="+Fe);let at=!0;for(let Ot=0;Ot<x;Ot++){var Y=q[Ot].g;const Bn=q[Ot].map;if(Y-=Fe,Y<0)Fe=Math.max(0,q[Ot].g-100),at=!1;else try{Y="req"+Y+"_"||"";try{var pe=Bn instanceof Map?Bn:Object.entries(Bn);for(const[ys,Hr]of pe){let Wr=Hr;h(Hr)&&(Wr=lr(Hr)),Rt.push(Y+ys+"="+encodeURIComponent(Wr))}}catch(ys){throw Rt.push(Y+"type="+encodeURIComponent("_badmap")),ys}}catch{A&&A(Bn)}}if(at){pe=Rt.join("&");break e}}pe=void 0}return u=u.i.splice(0,x),_.G=u,pe}function un(u){if(!u.g&&!u.v){u.Y=1;var _=u.Da;X||C(),J||(X(),J=!0),k.add(_,u),u.A=0}}function $r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Oe(m(u.Da,u),Go(u,u.A)),u.A++,!0)}n.Da=function(){if(this.v=null,Ys(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Oe(m(this.Wa,this),u)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),Un(this),Ys(this))};function Zi(u){u.B!=null&&(c.clearTimeout(u.B),u.B=null)}function Ys(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var _=Zn(u.na);et(_,"RID","rpc"),et(_,"SID",u.M),et(_,"AID",u.K),et(_,"CI",u.F?"0":"1"),!u.F&&u.ia&&et(_,"TO",u.ia),et(_,"TYPE","xmlhttp"),Br(u,_),u.u&&u.o&&zo(_,u.u,u.o),u.O&&(u.g.H=u.O);var x=u.g;u=u.ba,x.M=1,x.A=hs(Zn(_)),x.u=null,x.R=!0,al(x,u)}n.Va=function(){this.C!=null&&(this.C=null,Un(this),$r(this),ft(19))};function Wo(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function qo(u,_){var x=null;if(u.g==_){Wo(u),Zi(u),u.g=null;var A=2}else if(ul(u.h,_))x=_.G,qi(u.h,_),A=1;else return;if(u.I!=0){if(_.o)if(A==1){x=_.u?_.u.length:0,_=Date.now()-_.F;var q=u.D;A=Yn(),Et(A,new Ws(A,x)),gs(u)}else un(u);else if(q=_.m,q==3||q==0&&_.X>0||!(A==1&&Xc(u,_)||A==2&&$r(u)))switch(x&&x.length>0&&(_=u.h,_.i=_.i.concat(x)),q){case 1:zn(u,5);break;case 4:zn(u,10);break;case 3:zn(u,6);break;default:zn(u,2)}}}function Go(u,_){let x=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(x*=2),x*_}function zn(u,_){if(u.j.info("Error code "+_),_==2){var x=m(u.bb,u),A=u.Ua;const q=!A;A=new Or(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Gi(A,"https"),hs(A),q?Lr(A.toString(),x):Fr(A.toString(),x)}else ft(2);u.I=0,u.l&&u.l.pa(_),eo(u),Ho(u)}n.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function eo(u){if(u.I=0,u.ja=[],u.l){const _=Vn(u.h);(_.length!=0||u.i.length!=0)&&(D(u.ja,_),D(u.ja,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.oa()}}function xl(u,_,x){var A=x instanceof Or?Zn(x):new Or(x);if(A.g!="")_&&(A.g=_+"."+A.g),jr(A,A.u);else{var q=c.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const Y=new Or(null);A&&Gi(Y,A),_&&(Y.g=_),q&&jr(Y,q),x&&(Y.h=x),A=Y}return x=u.G,_=u.wa,x&&_&&et(A,x,_),et(A,"VER",u.ka),Br(u,A),A}function Jc(u,_,x){if(_&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=u.Aa&&!u.ma?new ct(new fs({ab:x})):new ct(u.ma),_.Fa(u.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zc(){}n=Zc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ko(){}Ko.prototype.g=function(u,_){return new nn(u,_)};function nn(u,_){rt.call(this),this.g=new Bo(_),this.l=u,this.h=_&&_.messageUrlParams||null,u=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(u?u["X-WebChannel-Content-Type"]=_.messageContentType:u={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(u?u["X-WebChannel-Client-Profile"]=_.sa:u={"X-WebChannel-Client-Profile":_.sa}),this.g.U=u,(u=_&&_.Qb)&&!N(u)&&(this.g.u=u),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!N(_)&&(this.g.G=_,u=this.h,u!==null&&_ in u&&(u=this.h,_ in u&&delete u[_])),this.j=new Xs(this)}y(nn,rt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(u){var _=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.v&&(x={},x.__data__=lr(u),u=x);_.i.push(new Oh(_.Ya++,u)),_.I==3&&gs(_)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.Z.N.call(this)};function eu(u){Bs.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var _=u.__sm__;if(_){e:{for(const x in _){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,_=_!==null&&u in _?_[u]:void 0),this.data=_}else this.data=u}y(eu,Bs);function tu(){$s.call(this),this.status=1}y(tu,$s);function Xs(u){this.g=u}y(Xs,Zc),Xs.prototype.ra=function(){Et(this.g,"a")},Xs.prototype.qa=function(u){Et(this.g,new eu(u))},Xs.prototype.pa=function(u){Et(this.g,new tu)},Xs.prototype.oa=function(){Et(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,q0=function(){return new Ko},W0=function(){return Yn()},H0=Sn,zp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mn.NO_ERROR=0,Mn.TIMEOUT=8,Mn.HTTP_ERROR=6,dd=Mn,Dt.COMPLETE="complete",$0=Dt,ur.EventType=Dr,Dr.OPEN="a",Dr.CLOSE="b",Dr.ERROR="c",Dr.MESSAGE="d",rt.prototype.listen=rt.prototype.J,Zl=ur,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,B0=ct}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",m_="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=new Cm("@firebase/firestore");function xa(){return Eo.logLevel}function _e(n,...e){if(Eo.logLevel<=We.DEBUG){const t=e.map(km);Eo.debug(`Firestore (${Ga}): ${n}`,...t)}}function Ps(n,...e){if(Eo.logLevel<=We.ERROR){const t=e.map(km);Eo.error(`Firestore (${Ga}): ${n}`,...t)}}function ja(n,...e){if(Eo.logLevel<=We.WARN){const t=e.map(km);Eo.warn(`Firestore (${Ga}): ${n}`,...t)}}function km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,G0(n,r,t)}function G0(n,e,t){let r=`FIRESTORE (${Ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ps(r),new Error(r)}function ot(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||G0(e,o,r)}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ls{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gn.UNAUTHENTICATED)))}shutdown(){}}class jC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class MC{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new vo,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},h=f=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new vo)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ot(typeof r.accessToken=="string",31837,{l:r}),new K0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class VC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const r=a=>{a.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.m;return this.m=a.token,_e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new g_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=UC(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function qe(n,e){return n<e?-1:n>e?1:0}function Bp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return pp(o)===pp(a)?qe(o,a):pp(o)?1:-1}return qe(n.length,e.length)}const zC=55296,BC=57343;function pp(n){const e=n.charCodeAt(0);return e>=zC&&e<=BC}function Ma(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class Xr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Me(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Me(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Xr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return qe(e.length,t.length)}static compareSegments(e,t){const r=Xr.isNumericId(e),o=Xr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Xr.extractNumericId(e).compare(Xr.extractNumericId(t)):Bp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class ht extends Xr{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const $C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Xr{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return $C.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new an([y_])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new we(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new we(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new we(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(r+=h,o++):(a(),o++)}if(a(),c)throw new we(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(ht.fromString(e))}static fromName(e){return new ke(ht.fromString(e).popFirst(5))}static empty(){return new ke(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new ht(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(n,e,t){if(!t)throw new we(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HC(n,e,t,r){if(e===!0&&r===!0)throw new we(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function v_(n){if(!ke.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function __(n){if(ke.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Y0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function th(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Me(12329,{type:typeof n})}function _o(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=th(n);throw new we(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cc(n,e){if(!Y0(n))throw new we(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(o&&typeof c!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&c!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new we(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,x_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*x_);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<w_)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Lt("string",yt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new yt(0,0))}static max(){return new Le(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function WC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new Ci(o,ke.empty(),e)}function qC(n){return new Ci(n.readTime,n.key,hc)}class Ci{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ci(Le.min(),ke.empty(),hc)}static max(){return new Ci(Le.max(),ke.empty(),hc)}}function GC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==KC)throw n;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):te.reject(t)}static resolve(e){return new te(((t,r)=>{t(e)}))}static reject(e){return new te(((t,r)=>{r(e)}))}static waitFor(e){return new te(((t,r)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(f=>r(f)))})),c=!0,a===o&&t()}))}static or(e){let t=te.resolve(!1);for(const r of e)t=t.next((o=>o?te.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new te(((r,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next((w=>{c[m]=w,++h,h===a&&r(c)}),(w=>o(w)))}}))}static doWhile(e,t){return new te(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function YC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pm=-1;function rh(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function XC(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="";function JC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=E_(e)),e=ZC(n.get(t),e);return E_(e)}function ZC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case X0:t+="";break;default:t+=a}}return t}function E_(n){return n+X0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Mi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function J0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||on.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=a??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new on(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new on(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ht(this.comparator);return t.data=e,t}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Gn([])}unionWith(e){let t=new Ht(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ma(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Z0("Invalid base64 string: "+a):a}})(e);return new ln(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const eA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(ot(!!n,39018),typeof n=="string"){let e=0;const t=eA.exec(n);if(ot(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ri(n){return typeof n=="string"?ln.fromBase64String(n):ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="server_timestamp",tx="__type__",nx="__previous_value__",rx="__local_write_time__";function Dm(n){return(n?.mapValue?.fields||{})[tx]?.stringValue===ex}function sh(n){const e=n.mapValue.fields[nx];return Dm(e)?sh(e):e}function fc(n){const e=Ai(n.mapValue.fields[rx].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t,r,o,a,c,h,f,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=w}}const Cd="(default)";class pc{constructor(e,t){this.projectId=e,this.database=t||Cd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===Cd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__type__",nA="__max__",Xu={mapValue:{}},ix="__vector__",Ad="value";function ki(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Dm(n)?4:sA(n)?9007199254740991:rA(n)?10:11:Me(28295,{value:n})}function ls(n,e){if(n===e)return!0;const t=ki(n);if(t!==ki(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=Ai(o.timestampValue),h=Ai(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return Ri(o.bytesValue).isEqual(Ri(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Nt(o.geoPointValue.latitude)===Nt(a.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Nt(o.integerValue)===Nt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=Nt(o.doubleValue),h=Nt(a.doubleValue);return c===h?bd(c)===bd(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Ma(n.arrayValue.values||[],e.arrayValue.values||[],ls);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(T_(c)!==T_(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!ls(c[f],h[f])))return!1;return!0})(n,e);default:return Me(52216,{left:n})}}function mc(n,e){return(n.values||[]).find((t=>ls(t,e)))!==void 0}function Va(n,e){if(n===e)return 0;const t=ki(n),r=ki(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=Nt(a.integerValue||a.doubleValue),f=Nt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return I_(n.timestampValue,e.timestampValue);case 4:return I_(fc(n),fc(e));case 5:return Bp(n.stringValue,e.stringValue);case 6:return(function(a,c){const h=Ri(a),f=Ri(c);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const w=qe(h[m],f[m]);if(w!==0)return w}return qe(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=qe(Nt(a.latitude),Nt(c.latitude));return h!==0?h:qe(Nt(a.longitude),Nt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return b_(n.arrayValue,e.arrayValue);case 10:return(function(a,c){const h=a.fields||{},f=c.fields||{},m=h[Ad]?.arrayValue,w=f[Ad]?.arrayValue,y=qe(m?.values?.length||0,w?.values?.length||0);return y!==0?y:b_(m,w)})(n.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Xu.mapValue&&c===Xu.mapValue)return 0;if(a===Xu.mapValue)return 1;if(c===Xu.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=c.fields||{},w=Object.keys(m);f.sort(),w.sort();for(let y=0;y<f.length&&y<w.length;++y){const E=Bp(f[y],w[y]);if(E!==0)return E;const b=Va(h[f[y]],m[w[y]]);if(b!==0)return b}return qe(f.length,w.length)})(n.mapValue,e.mapValue);default:throw Me(23264,{he:t})}}function I_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Ai(n),r=Ai(e),o=qe(t.seconds,r.seconds);return o!==0?o:qe(t.nanos,r.nanos)}function b_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Va(t[o],r[o]);if(a)return a}return qe(t.length,r.length)}function La(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ai(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ri(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ke.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=$p(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of r)a?a=!1:o+=",",o+=`${c}:${$p(t.fields[c])}`;return o+"}"})(n.mapValue):Me(61005,{value:n})}function hd(n){switch(ki(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sh(n);return e?16+hd(e):16;case 5:return 2*n.stringValue.length;case 6:return Ri(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+hd(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return Mi(r.fields,((a,c)=>{o+=a.length+hd(c)})),o})(n.mapValue);default:throw Me(13486,{value:n})}}function C_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hp(n){return!!n&&"integerValue"in n}function Om(n){return!!n&&"arrayValue"in n}function A_(n){return!!n&&"nullValue"in n}function R_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fd(n){return!!n&&"mapValue"in n}function rA(n){return(n?.mapValue?.fields||{})[sx]?.stringValue===ix}function oc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Mi(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=oc(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oc(n.arrayValue.values[t]);return e}return{...n}}function sA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===nA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=an.emptyPath(),r={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=h.popLast()}c?r[h.lastSegment()]=oc(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ls(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];fd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Mi(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Dn(oc(this.value))}}function ox(n){const e=[];return Mi(n.fields,((t,r)=>{const o=new an([t]);if(fd(r)){const a=ox(r.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,r,o,a,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new yn(e,0,Le.min(),Le.min(),Le.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,o){return new yn(e,1,t,Le.min(),r,o,0)}static newNoDocument(e,t){return new yn(e,2,t,Le.min(),Le.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new yn(e,3,t,Le.min(),Le.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t){this.position=e,this.inclusive=t}}function k_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?r=ke.comparator(ke.fromName(c.referenceValue),t.key):r=Va(c,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function N_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ls(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function iA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{}class Vt extends ax{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new aA(e,t,r):t==="array-contains"?new uA(e,r):t==="in"?new dA(e,r):t==="not-in"?new hA(e,r):t==="array-contains-any"?new fA(e,r):new Vt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new lA(e,r):new cA(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Va(t,this.value)):t!==null&&ki(this.value)===ki(t)&&this.matchesComparison(Va(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends ax{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return lx(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lx(n){return n.op==="and"}function cx(n){return oA(n)&&lx(n)}function oA(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function Wp(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+La(n.value);if(cx(n))return n.filters.map((e=>Wp(e))).join(",");{const e=n.filters.map((t=>Wp(t))).join(",");return`${n.op}(${e})`}}function ux(n,e){return n instanceof Vt?(function(r,o){return o instanceof Vt&&r.op===o.op&&r.field.isEqual(o.field)&&ls(r.value,o.value)})(n,e):n instanceof Ir?(function(r,o){return o instanceof Ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,c,h)=>a&&ux(c,o.filters[h])),!0):!1})(n,e):void Me(19439)}function dx(n){return n instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${La(t.value)}`})(n):n instanceof Ir?(function(t){return t.op.toString()+" {"+t.getFilters().map(dx).join(" ,")+"}"})(n):"Filter"}class aA extends Vt{constructor(e,t,r){super(e,t,r),this.key=ke.fromName(r.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class lA extends Vt{constructor(e,t){super(e,"in",t),this.keys=hx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class cA extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=hx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function hx(n,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class uA extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Om(t)&&mc(t.arrayValue,this.value)}}class dA extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mc(this.value.arrayValue,t)}}class hA extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mc(this.value.arrayValue,t)}}class fA extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Om(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t=null,r=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.Te=null}}function P_(n,e=null,t=[],r=[],o=null,a=null,c=null){return new pA(n,e,t,r,o,a,c)}function jm(n){const e=Ue(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Wp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>La(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>La(r))).join(",")),e.Te=t}return e.Te}function Mm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!iA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ux(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N_(n.startAt,e.startAt)&&N_(n.endAt,e.endAt)}function qp(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t=null,r=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mA(n,e,t,r,o,a,c,h){return new Ac(n,e,t,r,o,a,c,h)}function Vm(n){return new Ac(n)}function D_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function fx(n){return n.collectionGroup!==null}function ac(n){const e=Ue(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ht(an.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new kd(a,r))})),t.has(an.keyField().canonicalString())||e.Ie.push(new kd(an.keyField(),r))}return e.Ie}function es(n){const e=Ue(n);return e.Ee||(e.Ee=gA(e,ac(n))),e.Ee}function gA(n,e){if(n.limitType==="F")return P_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new kd(o.field,a)}));const t=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return P_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gp(n,e){const t=n.filters.concat([e]);return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Kp(n,e,t){return new Ac(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ih(n,e){return Mm(es(n),es(e))&&n.limitType===e.limitType}function px(n){return`${jm(es(n))}|lt:${n.limitType}`}function Ea(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>dx(o))).join(", ")}]`),rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>La(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>La(o))).join(",")),`Target(${r})`})(es(n))}; limitType=${n.limitType})`}function oh(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ke.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of ac(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(c,h,f){const m=k_(c,h,f);return c.inclusive?m<=0:m<0})(r.startAt,ac(r),o)||r.endAt&&!(function(c,h,f){const m=k_(c,h,f);return c.inclusive?m>=0:m>0})(r.endAt,ac(r),o))})(n,e)}function yA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mx(n){return(e,t)=>{let r=!1;for(const o of ac(n)){const a=vA(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function vA(n,e,t){const r=n.field.isKeyField()?ke.comparator(e.key,t.key):(function(a,c,h){const f=c.data.field(a),m=h.data.field(a);return f!==null&&m!==null?Va(f,m):Me(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=new It(ke.comparator);function Ds(){return _A}const gx=new It(ke.comparator);function ec(...n){let e=gx;for(const t of n)e=e.insert(t.key,t);return e}function yx(n){let e=gx;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function go(){return lc()}function vx(){return lc()}function lc(){return new No((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wA=new It(ke.comparator),xA=new Ht(ke.comparator);function Ge(...n){let e=xA;for(const t of n)e=e.add(t);return e}const EA=new Ht(qe);function TA(){return EA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function _x(n){return{integerValue:""+n}}function SA(n,e){return XC(e)?_x(e):Lm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function IA(n,e,t){return n instanceof Nd?(function(o,a){const c={fields:{[tx]:{stringValue:ex},[rx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Dm(a)&&(a=sh(a)),a&&(c.fields[nx]=a),{mapValue:c}})(t,e):n instanceof Fa?xx(n,e):n instanceof gc?Ex(n,e):(function(o,a){const c=wx(o,a),h=O_(c)+O_(o.Ae);return Hp(c)&&Hp(o.Ae)?_x(h):Lm(o.serializer,h)})(n,e)}function bA(n,e,t){return n instanceof Fa?xx(n,e):n instanceof gc?Ex(n,e):t}function wx(n,e){return n instanceof Pd?(function(r){return Hp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Nd extends ah{}class Fa extends ah{constructor(e){super(),this.elements=e}}function xx(n,e){const t=Tx(e);for(const r of n.elements)t.some((o=>ls(o,r)))||t.push(r);return{arrayValue:{values:t}}}class gc extends ah{constructor(e){super(),this.elements=e}}function Ex(n,e){let t=Tx(e);for(const r of n.elements)t=t.filter((o=>!ls(o,r)));return{arrayValue:{values:t}}}class Pd extends ah{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function O_(n){return Nt(n.integerValue||n.doubleValue)}function Tx(n){return Om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.field=e,this.transform=t}}function AA(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Fa&&o instanceof Fa||r instanceof gc&&o instanceof gc?Ma(r.elements,o.elements,ls):r instanceof Pd&&o instanceof Pd?ls(r.Ae,o.Ae):r instanceof Nd&&o instanceof Nd})(n.transform,e.transform)}class RA{constructor(e,t){this.version=e,this.transformResults=t}}class ts{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ts}static exists(e){return new ts(void 0,e)}static updateTime(e){return new ts(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lh{}function Sx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bx(n.key,ts.none()):new Rc(n.key,n.data,ts.none());{const t=n.data,r=Dn.empty();let o=new Ht(an.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?r.delete(a):r.set(a,c),o=o.add(a)}return new Vi(n.key,r,new Gn(o.toArray()),ts.none())}}function kA(n,e,t){n instanceof Rc?(function(o,a,c){const h=o.value.clone(),f=M_(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Vi?(function(o,a,c){if(!pd(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=M_(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(Ix(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function cc(n,e,t,r){return n instanceof Rc?(function(a,c,h,f){if(!pd(a.precondition,c))return h;const m=a.value.clone(),w=V_(a.fieldTransforms,f,c);return m.setAll(w),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof Vi?(function(a,c,h,f){if(!pd(a.precondition,c))return h;const m=V_(a.fieldTransforms,f,c),w=c.data;return w.setAll(Ix(a)),w.setAll(m),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(a,c,h){return pd(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function NA(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=wx(r.transform,o||null);a!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,a))}return t||null}function j_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ma(r,o,((a,c)=>AA(a,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Rc extends lh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Vi extends lh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function M_(n,e,t){const r=new Map;ot(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);r.set(a.field,bA(c,h,t[o]))}return r}function V_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);r.set(o.field,IA(a,c,e))}return r}class bx extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PA extends lh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&kA(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=vx();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=Sx(c,h);f!==null&&r.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Le.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ge())}isEqual(e){return this.batchId===e.batchId&&Ma(this.mutations,e.mutations,((t,r)=>j_(t,r)))&&Ma(this.baseMutations,e.baseMutations,((t,r)=>j_(t,r)))}}class Fm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ot(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return wA})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,r[c].version);return new Fm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OA=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ye;function MA(n){switch(n){case ee.OK:return Me(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Me(15467,{code:n})}}function Cx(n){if(n===void 0)return Ps("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Mt.OK:return ee.OK;case Mt.CANCELLED:return ee.CANCELLED;case Mt.UNKNOWN:return ee.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ee.INTERNAL;case Mt.UNAVAILABLE:return ee.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ee.NOT_FOUND;case Mt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Mt.ABORTED:return ee.ABORTED;case Mt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Mt.DATA_LOSS:return ee.DATA_LOSS;default:return Me(39323,{code:n})}}(Ye=Mt||(Mt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Ti([4294967295,4294967295],0);function L_(n){const e=VA().encode(n),t=new z0;return t.update(e),new Uint8Array(t.digest())}function F_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ti([t,r],0),new Ti([o,a],0)]}class Um{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new tc(`Invalid padding: ${t}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new tc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ti.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Ti.fromNumber(r)));return o.compare(LA)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=L_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);if(!this.we(c))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Um(a,o,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=L_(e),[r,o]=F_(t);for(let a=0;a<this.hashCount;a++){const c=this.ye(r,o,a);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ch(Le.min(),o,new It(qe),Ds(),Ge())}}class kc{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new kc(r,t,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class Ax{constructor(e,t){this.targetId=e,this.Ce=t}}class Rx{constructor(e,t,r=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class U_{constructor(){this.ve=0,this.Fe=z_(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ge(),t=Ge(),r=Ge();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Me(38017,{changeType:a})}})),new kc(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=z_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.Je=Ju(),this.He=Ju(),this.Ye=new It(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(qp(a))if(r===0){const c=new ke(a.path);this.et(t,c,yn.newNoDocument(c,Le.min()))}else ot(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),f=h?this.ct(h,e,c):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=Ri(r).toUint8Array()}catch(f){if(f instanceof Z0)return ja("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Um(c,o,a)}catch(f){return ja(f instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,c)=>{const h=this.ot(c);if(h){if(a.current&&qp(h.target)){const f=new ke(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,yn.newNoDocument(f,e))}a.Be&&(t.set(c,a.ke()),a.qe())}}));let r=Ge();this.He.forEach(((a,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(a))})),this.je.forEach(((a,c)=>c.setReadTime(e)));const o=new ch(e,t,this.Ye,this.je,r);return this.je=Ds(),this.Je=Ju(),this.He=Ju(),this.Ye=new It(qe),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new U_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ht(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ht(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ju(){return new It(ke.comparator)}function z_(){return new It(ke.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},zA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BA={and:"AND",or:"OR"};class $A{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(n,e){return n.useProto3Json||rh(e)?e:{value:e}}function Dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HA(n,e){return Dd(n,e.toTimestamp())}function ns(n){return ot(!!n,49232),Le.fromTimestamp((function(t){const r=Ai(t);return new yt(r.seconds,r.nanos)})(n))}function zm(n,e){return Yp(n,e).canonicalString()}function Yp(n,e){const t=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Nx(n){const e=ht.fromString(n);return ot(Mx(e),10190,{key:e.toString()}),e}function Xp(n,e){return zm(n.databaseId,e.path)}function mp(n,e){const t=Nx(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(Dx(t))}function Px(n,e){return zm(n.databaseId,e)}function WA(n){const e=Nx(n);return e.length===4?ht.emptyPath():Dx(e)}function Jp(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Dx(n){return ot(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function B_(n,e,t){return{name:Xp(n,e),fields:t.value.mapValue.fields}}function qA(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Me(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(m,w){return m.useProto3Json?(ot(w===void 0||typeof w=="string",58123),ln.fromBase64String(w||"")):(ot(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),ln.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const w=m.code===void 0?ee.UNKNOWN:Cx(m.code);return new we(w,m.message||"")})(c);t=new Rx(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=mp(n,r.document.name),a=ns(r.document.updateTime),c=r.document.createTime?ns(r.document.createTime):Le.min(),h=new Dn({mapValue:{fields:r.document.fields}}),f=yn.newFoundDocument(o,a,c,h),m=r.targetIds||[],w=r.removedTargetIds||[];t=new md(m,w,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=mp(n,r.document),a=r.readTime?ns(r.readTime):Le.min(),c=yn.newNoDocument(o,a),h=r.removedTargetIds||[];t=new md([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=mp(n,r.document),a=r.removedTargetIds||[];t=new md([],a,o,null)}else{if(!("filter"in e))return Me(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,c=new jA(o,a),h=r.targetId;t=new Ax(h,c)}}return t}function GA(n,e){let t;if(e instanceof Rc)t={update:B_(n,e.key,e.value)};else if(e instanceof bx)t={delete:Xp(n,e.key)};else if(e instanceof Vi)t={update:B_(n,e.key,e.data),updateMask:nR(e.fieldMask)};else{if(!(e instanceof PA))return Me(16599,{Vt:e.type});t={verify:Xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,c){const h=c.transform;if(h instanceof Nd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fa)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Pd)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Me(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:HA(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Me(27497)})(n,e.precondition)),t}function KA(n,e){return n&&n.length>0?(ot(e!==void 0,14353),n.map((t=>(function(o,a){let c=o.updateTime?ns(o.updateTime):ns(a);return c.isEqual(Le.min())&&(c=ns(a)),new RA(c,o.transformResults||[])})(t,e)))):[]}function QA(n,e){return{documents:[Px(n,e.path)]}}function YA(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Px(n,o);const a=(function(m){if(m.length!==0)return jx(Ir.create(m,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(m){if(m.length!==0)return m.map((w=>(function(E){return{field:Ta(E.field),direction:ZA(E.dir)}})(w)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Qp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function XA(n){let e=WA(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ot(r===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=(function(y){const E=Ox(y);return E instanceof Ir&&cx(E)?E.getFilters():[E]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((E=>(function(D){return new kd(Sa(D.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(t.orderBy));let h=null;t.limit&&(h=(function(y){let E;return E=typeof y=="object"?y.value:y,rh(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(y){const E=!!y.before,b=y.values||[];return new Rd(b,E)})(t.startAt));let m=null;return t.endAt&&(m=(function(y){const E=!y.before,b=y.values||[];return new Rd(b,E)})(t.endAt)),mA(e,o,c,a,h,"F",f,m)}function JA(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Ox(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Sa(t.unaryFilter.field);return Vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sa(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Sa(t.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Sa(t.unaryFilter.field);return Vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Vt.create(Sa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ir.create(t.compositeFilter.filters.map((r=>Ox(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(t.compositeFilter.op))})(n):Me(30097,{filter:n})}function ZA(n){return UA[n]}function eR(n){return zA[n]}function tR(n){return BA[n]}function Ta(n){return{fieldPath:n.canonicalString()}}function Sa(n){return an.fromServerFormat(n.fieldPath)}function jx(n){return n instanceof Vt?(function(t){if(t.op==="=="){if(R_(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NAN"}};if(A_(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(R_(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NAN"}};if(A_(t.value))return{unaryFilter:{field:Ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(t.field),op:eR(t.op),value:t.value}}})(n):n instanceof Ir?(function(t){const r=t.getFilters().map((o=>jx(o)));return r.length===1?r[0]:{compositeFilter:{op:tR(t.op),filters:r}}})(n):Me(54877,{filter:n})}function nR(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Mx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t,r,o,a=Le.min(),c=Le.min(),h=ln.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.yt=e}}function sR(n){const e=XA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Kp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Cn=new oR}addToCollectionParentIndex(e,t){return this.Cn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(Ci.min())}updateCollectionGroup(e,t,r){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class oR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ht(ht.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ht(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vx=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(Vx,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ua(0)}static cr(){return new Ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",aR=1048576;function W_([n,e],[t,r]){const o=qe(n,t);return o===0?qe(e,r):o}class lR{constructor(e){this.Ir=e,this.buffer=new Ht(W_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();W_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){_e(H_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qa(t)?_e(H_,"Ignoring IndexedDB error during garbage collection: ",t):await Ka(t)}await this.Vr(3e5)}))}}class uR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return te.resolve(nh.ce);const r=new lR(t);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve($_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,c,h,f,m;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,c=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(r=y,h=Date.now(),this.removeTargets(e,r,t)))).next((y=>(a=y,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(m=Date.now(),xa()<=We.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(m-f)+`ms
Total Duration: ${m-w}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:y}))))}}function dR(n,e){return new uR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.changes=new No((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?te.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&cc(r.mutation,o,Gn.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Ge()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Ge()){const o=go();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let c=ec();return a.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=go();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Ge())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,o){let a=Ds();const c=lc(),h=(function(){return lc()})();return t.forEach(((f,m)=>{const w=r.get(m.key);o.has(m.key)&&(w===void 0||w.mutation instanceof Vi)?a=a.insert(m.key,m):w!==void 0?(c.set(m.key,w.mutation.getFieldMask()),cc(w.mutation,m,w.mutation.getFieldMask(),yt.now())):c.set(m.key,Gn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((m,w)=>c.set(m,w))),t.forEach(((m,w)=>h.set(m,new fR(w,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=lc();let o=new It(((c,h)=>c-h)),a=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let w=r.get(f)||Gn.empty();w=h.applyToLocalView(m,w),r.set(f,w);const y=(o.get(h.batchId)||Ge()).add(f);o=o.insert(h.batchId,y)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,w=f.value,y=vx();w.forEach((E=>{if(!a.has(E)){const b=Sx(t.get(E),r.get(E));b!==null&&y.set(E,b),a=a.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,y))}return te.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return(function(c){return ke.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):fx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):te.resolve(go());let h=hc,f=a;return c.next((m=>te.forEach(m,((w,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),a.get(w)?te.resolve():this.remoteDocumentCache.getEntry(e,w).next((E=>{f=f.insert(w,E)}))))).next((()=>this.populateOverlays(e,m,a))).next((()=>this.computeViews(e,f,m,Ge()))).next((w=>({batchId:h,changes:yx(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((r=>{let o=ec();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let c=ec();return this.indexManager.getCollectionParents(e,a).next((h=>te.forEach(h,(f=>{const m=(function(y,E){return new Ac(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next((w=>{w.forEach(((y,E)=>{c=c.insert(y,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((c=>{a.forEach(((f,m)=>{const w=m.getKey();c.get(w)===null&&(c=c.insert(w,yn.newInvalidDocument(w)))}));let h=ec();return c.forEach(((f,m)=>{const w=a.get(f);w!==void 0&&cc(w.mutation,m,Gn.empty(),yt.now()),oh(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return te.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:ns(o.createTime)}})(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:sR(o.bundledQuery),readTime:ns(o.readTime)}})(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.overlays=new It(ke.comparator),this.qr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const r=go();return te.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.St(e,t,a)})),te.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),te.resolve()}getOverlaysForCollection(e,t,r){const o=go(),a=t.length+1,c=new ke(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new It(((m,w)=>m-w));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let w=a.get(m.largestBatchId);w===null&&(w=go(),a=a.insert(m.largestBatchId,w)),w.set(m.getKey(),m)}}const h=go(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,w)=>h.set(m,w))),!(h.size()>=o)););return te.resolve(h)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OA(t,r));let a=this.qr.get(t);a===void 0&&(a=Ge(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(){this.Qr=new Ht(Jt.$r),this.Ur=new Ht(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Jt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ke(new ht([])),r=new Jt(t,e),o=new Jt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],(c=>{this.Gr(c),a.push(c.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new ht([])),r=new Jt(t,e),o=new Jt(t,e+1);let a=Ge();return this.Ur.forEachInRange([r,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Jt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DA(a,t,r,o);this.mutationQueue.push(c);for(const h of o)this.Zr=this.Zr.add(new Jt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return te.resolve(c)}lookupMutationBatch(e,t){return te.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return te.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Pm:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jt(t,0),o=new Jt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],(c=>{const h=this.Xr(c.Yr);a.push(h)})),te.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(qe);return t.forEach((o=>{const a=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,c],(h=>{r=r.add(h.Yr)}))})),te.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ke.isDocumentKey(a)||(a=a.child(""));const c=new Jt(new ke(a),0);let h=new Ht(qe);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.Yr)),!0)}),c),te.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return te.forEach(t.mutations,(o=>{const a=new Jt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Jt(t,0),o=this.Zr.firstAfterOrEqual(r);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.ri=e,this.docs=(function(){return new It(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return te.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(t))}getEntries(e,t){let r=Ds();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():yn.newInvalidDocument(o))})),te.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Ds();const c=t.path,h=new ke(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:w}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||GC(qC(w),r)<=0||(o.has(w.key)||oh(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return te.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Me(9500)}ii(e,t){return te.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new wR(this)}getSize(e){return te.resolve(this.size)}}class wR extends hR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),te.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.persistence=e,this.si=new No((t=>jm(t)),Mm),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=Ua.ur()}forEachTarget(e,t){return this.si.forEach(((r,o)=>t(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),te.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ua(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.Pr(t),te.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),te.waitFor(a).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return te.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),te.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),te.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),te.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return te.resolve(r)}containsKey(e,t){return te.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,t){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new yR,this.referenceDelegate=e(this),this.Pi=new xR(this),this.indexManager=new iR,this.remoteDocumentCache=(function(o){return new _R(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new rR(t),this.Ii=new mR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new vR(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){_e("MemoryPersistence","Starting transaction:",e);const o=new ER(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((a=>this.referenceDelegate.di(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ai(e,t){return te.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class ER extends QC{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Bm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw Me(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),te.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),te.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(r=>{const o=ke.fromPath(r);return this.gi(e,o).next((a=>{a||t.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return te.or([()=>te.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Od{constructor(e,t){this.persistence=e,this.pi=new No((r=>JC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=dR(this,t)}static mi(e,t){return new Od(e,t)}Ei(){}di(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return te.forEach(this.pi,((r,o)=>this.br(e,r,o).next((a=>a?te.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,a.removeEntry(c,Le.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),te.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hd(e.data.value)),t}br(e,t,r){return te.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return te.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ge(),o=Ge();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Hm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return pb()?8:YC(vn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.ws(e,t,o,r).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new TR;return this.Ss(e,t,c).next((h=>{if(a.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>a.result))}bs(e,t,r,o){return r.documentReadCount<this.fs?(xa()<=We.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Ea(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(xa()<=We.DEBUG&&_e("QueryEngine","Query:",Ea(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(xa()<=We.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Ea(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,es(t))):te.resolve())}ys(e,t){if(D_(t))return te.resolve(null);let r=es(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Kp(t,null,"F"),r=es(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const c=Ge(...a);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,h);return this.Cs(t,m,c,f.readTime)?this.ys(e,Kp(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,o){return D_(t)||o.isEqual(Le.min())?te.resolve(null):this.ps.getDocuments(e,r).next((a=>{const c=this.Ds(t,a);return this.Cs(t,c,r,o)?te.resolve(null):(xa()<=We.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ea(t)),this.vs(e,c,t,WC(o,hc)).next((h=>h)))}))}Ds(e,t){let r=new Ht(mx(e));return t.forEach(((o,a)=>{oh(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return xa()<=We.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Ea(t)),this.ps.getDocumentsMatchingQuery(e,t,Ci.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",IR=3e8;class bR{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new It(qe),this.xs=new No((a=>jm(a)),Mm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function CR(n,e,t,r){return new bR(n,e,t,r)}async function Fx(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const c=[],h=[];let f=Ge();for(const m of o){c.push(m.batchId);for(const w of m.mutations)f=f.add(w.key)}for(const m of a){h.push(m.batchId);for(const w of m.mutations)f=f.add(w.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function AR(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,w){const y=m.batch,E=y.keys();let b=te.resolve();return E.forEach((D=>{b=b.next((()=>w.getEntry(f,D))).next((I=>{const R=m.docVersions.get(D);ot(R!==null,48541),I.version.compareTo(R)<0&&(y.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),w.addEntry(I)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(f,y)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Ge();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function Ux(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function RR(n,e){const t=Ue(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((w,y)=>{const E=o.get(y);if(!E)return;h.push(t.Pi.removeMatchingKeys(a,w.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(a,w.addedDocuments,y))));let b=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?b=b.withResumeToken(ln.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,r)),o=o.insert(y,b),(function(I,R,j){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=IR?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,b,w)&&h.push(t.Pi.updateTargetData(a,b))}));let f=Ds(),m=Ge();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))})),h.push(kR(a,c,e.documentUpdates).next((w=>{f=w.ks,m=w.qs}))),!r.isEqual(Le.min())){const w=t.Pi.getLastRemoteSnapshotVersion(a).next((y=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));h.push(w)}return te.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,m))).next((()=>f))})).then((a=>(t.Ms=o,a)))}function kR(n,e,t){let r=Ge(),o=Ge();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let c=Ds();return t.forEach(((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):_e(Wm,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:o}}))}function NR(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function PR(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.Pi.getTargetData(r,e).next((a=>a?(o=a,te.resolve(o)):t.Pi.allocateTargetId(r).next((c=>(o=new _i(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Zp(n,e,t){const r=Ue(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(c=>r.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Qa(c))throw c;_e(Wm,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function q_(n,e,t){const r=Ue(n);let o=Le.min(),a=Ge();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,w){const y=Ue(f),E=y.xs.get(w);return E!==void 0?te.resolve(y.Ms.get(E)):y.Pi.getTargetData(m,w)})(r,c,es(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?o:Le.min(),t?a:Ge()))).next((h=>(DR(r,yA(e),h),{documents:h,Qs:a})))))}function DR(n,e,t){let r=n.Os.get(e)||Le.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class G_{constructor(){this.activeTargetIds=TA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.Mo=new G_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class Q_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_e(K_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_e(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function em(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Cd?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const c=em(),h=this.zo(e,t.toUriEncodedString());_e(gp,`Sending RPC '${e}' ${c}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(h),w=Wa(m);return this.Jo(e,h,f,r,w).then((y=>(_e(gp,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw ja(gp,`RPC '${e}' ${c} failed with error: `,y,"url: ",h,"request:",r),y}))}Ho(e,t,r,o,a,c){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ga})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}zo(e,t){const r=MR[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class FR extends VR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const c=em();return new Promise(((h,f)=>{const m=new B0;m.setWithCredentials(!0),m.listenOnce($0.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case dd.NO_ERROR:const y=m.getResponseJson();_e(mn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),h(y);break;case dd.TIMEOUT:_e(mn,`RPC '${e}' ${c} timed out`),f(new we(ee.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const E=m.getStatus();if(_e(mn,`RPC '${e}' ${c} failed with status:`,E,"response text:",m.getResponseText()),E>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const D=b?.error;if(D&&D.status&&D.message){const I=(function(j){const L=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(L)>=0?L:ee.UNKNOWN})(D.status);f(new we(I,D.message))}else f(new we(ee.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new we(ee.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_e(mn,`RPC '${e}' ${c} completed.`)}}));const w=JSON.stringify(o);_e(mn,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",w,r,15)}))}T_(e,t,r){const o=em(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=q0(),h=W0(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const w=a.join("");_e(mn,`Creating RPC '${e}' stream ${o}: ${w}`,f);const y=c.createWebChannel(w,f);this.I_(y);let E=!1,b=!1;const D=new LR({Yo:R=>{b?_e(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,R):(E||(_e(mn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),E=!0),_e(mn,`RPC '${e}' stream ${o} sending:`,R),y.send(R))},Zo:()=>y.close()}),I=(R,j,L)=>{R.listen(j,(z=>{try{L(z)}catch(Q){setTimeout((()=>{throw Q}),0)}}))};return I(y,Zl.EventType.OPEN,(()=>{b||(_e(mn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),I(y,Zl.EventType.CLOSE,(()=>{b||(b=!0,_e(mn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(y))})),I(y,Zl.EventType.ERROR,(R=>{b||(b=!0,ja(mn,`RPC '${e}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),D.a_(new we(ee.UNAVAILABLE,"The operation could not be completed")))})),I(y,Zl.EventType.MESSAGE,(R=>{if(!b){const j=R.data[0];ot(!!j,16349);const L=j,z=L?.error||L[0]?.error;if(z){_e(mn,`RPC '${e}' stream ${o} received error:`,z);const Q=z.status;let X=(function(C){const P=Mt[C];if(P!==void 0)return Cx(P)})(Q),J=z.message;X===void 0&&(X=ee.INTERNAL,J="Unknown error status: "+Q+" with message "+z.message),b=!0,D.a_(new we(X,J)),y.close()}else _e(mn,`RPC '${e}' stream ${o} received:`,j),D.u_(j)}})),I(h,H0.STAT_EVENT,(R=>{R.stat===zp.PROXY?_e(mn,`RPC '${e}' stream ${o} detected buffering proxy`):R.stat===zp.NOPROXY&&_e(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(n){return new $A(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="PersistentStream";class Bx{constructor(e,t,r,o,a,c,h,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zx(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Ps(t.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new we(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(Y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(_e(Y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UR extends Bx{constructor(e,t,r,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qA(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Le.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Le.min():c.readTime?ns(c.readTime):Le.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Jp(this.serializer),t.addTarget=(function(a,c){let h;const f=c.target;if(h=qp(f)?{documents:QA(a,f)}:{query:YA(a,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=kx(a,c.resumeToken);const m=Qp(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Le.min())>0){h.readTime=Dd(a,c.snapshotVersion.toTimestamp());const m=Qp(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=JA(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Jp(this.serializer),t.removeTarget=e,this.q_(t)}}class zR extends Bx{constructor(e,t,r,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,c),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KA(e.writeResults,e.commitTime),r=ns(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>GA(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{}class $R extends BR{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Go(e,Yp(t,r),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ee.UNKNOWN,a.toString())}))}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,Yp(t,r),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ee.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ps(t),this.aa=!1):_e("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="RemoteStore";class WR{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Po(this)&&(_e(To,"Restarting streams for network reachability change."),await(async function(f){const m=Ue(f);m.Ea.add(4),await Nc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await dh(m)})(this))}))})),this.Ra=new HR(r,o)}}async function dh(n){if(Po(n))for(const e of n.da)await e(!0)}async function Nc(n){for(const e of n.da)await e(!1)}function $x(n,e){const t=Ue(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qm(t)?Km(t):Ya(t).O_()&&Gm(t,e))}function qm(n,e){const t=Ue(n),r=Ya(t);t.Ia.delete(e),r.O_()&&Hx(t,e),t.Ia.size===0&&(r.O_()?r.L_():Po(t)&&t.Ra.set("Unknown"))}function Gm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ya(n).Y_(e)}function Hx(n,e){n.Va.Ue(e),Ya(n).Z_(e)}function Km(n){n.Va=new FA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ya(n).start(),n.Ra.ua()}function Qm(n){return Po(n)&&!Ya(n).x_()&&n.Ia.size>0}function Po(n){return Ue(n).Ea.size===0}function Wx(n){n.Va=void 0}async function qR(n){n.Ra.set("Online")}async function GR(n){n.Ia.forEach(((e,t)=>{Gm(n,e)}))}async function KR(n,e){Wx(n),Qm(n)?(n.Ra.ha(e),Km(n)):n.Ra.set("Unknown")}async function QR(n,e,t){if(n.Ra.set("Online"),e instanceof Rx&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.Ia.delete(h),o.Va.removeTarget(h))})(n,e)}catch(r){_e(To,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jd(n,r)}else if(e instanceof md?n.Va.Ze(e):e instanceof Ax?n.Va.st(e):n.Va.tt(e),!t.isEqual(Le.min()))try{const r=await Ux(n.localStore);t.compareTo(r)>=0&&await(function(a,c){const h=a.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const w=a.Ia.get(m);w&&a.Ia.set(m,w.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const w=a.Ia.get(f);if(!w)return;a.Ia.set(f,w.withResumeToken(ln.EMPTY_BYTE_STRING,w.snapshotVersion)),Hx(a,f);const y=new _i(w.target,f,m,w.sequenceNumber);Gm(a,y)})),a.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){_e(To,"Failed to raise snapshot:",r),await jd(n,r)}}async function jd(n,e,t){if(!Qa(e))throw e;n.Ea.add(1),await Nc(n),n.Ra.set("Offline"),t||(t=()=>Ux(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_e(To,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dh(n)}))}function qx(n,e){return e().catch((t=>jd(n,t,e)))}async function hh(n){const e=Ue(n),t=Ni(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pm;for(;YR(e);)try{const o=await NR(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,XR(e,o)}catch(o){await jd(e,o)}Gx(e)&&Kx(e)}function YR(n){return Po(n)&&n.Ta.length<10}function XR(n,e){n.Ta.push(e);const t=Ni(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Gx(n){return Po(n)&&!Ni(n).x_()&&n.Ta.length>0}function Kx(n){Ni(n).start()}async function JR(n){Ni(n).ra()}async function ZR(n){const e=Ni(n);for(const t of n.Ta)e.ea(t.mutations)}async function ek(n,e,t){const r=n.Ta.shift(),o=Fm.from(r,e,t);await qx(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await hh(n)}async function tk(n,e){e&&Ni(n).X_&&await(async function(r,o){if((function(c){return MA(c)&&c!==ee.ABORTED})(o.code)){const a=r.Ta.shift();Ni(r).B_(),await qx(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await hh(r)}})(n,e),Gx(n)&&Kx(n)}async function X_(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),_e(To,"RemoteStore received new credentials");const r=Po(t);t.Ea.add(3),await Nc(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dh(t)}async function nk(n,e){const t=Ue(n);e?(t.Ea.delete(2),await dh(t)):e||(t.Ea.add(2),await Nc(t),t.Ra.set("Unknown"))}function Ya(n){return n.ma||(n.ma=(function(t,r,o){const a=Ue(t);return a.sa(),new UR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:qR.bind(null,n),t_:GR.bind(null,n),r_:KR.bind(null,n),H_:QR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Qm(n)?Km(n):n.Ra.set("Unknown")):(await n.ma.stop(),Wx(n))}))),n.ma}function Ni(n){return n.fa||(n.fa=(function(t,r,o){const a=Ue(t);return a.sa(),new zR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:JR.bind(null,n),r_:tk.bind(null,n),ta:ZR.bind(null,n),na:ek.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await hh(n)):(await n.fa.stop(),n.Ta.length>0&&(_e(To,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const c=Date.now()+r,h=new Ym(e,t,c,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(n,e){if(Ps("AsyncQueue",`${e}: ${n}`),Qa(n))return new we(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{static emptySet(e){return new ba(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ke.comparator(t.key,r.key):(t,r)=>ke.comparator(t.key,r.key),this.keyedMap=ec(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ba)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ba;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.ga=new It(ke.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Me(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class za{constructor(e,t,r,o,a,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new za(e,t,ba.emptySet(t),c,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sk{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ue(t),a=o.queries;o.queries=Z_(),a.forEach(((c,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new we(ee.ABORTED,"Firestore shutting down"))}}function Z_(){return new No((n=>px(n)),ih)}async function ik(n,e){const t=Ue(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new rk,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=Xm(c,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Jm(t)}async function ok(n,e){const t=Ue(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const c=a.Sa.indexOf(e);c>=0&&(a.Sa.splice(c,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function ak(n,e){const t=Ue(n);let r=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.Sa)h.Fa(o)&&(r=!0);c.wa=o}}r&&Jm(t)}function lk(n,e,t){const r=Ue(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Jm(n){n.Ca.forEach((e=>{e.next()}))}var tm,ew;(ew=tm||(tm={})).Ma="default",ew.Cache="cache";class ck{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.key=e}}class Yx{constructor(e){this.key=e}}class uk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ge(),this.mutatedKeys=Ge(),this.eu=mx(e),this.tu=new ba(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new J_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,y)=>{const E=o.get(w),b=oh(this.query,y)?y:null,D=!!E&&this.mutatedKeys.has(E.key),I=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let R=!1;E&&b?E.data.isEqual(b.data)?D!==I&&(r.track({type:3,doc:b}),R=!0):this.su(E,b)||(r.track({type:2,doc:b}),R=!0,(f&&this.eu(b,f)>0||m&&this.eu(b,m)<0)&&(h=!0)):!E&&b?(r.track({type:0,doc:b}),R=!0):E&&!b&&(r.track({type:1,doc:E}),R=!0,(f||m)&&(h=!0)),R&&(b?(c=c.add(b),a=I?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),r.track({type:1,doc:w})}return{tu:c,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((w,y)=>(function(b,D){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Rt:R})}};return I(b)-I(D)})(w.type,y.type)||this.eu(w.doc,y.doc))),this.ou(r),o=o??!1;const h=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new za(this.query,e.tu,a,c,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ge(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Yx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Qx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ge();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Zm="SyncEngine";class dk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hk{constructor(e){this.key=e,this.hu=!1}}class fk{constructor(e,t,r,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new No((h=>px(h)),ih),this.Iu=new Map,this.Eu=new Set,this.du=new It(ke.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=Ua.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pk(n,e,t=!0){const r=nE(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Xx(r,e,t,!0),o}async function mk(n,e){const t=nE(n);await Xx(t,e,!0,!1)}async function Xx(n,e,t,r){const o=await PR(n.localStore,es(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await gk(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&$x(n.remoteStore,o),h}async function gk(n,e,t,r,o){n.pu=(y,E,b)=>(async function(I,R,j,L){let z=R.view.ru(j);z.Cs&&(z=await q_(I.localStore,R.query,!1).then((({documents:k})=>R.view.ru(k,z))));const Q=L&&L.targetChanges.get(R.targetId),X=L&&L.targetMismatches.get(R.targetId)!=null,J=R.view.applyChanges(z,I.isPrimaryClient,Q,X);return nw(I,R.targetId,J.au),J.snapshot})(n,y,E,b);const a=await q_(n.localStore,e,!0),c=new uk(e,a.Qs),h=c.ru(a.documents),f=kc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,f);nw(n,t,m.au);const w=new dk(e,t,c);return n.Tu.set(e,w),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function yk(n,e,t){const r=Ue(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((c=>!ih(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&qm(r.remoteStore,o.targetId),nm(r,o.targetId)})).catch(Ka)):(nm(r,o.targetId),await Zp(r.localStore,o.targetId,!0))}async function vk(n,e){const t=Ue(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qm(t.remoteStore,r.targetId))}async function _k(n,e,t){const r=bk(n);try{const o=await(function(c,h){const f=Ue(c),m=yt.now(),w=h.reduce(((b,D)=>b.add(D.key)),Ge());let y,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let D=Ds(),I=Ge();return f.Ns.getEntries(b,w).next((R=>{D=R,D.forEach(((j,L)=>{L.isValidDocument()||(I=I.add(j))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,D))).next((R=>{y=R;const j=[];for(const L of h){const z=NA(L,y.get(L.key).overlayedDocument);z!=null&&j.push(new Vi(L.key,z,ox(z.value.mapValue),ts.exists(!0)))}return f.mutationQueue.addMutationBatch(b,m,j,h)})).next((R=>{E=R;const j=R.applyToLocalDocumentSet(y,I);return f.documentOverlayCache.saveOverlays(b,R.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:yx(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new It(qe)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(r,o.batchId,t),await Pc(r,o.changes),await hh(r.remoteStore)}catch(o){const a=Xm(o,"Failed to persist write");t.reject(a)}}async function Jx(n,e){const t=Ue(n);try{const r=await RR(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Au.get(a);c&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?ot(c.hu,14607):o.removedDocuments.size>0&&(ot(c.hu,42227),c.hu=!1))})),await Pc(t,r,e)}catch(r){await Ka(r)}}function tw(n,e,t){const r=Ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,c)=>{const h=c.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const f=Ue(c);f.onlineState=h;let m=!1;f.queries.forEach(((w,y)=>{for(const E of y.Sa)E.va(h)&&(m=!0)})),m&&Jm(f)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wk(n,e,t){const r=Ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let c=new It(ke.comparator);c=c.insert(a,yn.newNoDocument(a,Le.min()));const h=Ge().add(a),f=new ch(Le.min(),new Map,new It(qe),c,h);await Jx(r,f),r.du=r.du.remove(a),r.Au.delete(e),eg(r)}else await Zp(r.localStore,e,!1).then((()=>nm(r,e,t))).catch(Ka)}async function xk(n,e){const t=Ue(n),r=e.batch.batchId;try{const o=await AR(t.localStore,e);eE(t,r,null),Zx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pc(t,o)}catch(o){await Ka(o)}}async function Ek(n,e,t){const r=Ue(n);try{const o=await(function(c,h){const f=Ue(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let w;return f.mutationQueue.lookupMutationBatch(m,h).next((y=>(ot(y!==null,37113),w=y.keys(),f.mutationQueue.removeMutationBatch(m,y)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,w,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,w))).next((()=>f.localDocuments.getDocuments(m,w)))}))})(r.localStore,e);eE(r,e,t),Zx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pc(r,o)}catch(o){await Ka(o)}}function Zx(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function eE(n,e,t){const r=Ue(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||tE(n,r)}))}function tE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(qm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),eg(n))}function nw(n,e,t){for(const r of t)r instanceof Qx?(n.Ru.addReference(r.key,e),Tk(n,r)):r instanceof Yx?(_e(Zm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||tE(n,r.key)):Me(19791,{wu:r})}function Tk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(_e(Zm,"New document in limbo: "+t),n.Eu.add(r),eg(n))}function eg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ke(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new hk(t)),n.du=n.du.insert(t,r),$x(n.remoteStore,new _i(es(Vm(t.path)),r,"TargetPurposeLimboResolution",nh.ce))}}async function Pc(n,e,t){const r=Ue(n),o=[],a=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{c.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Hm.As(f.targetId,m);a.push(w)}})))})),await Promise.all(c),r.Pu.H_(o),await(async function(f,m){const w=Ue(f);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>te.forEach(m,(E=>te.forEach(E.Es,(b=>w.persistence.referenceDelegate.addReference(y,E.targetId,b))).next((()=>te.forEach(E.ds,(b=>w.persistence.referenceDelegate.removeReference(y,E.targetId,b)))))))))}catch(y){if(!Qa(y))throw y;_e(Wm,"Failed to update sequence numbers: "+y)}for(const y of m){const E=y.targetId;if(!y.fromCache){const b=w.Ms.get(E),D=b.snapshotVersion,I=b.withLastLimboFreeSnapshotVersion(D);w.Ms=w.Ms.insert(E,I)}}})(r.localStore,a))}async function Sk(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){_e(Zm,"User change. New user:",e.toKey());const r=await Fx(t.localStore,e);t.currentUser=e,(function(a,c){a.mu.forEach((h=>{h.forEach((f=>{f.reject(new we(ee.CANCELLED,c))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pc(t,r.Ls)}}function Ik(n,e){const t=Ue(n),r=t.Au.get(e);if(r&&r.hu)return Ge().add(r.key);{let o=Ge();const a=t.Iu.get(e);if(!a)return o;for(const c of a){const h=t.Tu.get(c);o=o.unionWith(h.view.nu)}return o}}function nE(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wk.bind(null,e),e.Pu.H_=ak.bind(null,e.eventManager),e.Pu.yu=lk.bind(null,e.eventManager),e}function bk(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ek.bind(null,e),e}class Md{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return CR(this.persistence,new SR,e.initialUser,this.serializer)}Cu(e){return new Lx($m.mi,this.serializer)}Du(e){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Md.provider={build:()=>new Md};class Ck extends Md{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof Od,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new Lx((r=>Od.mi(r,t)),this.serializer)}}class rm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sk.bind(null,this.syncEngine),await nk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sk})()}createDatastore(e){const t=uh(e.databaseInfo.databaseId),r=(function(a){return new FR(a)})(e.databaseInfo);return(function(a,c,h,f){return new $R(a,c,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,c,h){return new WR(r,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>tw(this.syncEngine,t,0)),(function(){return Q_.v()?new Q_:new jR})())}createSyncEngine(e,t){return(function(o,a,c,h,f,m,w){const y=new fk(o,a,c,h,f,m);return w&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ue(t);_e(To,"RemoteStore shutting down."),r.Ea.add(5),await Nc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class Rk{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async c=>{_e(Pi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(_e(Pi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xm(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function vp(n,e){n.asyncQueue.verifyOperationInProgress(),_e(Pi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Fx(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function rw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kk(n);_e(Pi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>X_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>X_(e.remoteStore,o))),n._onlineComponents=e}async function kk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_e(Pi,"Using user provided OfflineComponentProvider");try{await vp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ja("Error using user provided cache. Falling back to memory cache: "+t),await vp(n,new Md)}}else _e(Pi,"Using default OfflineComponentProvider"),await vp(n,new Ck(void 0));return n._offlineComponents}async function rE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_e(Pi,"Using user provided OnlineComponentProvider"),await rw(n,n._uninitializedComponentsProvider._online)):(_e(Pi,"Using default OnlineComponentProvider"),await rw(n,new rm))),n._onlineComponents}function Nk(n){return rE(n).then((e=>e.syncEngine))}async function sw(n){const e=await rE(n),t=e.eventManager;return t.onListen=pk.bind(null,e.syncEngine),t.onUnlisten=yk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vk.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firestore.googleapis.com",ow=!0;class aw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=ow}else this.host=e.host,this.ssl=e.ssl??ow;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aR)throw new we(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OC;switch(r.type){case"firstParty":return new LC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=iw.get(t);r&&(_e("ComponentProvider","Removing Datastore"),iw.delete(t),r.terminate())})(this),Promise.resolve()}}function Pk(n,e,t,r={}){n=_o(n,fh);const o=Wa(e),a=n._getSettings(),c={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;o&&(D0(`https://${h}`),O0("Firestore",!0)),a.host!==iE&&a.host!==h&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:o,emulatorOptions:r};if(!bi(f,c)&&(n._setSettings(f),r.mockUserToken)){let m,w;if(typeof r.mockUserToken=="string")m=r.mockUserToken,w=gn.MOCK_USER;else{m=ib(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new gn(y)}n._authCredentials=new jC(new K0(m,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cc(t,Ft._jsonSchema))return new Ft(e,r||null,new ke(ht.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Lt("string",Ft._jsonSchemaVersion),referencePath:Lt("string")};class Si extends Xa{constructor(e,t,r){super(e,t,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ke(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function lw(n,e,...t){if(n=Zt(n),Q0("collection","path",e),n instanceof fh){const r=ht.fromString(e,...t);return __(r),new Si(n,null,r)}{if(!(n instanceof Ft||n instanceof Si))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return __(r),new Si(n.firestore,null,r)}}function oE(n,e,...t){if(n=Zt(n),arguments.length===1&&(e=Nm.newId()),Q0("doc","path",e),n instanceof fh){const r=ht.fromString(e,...t);return v_(r),new Ft(n,null,new ke(r))}{if(!(n instanceof Ft||n instanceof Si))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return v_(r),new Ft(n.firestore,n instanceof Si?n.converter:null,new ke(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="AsyncQueue";class uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zx(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&_e(cw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=yp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=yp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new vo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qa(e))throw e;_e(cw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",dw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Ym.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Me(47125,{Pc:dw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function dw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1})(n,["next","error","complete"])}class yc extends fh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new uw,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uw(e),this._firestoreClient=void 0,await e}}}function Dk(n,e){const t=typeof n=="object"?n:L0(),r=typeof n=="string"?n:Cd,o=Rm(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=rb("firestore");a&&Pk(o,...a)}return o}function aE(n){if(n._terminated)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Ok(n),n._firestoreClient}function Ok(n){const e=n._freezeSettings(),t=(function(o,a,c,h){return new tA(o,a,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,sE(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Rk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ar(ln.fromBase64String(e))}catch(t){throw new we(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ar(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ar._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cc(e,ar._jsonSchema))return ar.fromBase64String(e.bytes)}}ar._jsonSchemaVersion="firestore/bytes/1.0",ar._jsonSchema={type:Lt("string",ar._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rs._jsonSchemaVersion}}static fromJSON(e){if(Cc(e,rs._jsonSchema))return new rs(e.latitude,e.longitude)}}rs._jsonSchemaVersion="firestore/geoPoint/1.0",rs._jsonSchema={type:Lt("string",rs._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cc(e,ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ss(e.vectorValues);throw new we(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Lt("string",ss._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=/^__.*__$/;class Mk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class lE{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ac:n})}}class gh{constructor(e,t,r,o,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cE(this.Ac)&&jk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uh(e)}Cc(e,t,r,o=!1){return new gh({Ac:e,methodName:t,Dc:r,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(n){const e=n._freezeSettings(),t=uh(n._databaseId);return new Vk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Lk(n,e,t,r,o,a={}){const c=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);rg("Data must be an object, but it was:",c,r);const h=uE(r,c);let f,m;if(a.merge)f=new Gn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const y of a.mergeFields){const E=sm(e,y,t);if(!c.contains(E))throw new we(ee.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);hE(w,E)||w.push(E)}f=new Gn(w),m=c.fieldTransforms.filter((y=>f.covers(y.field)))}else f=null,m=c.fieldTransforms;return new Mk(new Dn(h),f,m)}class yh extends mh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yh}}function Fk(n,e,t){return new gh({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ng extends mh{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Fk(this,e,!0),r=this.vc.map((a=>Ja(a,t))),o=new Fa(r);return new CA(e.path,o)}isEqual(e){return e instanceof ng&&bi(this.vc,e.vc)}}function Uk(n,e,t,r){const o=n.Cc(1,e,t);rg("Data must be an object, but it was:",o,r);const a=[],c=Dn.empty();Mi(r,((f,m)=>{const w=sg(e,f,t);m=Zt(m);const y=o.yc(w);if(m instanceof yh)a.push(w);else{const E=Ja(m,y);E!=null&&(a.push(w),c.set(w,E))}}));const h=new Gn(a);return new lE(c,h,o.fieldTransforms)}function zk(n,e,t,r,o,a){const c=n.Cc(1,e,t),h=[sm(e,r,t)],f=[o];if(a.length%2!=0)throw new we(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)h.push(sm(e,a[E])),f.push(a[E+1]);const m=[],w=Dn.empty();for(let E=h.length-1;E>=0;--E)if(!hE(m,h[E])){const b=h[E];let D=f[E];D=Zt(D);const I=c.yc(b);if(D instanceof yh)m.push(b);else{const R=Ja(D,I);R!=null&&(m.push(b),w.set(b,R))}}const y=new Gn(m);return new lE(w,y,c.fieldTransforms)}function Bk(n,e,t,r=!1){return Ja(t,n.Cc(r?4:3,e))}function Ja(n,e){if(dE(n=Zt(n)))return rg("Unsupported field value:",e,n),uE(n,e);if(n instanceof mh)return(function(r,o){if(!cE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const a=[];let c=0;for(const h of r){let f=Ja(h,o.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return SA(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:Dd(o.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dd(o.serializer,a)}}if(r instanceof rs)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ar)return{bytesValue:kx(o.serializer,r._byteString)};if(r instanceof Ft){const a=o.databaseId,c=r.firestore._databaseId;if(!c.isEqual(a))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:zm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof ss)return(function(c,h){return{mapValue:{fields:{[sx]:{stringValue:ix},[Ad]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Lm(h.serializer,m)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${th(r)}`)})(n,e)}function uE(n,e){const t={};return J0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(n,((r,o)=>{const a=Ja(o,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function dE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof rs||n instanceof ar||n instanceof Ft||n instanceof mh||n instanceof ss)}function rg(n,e,t){if(!dE(t)||!Y0(t)){const r=th(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function sm(n,e,t){if((e=Zt(e))instanceof ph)return e._internalPath;if(typeof e=="string")return sg(n,e);throw Vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const $k=new RegExp("[~\\*/\\[\\]]");function sg(n,e,t){if(e.search($k)>=0)throw Vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ph(...e.split("."))._internalPath}catch{throw Vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vd(n,e,t,r,o){const a=r&&!r.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${r}`),c&&(f+=` in document ${o}`),f+=")"),new we(ee.INVALID_ARGUMENT,h+n+f)}function hE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Hk extends fE{data(){return super.data()}}function pE(n,e){return typeof e=="string"?sg(n,e):e instanceof ph?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class qk extends ig{}function Gk(n,e,...t){let r=[];e instanceof ig&&r.push(e),r=r.concat(t),(function(a){const c=a.filter((f=>f instanceof ag)).length,h=a.filter((f=>f instanceof og)).length;if(c>1||c>0&&h>0)throw new we(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class og extends qk{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new og(e,t,r)}_apply(e){const t=this._parse(e);return mE(e._query,t),new Xa(e.firestore,e.converter,Gp(e._query,t))}_parse(e){const t=tg(e.firestore);return(function(a,c,h,f,m,w,y){let E;if(m.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new we(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){pw(y,w);const D=[];for(const I of y)D.push(fw(f,a,I));E={arrayValue:{values:D}}}else E=fw(f,a,y)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||pw(y,w),E=Bk(h,c,y,w==="in"||w==="not-in");return Vt.create(m,w,E)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ag extends ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ag(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const f of h)mE(c,f),c=Gp(c,f)})(e._query,t),new Xa(e.firestore,e.converter,Gp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fw(n,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new we(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fx(e)&&t.indexOf("/")!==-1)throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!ke.isDocumentKey(r))throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return C_(n,new ke(r))}if(t instanceof Ft)return C_(n,t._key);throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${th(t)}.`)}function pw(n,e){if(!Array.isArray(n)||n.length===0)throw new we(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mE(n,e){const t=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new we(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kk{convertValue(e,t="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Mi(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Ad].arrayValue?.values?.map((r=>Nt(r.doubleValue)));return new ss(t)}convertGeoPoint(e){return new rs(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Ai(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);ot(Mx(r),9688,{name:e});const o=new pc(r.get(1),r.get(3)),a=new ke(r.popFirst(5));return o.isEqual(t)||Ps(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wo extends fE{constructor(e,t,r,o,a,c){super(e,t,r,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",wo._jsonSchema={type:Lt("string",wo._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class gd extends wo{data(e={}){return super.data(e)}}class Ca{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new gd(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const f=new gd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new nc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const f=new gd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new nc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,w=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),w=c.indexOf(h.doc.key)),{type:Yk(h.type),doc:f,oldIndex:m,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Yk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:n})}}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:Lt("string",Ca._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class gE extends Kk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ar(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}function Xk(n,e,t,...r){n=_o(n,Ft);const o=_o(n.firestore,yc),a=tg(o);let c;return c=typeof(e=Zt(e))=="string"||e instanceof ph?zk(a,"updateDoc",n._key,e,t,r):Uk(a,"updateDoc",n._key,e),yE(o,[c.toMutation(n._key,ts.exists(!0))])}function Jk(n,e){const t=_o(n.firestore,yc),r=oE(n),o=Qk(n.converter,e);return yE(t,[Lk(tg(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,ts.exists(!1))]).then((()=>r))}function Zk(n,...e){n=Zt(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||hw(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(hw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let a,c,h;if(n instanceof Ft)c=_o(n.firestore,yc),h=Vm(n._key.path),a={next:f=>{e[r]&&e[r](eN(c,n,f))},error:e[r+1],complete:e[r+2]};else{const f=_o(n,Xa);c=_o(f.firestore,yc),h=f._query;const m=new gE(c);a={next:w=>{e[r]&&e[r](new Ca(c,m,f,w))},error:e[r+1],complete:e[r+2]},Wk(n._query)}return(function(m,w,y,E){const b=new Ak(E),D=new ck(w,b,y);return m.asyncQueue.enqueueAndForget((async()=>ik(await sw(m),D))),()=>{b.Nu(),m.asyncQueue.enqueueAndForget((async()=>ok(await sw(m),D)))}})(aE(c),h,o,a)}function yE(n,e){return(function(r,o){const a=new vo;return r.asyncQueue.enqueueAndForget((async()=>_k(await Nk(r),o,a))),a.promise})(aE(n),e)}function eN(n,e,t){const r=t.docs.get(e._key),o=new gE(n);return new wo(n,o,e._key,r,new nc(t.hasPendingWrites,t.fromCache),e.converter)}function tN(...n){return new ng("arrayUnion",n)}(function(e,t=!0){(function(o){Ga=o})(qa),Oa(new xo("firestore",((r,{instanceIdentifier:o,options:a})=>{const c=r.getProvider("app").getImmediate(),h=new yc(new MC(r.getProvider("auth-internal")),new FC(c,r.getProvider("app-check-internal")),(function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(m.options.projectId,w)})(c,o),c);return a={useFetchStreams:t,...a},h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Ei(p_,m_,e),Ei(p_,m_,"esm2020")})();function vE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=vE,_E=new Ic("auth","Firebase",vE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=new Cm("@firebase/auth");function rN(n,...e){Ld.logLevel<=We.WARN&&Ld.warn(`Auth (${qa}): ${n}`,...e)}function yd(n,...e){Ld.logLevel<=We.ERROR&&Ld.error(`Auth (${qa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(n,...e){throw lg(n,...e)}function is(n,...e){return lg(n,...e)}function wE(n,e,t){const r={...nN(),[e]:t};return new Ic("auth","Firebase",r).create(e,{appName:n.name})}function ks(n){return wE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _E.create(n,...e)}function je(n,e,...t){if(!n)throw lg(e,...t)}function As(n){const e="INTERNAL ASSERTION FAILED: "+n;throw yd(e),new Error(e)}function Os(n,e){n||As(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return typeof self<"u"&&self.location?.href||""}function sN(){return mw()==="http:"||mw()==="https:"}function mw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||db()||"connection"in navigator)?navigator.onLine:!0}function oN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Os(t>e,"Short delay should be less than long delay!"),this.isMobile=lb()||hb()}get(){return iN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n,e){Os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cN=new Dc(3e4,6e4);function Li(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Fi(n,e,t,r,o={}){return EE(n,o,async()=>{let a={},c={};r&&(e==="GET"?c=r:a={body:JSON.stringify(r)});const h=bc({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return ub()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Wa(n.emulatorConfig.host)&&(m.credentials="include"),xE.fetch()(await TE(n,n.config.apiHost,t,h),m)})}async function EE(n,e,t){n._canInitEmulator=!1;const r={...aN,...e};try{const o=new dN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw ed(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw ed(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw ed(n,"user-disabled",c);const w=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw wE(n,w,m);br(n,w)}}catch(o){if(o instanceof Ls)throw o;br(n,"network-request-failed",{message:String(o)})}}async function Oc(n,e,t,r,o={}){const a=await Fi(n,e,t,r,o);return"mfaPendingCredential"in a&&br(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function TE(n,e,t,r){const o=`${e}${t}?${r}`,a=n,c=a.config.emulator?cg(n.config,o):`${n.config.apiScheme}://${o}`;return lN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(c).toString():c}function uN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),cN.get())})}}function ed(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=is(n,e,r);return o.customData._tokenResponse=t,o}function gw(n){return n!==void 0&&n.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function fN(n,e){return Fi(n,"GET","/v2/recaptchaConfig",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e){return Fi(n,"POST","/v1/accounts:delete",e)}async function Fd(n,e){return Fi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mN(n,e=!1){const t=Zt(n),r=await t.getIdToken(e),o=ug(r);je(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a?.sign_in_provider;return{claims:o,token:r,authTime:uc(_p(o.auth_time)),issuedAtTime:uc(_p(o.iat)),expirationTime:uc(_p(o.exp)),signInProvider:c||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _p(n){return Number(n)*1e3}function ug(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const o=R0(t);return o?JSON.parse(o):(yd("Failed to decode base64 JWT payload"),null)}catch(o){return yd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yw(n){const e=ug(n);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ls&&gN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function gN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(n){const e=n.auth,t=await n.getIdToken(),r=await vc(n,Fd(e,{idToken:t}));je(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?SE(o.providerUserInfo):[],c=_N(n.providerData,a),h=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!c?.length,m=h?f:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,w)}async function vN(n){const e=Zt(n);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function SE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(n,e){const t=await EE(n,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=await TE(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Wa(n.emulatorConfig.host)&&(f.credentials="include"),xE.fetch()(c,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function xN(n,e){return Fi(n,"POST","/v2/accounts:revokeToken",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){je(e.length!==0,"internal-error");const t=yw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await wN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,c=new Aa;return r&&(je(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),o&&(je(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(je(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Aa,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(n,e){je(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Sr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new yN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await vc(this,this.stsTokenManager.getToken(this.auth,e));return je(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await vc(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,w=t.lastLoginAt??void 0,{uid:y,emailVerified:E,isAnonymous:b,providerData:D,stsTokenManager:I}=t;je(y&&I,e,"internal-error");const R=Aa.fromJSON(this.name,I);je(typeof y=="string",e,"internal-error"),hi(r,e.name),hi(o,e.name),je(typeof E=="boolean",e,"internal-error"),je(typeof b=="boolean",e,"internal-error"),hi(a,e.name),hi(c,e.name),hi(h,e.name),hi(f,e.name),hi(m,e.name),hi(w,e.name);const j=new Sr({uid:y,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:b,photoURL:c,phoneNumber:a,tenantId:h,stsTokenManager:R,createdAt:m,lastLoginAt:w});return D&&Array.isArray(D)&&(j.providerData=D.map(L=>({...L}))),f&&(j._redirectEventId=f),j}static async _fromIdTokenResponse(e,t,r=!1){const o=new Aa;o.updateFromServerResponse(t);const a=new Sr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ud(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];je(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?SE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!a?.length,h=new Aa;h.updateFromIdToken(r);const f=new Sr({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function Rs(n){Os(n instanceof Function,"Expected a class definition");let e=vw.get(n);return e?(Os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,vw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}IE.type="NONE";const _w=IE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=vd(this.userKey,o.apiKey,a),this.fullPersistenceKey=vd("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fd(this.auth,{idToken:e}).catch(()=>{});return t?Sr._fromGetAccountInfoResponse(this.auth,t,e):null}return Sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ra(Rs(_w),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Rs(_w);const c=vd(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const w=await m._get(c);if(w){let y;if(typeof w=="string"){const E=await Fd(e,{idToken:w}).catch(()=>{});if(!E)break;y=await Sr._fromGetAccountInfoResponse(e,E,w)}else y=Sr._fromJSON(e,w);m!==a&&(h=y),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ra(a,e,r):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Ra(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NE(e))return"Blackberry";if(PE(e))return"Webos";if(CE(e))return"Safari";if((e.includes("chrome/")||AE(e))&&!e.includes("edge/"))return"Chrome";if(kE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bE(n=vn()){return/firefox\//i.test(n)}function CE(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AE(n=vn()){return/crios\//i.test(n)}function RE(n=vn()){return/iemobile/i.test(n)}function kE(n=vn()){return/android/i.test(n)}function NE(n=vn()){return/blackberry/i.test(n)}function PE(n=vn()){return/webos/i.test(n)}function dg(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EN(n=vn()){return dg(n)&&!!window.navigator?.standalone}function TN(){return fb()&&document.documentMode===10}function DE(n=vn()){return dg(n)||kE(n)||PE(n)||NE(n)||/windows phone/i.test(n)||RE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,e=[]){let t;switch(n){case"Browser":t=ww(vn());break;case"Worker":t=`${ww(vn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(n,e={}){return Fi(n,"GET","/v2/passwordPolicy",Li(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=6;class CN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??bN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xw(this),this.idTokenSubscription=new xw(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fd(this,{idToken:e}),r=await Sr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===c)&&h?.user&&(r=h.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(ks(this));const t=e?Zt(e):null;return t&&je(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IN(this),t=new CN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ic("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await xN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rs(e)||this._popupRedirectResolver;je(t,this,"argument-error"),this.redirectPersistenceManager=await Ra.create(this,[Rs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Do(n){return Zt(n)}class xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=xb(t=>this.observer=t)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RN(n){vh=n}function jE(n){return vh.loadJS(n)}function kN(){return vh.recaptchaEnterpriseScript}function NN(){return vh.gapiScript}function PN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new ON}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ON{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jN="recaptcha-enterprise",ME="NO_RECAPTCHA";class MN{constructor(e){this.type=jN,this.auth=Do(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{fN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new hN(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function o(a,c,h){const f=window.grecaptcha;gw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{c(m)}).catch(()=>{c(ME)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{r(this.auth).then(h=>{if(!t&&gw(window.grecaptcha))o(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=kN();f.length!==0&&(f+=h),jE(f).then(()=>{o(h,a,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function Ew(n,e,t,r=!1,o=!1){const a=new MN(n);let c;if(o)c=ME;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function am(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ew(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Ew(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(n,e){const t=Rm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(bi(a,e??{}))return o;br(o,"already-initialized")}return t.initialize({options:e})}function LN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Rs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function FN(n,e,t){const r=Do(n);je(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=VE(e),{host:c,port:h}=UN(e),f=h===null?"":`:${h}`,m={url:`${a}//${c}${f}/`},w=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){je(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),je(bi(m,r.config.emulator)&&bi(w,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=w,r.settings.appVerificationDisabledForTesting=!0,Wa(c)?(D0(`${a}//${c}${f}`),O0("Auth",!0)):zN()}function VE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UN(n){const e=VE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:Tw(r.substr(a.length+1))}}else{const[a,c]=r.split(":");return{host:a,port:Tw(c)}}}function Tw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return As("not implemented")}_getIdTokenResponse(e){return As("not implemented")}_linkToIdToken(e,t){return As("not implemented")}_getReauthenticationResolver(e){return As("not implemented")}}async function BN(n,e){return Fi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(n,e){return Oc(n,"POST","/v1/accounts:signInWithPassword",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(n,e){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}async function WN(n,e){return Oc(n,"POST","/v1/accounts:signInWithEmailLink",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends hg{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new _c(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new _c(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,t,"signInWithPassword",$N);case"emailLink":return HN(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return am(e,r,"signUpPassword",BN);case"emailLink":return WN(e,{idToken:t,email:this._email,oobCode:this._password});default:br(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(n,e){return Oc(n,"POST","/v1/accounts:signInWithIdp",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="http://localhost";class So extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):br("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const c=new So(r,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ka(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ka(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ka(e,t)}buildRequest(){const e={requestUri:qN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KN(n){const e=Xl(Jl(n)).link,t=e?Xl(Jl(e)).deep_link_id:null,r=Xl(Jl(n)).deep_link_id;return(r?Xl(Jl(r)).link:null)||r||t||e||n}class fg{constructor(e){const t=Xl(Jl(e)),r=t.apiKey??null,o=t.oobCode??null,a=GN(t.mode??null);je(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=KN(e);try{return new fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,t){return _c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=fg.parseLink(t);return je(r,"argument-error"),_c._fromEmailAndCode(e,r.code,r.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends LE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends jc{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mi.credential(e.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return So._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gi.credentialFromTaggedObject(e)}static credentialFromError(e){return gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gi.credential(t,r)}catch{return null}}}gi.GOOGLE_SIGN_IN_METHOD="google.com";gi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends jc{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.GITHUB_SIGN_IN_METHOD="github.com";yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends jc{constructor(){super("twitter.com")}static credential(e,t){return So._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vi.credential(t,r)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(n,e){return Oc(n,"POST","/v1/accounts:signUp",Li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Sr._fromIdTokenResponse(e,r,o),c=Sw(r);return new Io({user:a,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Sw(r);return new Io({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Sw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends Ls{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new zd(e,t,r,o)}}function FE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(n,a,e,r):a})}async function YN(n,e,t=!1){const r=await vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Io._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(n,e,t=!1){const{auth:r}=n;if(or(r.app))return Promise.reject(ks(r));const o="reauthenticate";try{const a=await vc(n,FE(r,o,e,n),t);je(a.idToken,r,"internal-error");const c=ug(a.idToken);je(c,r,"internal-error");const{sub:h}=c;return je(n.uid===h,r,"user-mismatch"),Io._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&br(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(n,e,t=!1){if(or(n.app))return Promise.reject(ks(n));const r="signIn",o=await FE(n,r,e),a=await Io._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function JN(n,e){return UE(Do(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zE(n){const e=Do(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZN(n,e,t){if(or(n.app))return Promise.reject(ks(n));const r=Do(n),c=await am(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QN).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&zE(n),f}),h=await Io._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function eP(n,e,t){return or(n.app)?Promise.reject(ks(n)):JN(Zt(n),Za.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zE(n),r})}function tP(n,e,t,r){return Zt(n).onIdTokenChanged(e,t,r)}function nP(n,e,t){return Zt(n).beforeAuthStateChanged(e,t)}function rP(n,e,t,r){return Zt(n).onAuthStateChanged(e,t,r)}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=1e3,iP=10;class $E extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},a=this.storage.getItem(r);TN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iP):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},sP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}$E.type="LOCAL";const oP=$E;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HE.type="SESSION";const WE=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new _h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),f=await aP(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const m=pg("",20);o.port1.start();const w=setTimeout(()=>{f(new Error("unsupported_event"))},r);c={messageChannel:o,onMessage(y){const E=y;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(w),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(){return window}function cP(n){os().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof os().WorkerGlobalScope<"u"&&typeof os().importScripts=="function"}async function uP(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dP(){return navigator?.serviceWorker?.controller||null}function hP(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firebaseLocalStorageDb",fP=1,$d="firebaseLocalStorage",KE="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wh(n,e){return n.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function pP(){const n=indexedDB.deleteDatabase(GE);return new Mc(n).toPromise()}function lm(){const n=indexedDB.open(GE,fP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore($d,{keyPath:KE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains($d)?e(r):(r.close(),await pP(),e(await lm()))})})}async function Iw(n,e,t){const r=wh(n,!0).put({[KE]:e,value:t});return new Mc(r).toPromise()}async function mP(n,e){const t=wh(n,!1).get(e),r=await new Mc(t).toPromise();return r===void 0?null:r.value}function bw(n,e){const t=wh(n,!0).delete(e);return new Mc(t).toPromise()}const gP=800,yP=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>yP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(hP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uP(),!this.activeServiceWorker)return;this.sender=new lP(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lm();return await Iw(e,Bd,"1"),await bw(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Iw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>mP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=wh(o,!1).getAll();return new Mc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const vP=QE;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n,e){return e?Rs(e):(je(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ka(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wP(n){return UE(n.auth,new mg(n),n.bypassAuthState)}function xP(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),XN(t,new mg(n),n.bypassAuthState)}async function EP(n){const{auth:e,user:t}=n;return je(t,e,"internal-error"),YN(t,new mg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wP;case"linkViaPopup":case"linkViaRedirect":return EP;case"reauthViaPopup":case"reauthViaRedirect":return xP;default:br(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Dc(2e3,1e4);class Ia extends YE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(is(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(is(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(is(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TP.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="pendingRedirect",_d=new Map;class IP extends YE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await bP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bP(n,e){const t=RP(e),r=AP(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function CP(n,e){_d.set(n._key(),e)}function AP(n){return Rs(n._redirectPersistence)}function RP(n){return vd(SP,n.config.apiKey,n.name)}async function kP(n,e,t=!1){if(or(n.app))return Promise.reject(ks(n));const r=Do(n),o=_P(r,e),c=await new IP(r,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=600*1e3;class PP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!XE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(is(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cw(e))}saveEventToCache(e){this.cachedEventUids.add(Cw(e)),this.lastProcessedEventTime=Date.now()}}function Cw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function XE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e={}){return Fi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MP=/^https?/;async function VP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OP(n);for(const t of e)try{if(LP(t))return}catch{}br(n,"unauthorized-domain")}function LP(n){const e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!MP.test(t))return!1;if(jP.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=new Dc(3e4,6e4);function Aw(){const n=os().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function UP(n){return new Promise((e,t)=>{function r(){Aw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Aw(),t(is(n,"network-request-failed"))},timeout:FP.get()})}if(os().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(os().gapi?.load)r();else{const o=PN("iframefcb");return os()[o]=()=>{gapi.load?r():t(is(n,"network-request-failed"))},jE(`${NN()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw wd=null,e})}let wd=null;function zP(n){return wd=wd||UP(n),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=new Dc(5e3,15e3),$P="__/auth/iframe",HP="emulator/auth/iframe",WP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GP(n){const e=n.config;je(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?cg(e,HP):`https://${n.config.authDomain}/${$P}`,r={apiKey:e.apiKey,appName:n.name,v:qa},o=qP.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${bc(r).slice(1)}`}async function KP(n){const e=await zP(n),t=os().gapi;return je(t,n,"internal-error"),e.open({where:document.body,url:GP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WP,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const c=is(n,"network-request-failed"),h=os().setTimeout(()=>{a(c)},BP.get());function f(){os().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YP=500,XP=600,JP="_blank",ZP="http://localhost";class Rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(n,e,t,r=YP,o=XP){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...QP,width:r.toString(),height:o.toString(),top:a,left:c},m=vn().toLowerCase();t&&(h=AE(m)?JP:t),bE(m)&&(e=e||ZP,f.scrollbars="yes");const w=Object.entries(f).reduce((E,[b,D])=>`${E}${b}=${D},`,"");if(EN(m)&&h!=="_self")return t2(e||"",h),new Rw(null);const y=window.open(e||"",h,w);je(y,n,"popup-blocked");try{y.focus()}catch{}return new Rw(y)}function t2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__/auth/handler",r2="emulator/auth/handler",s2=encodeURIComponent("fac");async function kw(n,e,t,r,o,a){je(n.config.authDomain,n,"auth-domain-config-required"),je(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:qa,eventId:o};if(e instanceof LE){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",wb(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,y]of Object.entries({}))c[w]=y}if(e instanceof jc){const w=e.getScopes().filter(y=>y!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const w of Object.keys(h))h[w]===void 0&&delete h[w];const f=await n._getAppCheckToken(),m=f?`#${s2}=${encodeURIComponent(f)}`:"";return`${i2(n)}?${bc(h).slice(1)}${m}`}function i2({config:n}){return n.emulator?cg(n,r2):`https://${n.authDomain}/${n2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class o2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WE,this._completeRedirectFn=kP,this._overrideRedirectResult=CP}async _openPopup(e,t,r,o){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await kw(e,t,r,im(),o);return e2(e,a,pg())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await kw(e,t,r,im(),o);return cP(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Os(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KP(e),r=new PP(e);return t.register("authEvent",o=>(je(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(wp,{type:wp},o=>{const a=o?.[0]?.[wp];a!==void 0&&t(!!a),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=VP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return DE()||CE()||dg()}}const a2=o2;var Nw="@firebase/auth",Pw="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u2(n){Oa(new xo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;je(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OE(n)},m=new AN(r,o,a,f);return LN(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new xo("auth-internal",e=>{const t=Do(e.getProvider("auth").getImmediate());return(r=>new l2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(Nw,Pw,c2(n)),Ei(Nw,Pw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=300,h2=P0("authIdTokenMaxAge")||d2;let Dw=null;const f2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>h2)return;const o=t?.token;Dw!==o&&(Dw=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function p2(n=L0()){const e=Rm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VN(n,{popupRedirectResolver:a2,persistence:[vP,oP,WE]}),r=P0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const c=f2(a.toString());nP(t,c,()=>c(t.currentUser)),tP(t,h=>c(h))}}const o=k0("auth");return o&&FN(t,`http://${o}`),t}function m2(){return document.getElementsByTagName("head")?.[0]??document}RN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=is("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",m2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u2("Browser");const g2={apiKey:"AIzaSyDRNvlJwlvUuNhlAX0-8QJxRhSOCopQKps",authDomain:"carecontrol-v2.firebaseapp.com",projectId:"carecontrol-v2",storageBucket:"carecontrol-v2.firebasestorage.app",messagingSenderId:"646338796158",appId:"1:646338796158:web:163a5954b36e640ce6162f"},JE=V0(g2),xp=Dk(JE),cm=p2(JE);function y2(){const[n,e]=S.useState(""),[t,r]=S.useState(""),[o,a]=S.useState(null),c=async f=>{f.preventDefault(),a(null);try{const m=await ZN(cm,n,t);console.log("Usuario registrado!",m.user)}catch(m){console.error(m),a(m.message)}},h=async f=>{f.preventDefault(),a(null);try{const m=await eP(cm,n,t);console.log("Usuario ha iniciado sesin!",m.user)}catch(m){console.error(m),a(m.message)}};return p.jsxs("div",{style:{padding:"20px",maxWidth:"400px",margin:"50px auto"},children:[p.jsx("h2",{children:"Iniciar Sesin / Registrarse"}),p.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[p.jsx("input",{type:"email",value:n,onChange:f=>e(f.target.value),placeholder:"Correo electrnico",style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}}),p.jsx("input",{type:"password",value:t,onChange:f=>r(f.target.value),placeholder:"Contrasea (mn. 6 caracteres)",style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}}),o&&p.jsx("p",{style:{color:"red"},children:o}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{type:"submit",onClick:h,style:{padding:"10px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",flex:1},children:"Iniciar Sesin"}),p.jsx("button",{type:"submit",onClick:c,style:{padding:"10px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",flex:1},children:"Registrarse"})]})]})]})}function ZE(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=ZE(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function e1(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=ZE(n))&&(r&&(r+=" "),r+=e);return r}const gg="-",v2=n=>{const e=w2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:c=>{const h=c.split(gg);return h[0]===""&&h.length!==1&&h.shift(),t1(h,e)||_2(c)},getConflictingClassGroupIds:(c,h)=>{const f=t[c]||[];return h&&r[c]?[...f,...r[c]]:f}}},t1=(n,e)=>{if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?t1(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(gg);return e.validators.find(({validator:c})=>c(a))?.classGroupId},Ow=/^\[(.+)\]$/,_2=n=>{if(Ow.test(n)){const e=Ow.exec(n)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},w2=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)um(t[o],r,o,e);return r},um=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:jw(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(x2(o)){um(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{um(c,jw(e,a),t,r)})})},jw=(n,e)=>{let t=n;return e.split(gg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},x2=n=>n.isThemeGetter,E2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=r.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},dm="!",hm=":",T2=hm.length,S2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const a=[];let c=0,h=0,f=0,m;for(let D=0;D<o.length;D++){let I=o[D];if(c===0&&h===0){if(I===hm){a.push(o.slice(f,D)),f=D+T2;continue}if(I==="/"){m=D;continue}}I==="["?c++:I==="]"?c--:I==="("?h++:I===")"&&h--}const w=a.length===0?o:o.substring(f),y=I2(w),E=y!==w,b=m&&m>f?m-f:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:y,maybePostfixModifierPosition:b}};if(e){const o=e+hm,a=r;r=c=>c.startsWith(o)?a(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=a=>t({className:a,parseClassName:o})}return r},I2=n=>n.endsWith(dm)?n.substring(0,n.length-1):n.startsWith(dm)?n.substring(1):n,b2=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let a=[];return r.forEach(c=>{c[0]==="["||e[c]?(o.push(...a.sort(),c),a=[]):a.push(c)}),o.push(...a.sort()),o}},C2=n=>({cache:E2(n.cacheSize),parseClassName:S2(n),sortModifiers:b2(n),...v2(n)}),A2=/\s+/,R2=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:a}=e,c=[],h=n.trim().split(A2);let f="";for(let m=h.length-1;m>=0;m-=1){const w=h[m],{isExternal:y,modifiers:E,hasImportantModifier:b,baseClassName:D,maybePostfixModifierPosition:I}=t(w);if(y){f=w+(f.length>0?" "+f:f);continue}let R=!!I,j=r(R?D.substring(0,I):D);if(!j){if(!R){f=w+(f.length>0?" "+f:f);continue}if(j=r(D),!j){f=w+(f.length>0?" "+f:f);continue}R=!1}const L=a(E).join(":"),z=b?L+dm:L,Q=z+j;if(c.includes(Q))continue;c.push(Q);const X=o(j,R);for(let J=0;J<X.length;++J){const k=X[J];c.push(z+k)}f=w+(f.length>0?" "+f:f)}return f};function k2(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=n1(e))&&(r&&(r+=" "),r+=t);return r}const n1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=n1(n[r]))&&(t&&(t+=" "),t+=e);return t};function N2(n,...e){let t,r,o,a=c;function c(f){const m=e.reduce((w,y)=>y(w),n());return t=C2(m),r=t.cache.get,o=t.cache.set,a=h,h(f)}function h(f){const m=r(f);if(m)return m;const w=R2(f,t);return o(f,w),w}return function(){return a(k2.apply(null,arguments))}}const $t=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},r1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,s1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P2=/^\d+\/\d+$/,D2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,M2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,V2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ga=n=>P2.test(n),Be=n=>!!n&&!Number.isNaN(Number(n)),fi=n=>!!n&&Number.isInteger(Number(n)),Ep=n=>n.endsWith("%")&&Be(n.slice(0,-1)),bs=n=>D2.test(n),L2=()=>!0,F2=n=>O2.test(n)&&!j2.test(n),i1=()=>!1,U2=n=>M2.test(n),z2=n=>V2.test(n),B2=n=>!Te(n)&&!Se(n),$2=n=>el(n,l1,i1),Te=n=>r1.test(n),po=n=>el(n,c1,F2),Tp=n=>el(n,K2,Be),Mw=n=>el(n,o1,i1),H2=n=>el(n,a1,z2),td=n=>el(n,u1,U2),Se=n=>s1.test(n),Kl=n=>tl(n,c1),W2=n=>tl(n,Q2),Vw=n=>tl(n,o1),q2=n=>tl(n,l1),G2=n=>tl(n,a1),nd=n=>tl(n,u1,!0),el=(n,e,t)=>{const r=r1.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},tl=(n,e,t=!1)=>{const r=s1.exec(n);return r?r[1]?e(r[1]):t:!1},o1=n=>n==="position"||n==="percentage",a1=n=>n==="image"||n==="url",l1=n=>n==="length"||n==="size"||n==="bg-size",c1=n=>n==="length",K2=n=>n==="number",Q2=n=>n==="family-name",u1=n=>n==="shadow",Y2=()=>{const n=$t("color"),e=$t("font"),t=$t("text"),r=$t("font-weight"),o=$t("tracking"),a=$t("leading"),c=$t("breakpoint"),h=$t("container"),f=$t("spacing"),m=$t("radius"),w=$t("shadow"),y=$t("inset-shadow"),E=$t("text-shadow"),b=$t("drop-shadow"),D=$t("blur"),I=$t("perspective"),R=$t("aspect"),j=$t("ease"),L=$t("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],X=()=>[...Q(),Se,Te],J=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],C=()=>[Se,Te,f],P=()=>[ga,"full","auto",...C()],V=()=>[fi,"none","subgrid",Se,Te],M=()=>["auto",{span:["full",fi,Se,Te]},fi,Se,Te],U=()=>[fi,"auto",Se,Te],N=()=>["auto","min","max","fr",Se,Te],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ae=()=>["start","end","center","stretch","center-safe","end-safe"],ae=()=>["auto",...C()],me=()=>[ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],H=()=>[n,Se,Te],ce=()=>[...Q(),Vw,Mw,{position:[Se,Te]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],$=()=>["auto","cover","contain",q2,$2,{size:[Se,Te]}],Z=()=>[Ep,Kl,po],ie=()=>["","none","full",m,Se,Te],he=()=>["",Be,Kl,po],ge=()=>["solid","dashed","dotted","double"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Be,Ep,Vw,Mw],fe=()=>["","none",D,Se,Te],Re=()=>["none",Be,Se,Te],De=()=>["none",Be,Se,Te],ze=()=>[Be,Se,Te],$e=()=>[ga,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bs],breakpoint:[bs],color:[L2],container:[bs],"drop-shadow":[bs],ease:["in","out","in-out"],font:[B2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bs],shadow:[bs],spacing:["px",Be],text:[bs],"text-shadow":[bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ga,Te,Se,R]}],container:["container"],columns:[{columns:[Be,Te,Se,h]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:X()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[fi,"auto",Se,Te]}],basis:[{basis:[ga,"full","auto",h,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,ga,"auto","initial","none",Te]}],grow:[{grow:["",Be,Se,Te]}],shrink:[{shrink:["",Be,Se,Te]}],order:[{order:[fi,"first","last","none",Se,Te]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...Ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ae()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...Ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...Ae(),"baseline"]}],"place-self":[{"place-self":["auto",...Ae()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:ae()}],mx:[{mx:ae()}],my:[{my:ae()}],ms:[{ms:ae()}],me:[{me:ae()}],mt:[{mt:ae()}],mr:[{mr:ae()}],mb:[{mb:ae()}],ml:[{ml:ae()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[h,"screen",...me()]}],"min-w":[{"min-w":[h,"screen","none",...me()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[c]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",t,Kl,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,Tp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ep,Te]}],"font-family":[{font:[W2,Te,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Se,Te]}],"line-clamp":[{"line-clamp":[Be,"none",Se,Tp]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",Se,Te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,Te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",Se,po]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[Be,"auto",Se,Te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,Te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,Te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:$()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fi,Se,Te],radial:["",Se,Te],conic:[fi,Se,Te]},G2,H2]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:he()}],"border-w-x":[{"border-x":he()}],"border-w-y":[{"border-y":he()}],"border-w-s":[{"border-s":he()}],"border-w-e":[{"border-e":he()}],"border-w-t":[{"border-t":he()}],"border-w-r":[{"border-r":he()}],"border-w-b":[{"border-b":he()}],"border-w-l":[{"border-l":he()}],"divide-x":[{"divide-x":he()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":he()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,Se,Te]}],"outline-w":[{outline:["",Be,Kl,po]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",w,nd,td]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",y,nd,td]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:he()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[Be,po]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":he()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",E,nd,td]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[Be,Se,Te]}],"mix-blend":[{"mix-blend":[...be(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":be()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Se,Te]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:$()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,Te]}],filter:[{filter:["","none",Se,Te]}],blur:[{blur:fe()}],brightness:[{brightness:[Be,Se,Te]}],contrast:[{contrast:[Be,Se,Te]}],"drop-shadow":[{"drop-shadow":["","none",b,nd,td]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",Be,Se,Te]}],"hue-rotate":[{"hue-rotate":[Be,Se,Te]}],invert:[{invert:["",Be,Se,Te]}],saturate:[{saturate:[Be,Se,Te]}],sepia:[{sepia:["",Be,Se,Te]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,Te]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[Be,Se,Te]}],"backdrop-contrast":[{"backdrop-contrast":[Be,Se,Te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,Se,Te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,Se,Te]}],"backdrop-invert":[{"backdrop-invert":["",Be,Se,Te]}],"backdrop-opacity":[{"backdrop-opacity":[Be,Se,Te]}],"backdrop-saturate":[{"backdrop-saturate":[Be,Se,Te]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,Se,Te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,Te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",Se,Te]}],ease:[{ease:["linear","initial",j,Se,Te]}],delay:[{delay:[Be,Se,Te]}],animate:[{animate:["none",L,Se,Te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[I,Se,Te]}],"perspective-origin":[{"perspective-origin":X()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[Se,Te,"","none","gpu","cpu"]}],"transform-origin":[{origin:X()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,Te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,Te]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[Be,Kl,po,Tp]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},X2=N2(Y2);function tt(...n){return X2(e1(n))}function st({className:n,...e}){return p.jsx("div",{"data-slot":"card",className:tt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",n),...e})}function Er({className:n,...e}){return p.jsx("div",{"data-slot":"card-header",className:tt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function Tr({className:n,...e}){return p.jsx("h4",{"data-slot":"card-title",className:tt("leading-none",n),...e})}function Ql({className:n,...e}){return p.jsx("p",{"data-slot":"card-description",className:tt("text-muted-foreground",n),...e})}function it({className:n,...e}){return p.jsx("div",{"data-slot":"card-content",className:tt("px-6 [&:last-child]:pb-6",n),...e})}function Lw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nl(...n){return e=>{let t=!1;const r=n.map(o=>{const a=Lw(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<r.length;o++){const a=r[o];typeof a=="function"?a():Lw(n[o],null)}}}}function wt(...n){return S.useCallback(nl(...n),n)}var J2=Symbol.for("react.lazy"),Hd=bm[" use ".trim().toString()];function Z2(n){return typeof n=="object"&&n!==null&&"then"in n}function d1(n){return n!=null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===J2&&"_payload"in n&&Z2(n._payload)}function xh(n){const e=eD(n),t=S.forwardRef((r,o)=>{let{children:a,...c}=r;d1(a)&&typeof Hd=="function"&&(a=Hd(a._payload));const h=S.Children.toArray(a),f=h.find(nD);if(f){const m=f.props.children,w=h.map(y=>y===f?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...c,ref:o,children:S.isValidElement(m)?S.cloneElement(m,void 0,w):null})}return p.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}var h1=xh("Slot");function eD(n){const e=S.forwardRef((t,r)=>{let{children:o,...a}=t;if(d1(o)&&typeof Hd=="function"&&(o=Hd(o._payload)),S.isValidElement(o)){const c=sD(o),h=rD(a,o.props);return o.type!==S.Fragment&&(h.ref=r?nl(r,c):c),S.cloneElement(o,h)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var tD=Symbol("radix.slottable");function nD(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===tD}function rD(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function sD(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Fw=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Uw=e1,f1=(n,e)=>t=>{var r;if(e?.variants==null)return Uw(n,t?.class,t?.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const w=t?.[m],y=a?.[m];if(w===null)return null;const E=Fw(w)||Fw(y);return o[m][E]}),h=t&&Object.entries(t).reduce((m,w)=>{let[y,E]=w;return E===void 0||(m[y]=E),m},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((m,w)=>{let{class:y,className:E,...b}=w;return Object.entries(b).every(D=>{let[I,R]=D;return Array.isArray(R)?R.includes({...a,...h}[I]):{...a,...h}[I]===R})?[...m,y,E]:m},[]);return Uw(n,c,f,t?.class,t?.className)},iD=f1("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ba({className:n,variant:e,asChild:t=!1,...r}){const o=t?h1:"span";return p.jsx(o,{"data-slot":"badge",className:tt(iD({variant:e}),n),...r})}function oD(n,e=[]){let t=[];function r(a,c){const h=S.createContext(c);h.displayName=a+"Context";const f=t.length;t=[...t,c];const m=y=>{const{scope:E,children:b,...D}=y,I=E?.[n]?.[f]||h,R=S.useMemo(()=>D,Object.values(D));return p.jsx(I.Provider,{value:R,children:b})};m.displayName=a+"Provider";function w(y,E){const b=E?.[n]?.[f]||h,D=S.useContext(b);if(D)return D;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,w]}const o=()=>{const a=t.map(c=>S.createContext(c));return function(h){const f=h?.[n]||a;return S.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[r,aD(o,...e)]}function aD(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((h,{useScope:f,scopeName:m})=>{const y=f(a)[`__scope${m}`];return{...h,...y}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function js(n){const e=S.useRef(n);return S.useEffect(()=>{e.current=n}),S.useMemo(()=>(...t)=>e.current?.(...t),[])}var Wt=globalThis?.document?S.useLayoutEffect:()=>{},Vc=b0();const p1=I0(Vc);var lD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yg=lD.reduce((n,e)=>{const t=xh(`Primitive.${e}`),r=S.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),Sp={exports:{}},Ip={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function cD(){if(zw)return Ip;zw=1;var n=Zd();function e(y,E){return y===E&&(y!==0||1/y===1/E)||y!==y&&E!==E}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function h(y,E){var b=E(),D=r({inst:{value:b,getSnapshot:E}}),I=D[0].inst,R=D[1];return a(function(){I.value=b,I.getSnapshot=E,f(I)&&R({inst:I})},[y,b,E]),o(function(){return f(I)&&R({inst:I}),y(function(){f(I)&&R({inst:I})})},[y]),c(b),b}function f(y){var E=y.getSnapshot;y=y.value;try{var b=E();return!t(y,b)}catch{return!0}}function m(y,E){return E()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Ip.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:w,Ip}var Bw;function uD(){return Bw||(Bw=1,Sp.exports=cD()),Sp.exports}var dD=uD();function hD(){return dD.useSyncExternalStore(fD,()=>!0,()=>!1)}function fD(){return()=>{}}var vg="Avatar",[pD]=oD(vg),[mD,m1]=pD(vg),g1=S.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,a]=S.useState("idle");return p.jsx(mD,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:p.jsx(yg.span,{...r,ref:e})})});g1.displayName=vg;var y1="AvatarImage",v1=S.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...a}=n,c=m1(y1,t),h=gD(r,a),f=js(m=>{o(m),c.onImageLoadingStatusChange(m)});return Wt(()=>{h!=="idle"&&f(h)},[h,f]),h==="loaded"?p.jsx(yg.img,{...a,ref:e,src:r}):null});v1.displayName=y1;var _1="AvatarFallback",w1=S.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,a=m1(_1,t),[c,h]=S.useState(r===void 0);return S.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(f)}},[r]),c&&a.imageLoadingStatus!=="loaded"?p.jsx(yg.span,{...o,ref:e}):null});w1.displayName=_1;function $w(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function gD(n,{referrerPolicy:e,crossOrigin:t}){const r=hD(),o=S.useRef(null),a=r?(o.current||(o.current=new window.Image),o.current):null,[c,h]=S.useState(()=>$w(a,n));return Wt(()=>{h($w(a,n))},[a,n]),Wt(()=>{const f=y=>()=>{h(y)};if(!a)return;const m=f("loaded"),w=f("error");return a.addEventListener("load",m),a.addEventListener("error",w),e&&(a.referrerPolicy=e),typeof t=="string"&&(a.crossOrigin=t),()=>{a.removeEventListener("load",m),a.removeEventListener("error",w)}},[a,t,e]),c}var yD=g1,vD=v1,_D=w1;function wc({className:n,...e}){return p.jsx(yD,{"data-slot":"avatar",className:tt("relative flex size-10 shrink-0 overflow-hidden rounded-full",n),...e})}function xc({className:n,...e}){return p.jsx(vD,{"data-slot":"avatar-image",className:tt("aspect-square size-full",n),...e})}function Ec({className:n,...e}){return p.jsx(_D,{"data-slot":"avatar-fallback",className:tt("bg-muted flex size-full items-center justify-center rounded-full",n),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Hw=n=>{const e=xD(n);return e.charAt(0).toUpperCase()+e.slice(1)},x1=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ED={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=S.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:a,iconNode:c,...h},f)=>S.createElement("svg",{ref:f,...ED,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:x1("lucide",o),...h},[...c.map(([m,w])=>S.createElement(m,w)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(n,e)=>{const t=S.forwardRef(({className:r,...o},a)=>S.createElement(TD,{ref:a,iconNode:e,className:x1(`lucide-${wD(Hw(n))}`,`lucide-${n}`,r),...o}));return t.displayName=Hw(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],E1=nt("activity",SD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Eh=nt("arrow-left",ID);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],T1=nt("bell",bD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wd=nt("calendar",CD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],RD=nt("check",AD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],S1=nt("chevron-down",kD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PD=nt("chevron-left",ND);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_g=nt("chevron-right",DD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jD=nt("chevron-up",OD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],VD=nt("circle-alert",MD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qd=nt("circle-check-big",LD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Di=nt("clock",FD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Ww=nt("download",UD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qw=nt("funnel",zD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],$D=nt("heart",BD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],fm=nt("history",HD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qD=nt("house",WD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],KD=nt("info",GD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Gw=nt("languages",QD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],bo=nt("pill",YD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wg=nt("plus",XD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],I1=nt("settings",JD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],b1=nt("shield",ZD);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],tO=nt("thermometer",eO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],rO=nt("trash-2",nO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],C1=nt("triangle-alert",sO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],A1=nt("user-plus",iO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Na=nt("user",oO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],lO=nt("users",aO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],uO=nt("volume-2",cO);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hO=nt("x",dO);function fO({medication:n,time:e,dosage:t,type:r,instructions:o,patient:a,onClick:c}){const f=(()=>{switch(r){case"taken":return{badgeVariant:"secondary",badgeText:"Tomado",iconColor:"text-green-600",cardStyle:"border-green-200 bg-green-50/50"};case"overdue":return{badgeVariant:"destructive",badgeText:"Retrasado",iconColor:"text-red-600",cardStyle:"border-red-200 bg-red-50/50"};default:return{badgeVariant:"outline",badgeText:"Pendiente",iconColor:"text-blue-600",cardStyle:"border-blue-200 bg-blue-50/50"}}})();return p.jsx(st,{className:`${f.cardStyle} transition-all duration-200 cursor-pointer hover:shadow-md`,onClick:c,children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[p.jsx("div",{className:`p-2 rounded-full bg-card ${f.iconColor}`,children:r==="overdue"?p.jsx(VD,{size:20}):p.jsx(bo,{size:20})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[p.jsxs(wc,{className:"w-6 h-6",children:[p.jsx(xc,{src:a.avatar}),p.jsx(Ec,{className:"text-xs",children:a.name.split(" ").map(m=>m[0]).join("")})]}),p.jsx("span",{className:"text-sm font-medium text-foreground",children:a.name}),p.jsxs("span",{className:"text-xs text-muted-foreground",children:[" Hab. ",a.room]})]}),p.jsx("h3",{className:"font-medium text-foreground",children:n}),p.jsx("p",{className:"text-sm text-muted-foreground",children:t}),o&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o})]})]}),p.jsxs("div",{className:"text-right flex items-center space-x-2",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mb-1",children:[p.jsx(Di,{size:14,className:"mr-1"}),e]}),p.jsx(Ba,{variant:f.badgeVariant,className:"text-xs",children:f.badgeText})]}),p.jsx(_g,{size:16,className:"text-muted-foreground"})]})]})})})}const pO=f1("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function ut({className:n,variant:e,size:t,asChild:r=!1,...o}){const a=r?h1:"button";return p.jsx(a,{"data-slot":"button",className:tt(pO({variant:e,size:t,className:n})),...o})}function mO({onAddMedication:n,onAddPatient:e,onViewSchedule:t,onViewHistory:r,onViewSettings:o}){const a=[{icon:A1,label:"Agregar Paciente",description:"Nuevo registro",variant:"default",className:"bg-blue-600 hover:bg-blue-700",onClick:e},{icon:wg,label:"Agregar Medicamento",description:"Nuevo tratamiento",variant:"outline",onClick:n},{icon:Wd,label:"Programacin",description:"Ver turnos",variant:"outline",onClick:t},{icon:fm,label:"Historial",description:"Registros mdicos",variant:"outline",onClick:r},{icon:I1,label:"Configuracin",description:"Ajustar sistema",variant:"outline",onClick:o}];return p.jsx("div",{className:"grid grid-cols-2 gap-3",children:a.map((c,h)=>c.onClick?p.jsx(st,{className:"cursor-pointer hover:shadow-md transition-shadow duration-200",children:p.jsx(it,{className:"p-4",children:p.jsxs(ut,{variant:c.variant,className:`w-full h-auto flex-col py-4 space-y-2 ${c.className||""}`,onClick:c.onClick,children:[p.jsx(c.icon,{size:24}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-sm font-medium",children:c.label}),p.jsx("div",{className:"text-xs opacity-80",children:c.description})]})]})})},h):null)})}function gO(){const n=[{icon:qd,label:"Tomados",value:"3",color:"text-green-600",bgColor:"bg-green-100"},{icon:Di,label:"Pendientes",value:"2",color:"text-blue-600",bgColor:"bg-blue-100"},{icon:C1,label:"Retrasados",value:"1",color:"text-red-600",bgColor:"bg-red-100"}];return p.jsx("div",{className:"grid grid-cols-3 gap-4",children:n.map((e,t)=>p.jsx(st,{className:"text-center",children:p.jsxs(it,{className:"p-4",children:[p.jsx("div",{className:`inline-flex p-3 rounded-full ${e.bgColor} mb-2`,children:p.jsx(e.icon,{size:20,className:e.color})}),p.jsx("div",{className:"text-2xl font-bold text-foreground",children:e.value}),p.jsx("div",{className:"text-sm text-muted-foreground",children:e.label})]})},t))})}function yO({patient:n,onBack:e,onAddMedication:t}){const r=c=>{switch(c.toLowerCase()){case"estable":return"bg-green-100 text-green-800";case"crtico":return"bg-red-100 text-red-800";case"moderado":return"bg-yellow-100 text-yellow-800";default:return"bg-blue-100 text-blue-800"}},a=(()=>{const c=n.medications.filter(m=>m.type==="taken").length,h=n.medications.filter(m=>m.type==="pending").length,f=n.medications.filter(m=>m.type==="overdue").length;return{taken:c,pending:h,overdue:f}})();return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("div",{className:"bg-card border-b border-border",children:p.jsx("div",{className:"px-4 py-4",children:p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx(ut,{variant:"ghost",size:"icon",onClick:e,children:p.jsx(Eh,{size:20})}),p.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Informacin del Paciente"})]})})}),p.jsxs("div",{className:"px-4 py-6 space-y-6",children:[p.jsx(st,{children:p.jsx(it,{className:"p-6",children:p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsxs(wc,{className:"w-16 h-16",children:[p.jsx(xc,{src:n.avatar}),p.jsx(Ec,{className:"text-lg",children:n.name.split(" ").map(c=>c[0]).join("")})]}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h2",{className:"text-xl font-semibold text-foreground",children:n.name}),p.jsxs("p",{className:"text-muted-foreground",children:["Habitacin ",n.room,"  ",n.age," aos"]}),p.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Ingreso: ",n.admissionDate]}),p.jsx(Ba,{className:`mt-2 ${r(n.condition)}`,children:n.condition})]})]})})}),p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsx(Tr,{className:"text-base",children:"Signos Vitales"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["ltima actualizacin: ",n.vitals.lastUpdate]})]}),p.jsx(it,{className:"space-y-4",children:p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"p-3 bg-red-100 rounded-full inline-flex mb-2",children:p.jsx($D,{className:"text-red-600",size:20})}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Frecuencia Cardaca"}),p.jsx("p",{className:"font-semibold",children:n.vitals.heartRate})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"p-3 bg-blue-100 rounded-full inline-flex mb-2",children:p.jsx(tO,{className:"text-blue-600",size:20})}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Temperatura"}),p.jsx("p",{className:"font-semibold",children:n.vitals.temperature})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"p-3 bg-purple-100 rounded-full inline-flex mb-2",children:p.jsx(E1,{className:"text-purple-600",size:20})}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Presin Arterial"}),p.jsx("p",{className:"font-semibold",children:n.vitals.bloodPressure})]})]})})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsx(st,{className:"text-center",children:p.jsxs(it,{className:"p-4",children:[p.jsx("div",{className:"p-3 bg-green-100 rounded-full inline-flex mb-2",children:p.jsx(qd,{className:"text-green-600",size:20})}),p.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.taken}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Tomados"})]})}),p.jsx(st,{className:"text-center",children:p.jsxs(it,{className:"p-4",children:[p.jsx("div",{className:"p-3 bg-blue-100 rounded-full inline-flex mb-2",children:p.jsx(Di,{className:"text-blue-600",size:20})}),p.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.pending}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Pendientes"})]})}),p.jsx(st,{className:"text-center",children:p.jsxs(it,{className:"p-4",children:[p.jsx("div",{className:"p-3 bg-red-100 rounded-full inline-flex mb-2",children:p.jsx(C1,{className:"text-red-600",size:20})}),p.jsx("p",{className:"text-2xl font-bold text-foreground",children:a.overdue}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Retrasados"})]})})]}),p.jsxs(st,{children:[p.jsx(Er,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Tr,{className:"text-base",children:"Medicamentos de Hoy"}),t&&p.jsxs(ut,{size:"sm",onClick:t,className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx(wg,{size:16,className:"mr-1"}),"Agregar"]})]})}),p.jsx(it,{className:"space-y-3",children:n.medications.map((c,h)=>{const m=(w=>{switch(w){case"taken":return{bgColor:"bg-green-50",borderColor:"border-green-200",iconColor:"text-green-600"};case"overdue":return{bgColor:"bg-red-50",borderColor:"border-red-200",iconColor:"text-red-600"};default:return{bgColor:"bg-blue-50",borderColor:"border-blue-200",iconColor:"text-blue-600"}}})(c.type);return p.jsx("div",{className:`p-3 rounded-lg border ${m.bgColor} ${m.borderColor}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(bo,{className:m.iconColor,size:16}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground",children:c.medication}),p.jsx("p",{className:"text-sm text-muted-foreground",children:c.dosage}),c.instructions&&p.jsx("p",{className:"text-xs text-muted-foreground",children:c.instructions})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[p.jsx(Di,{size:12,className:"mr-1"}),c.time]})})]})},h)})})]}),p.jsxs(st,{children:[p.jsx(Er,{children:p.jsx(Tr,{className:"text-base",children:"Notas Mdicas"})}),p.jsx(it,{children:p.jsx("p",{className:"text-sm text-muted-foreground",children:n.notes})})]})]})]})}function Qe(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function vO(n,e){const t=S.createContext(e),r=a=>{const{children:c,...h}=a,f=S.useMemo(()=>h,Object.values(h));return p.jsx(t.Provider,{value:f,children:c})};r.displayName=n+"Provider";function o(a){const c=S.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,o]}function Oo(n,e=[]){let t=[];function r(a,c){const h=S.createContext(c),f=t.length;t=[...t,c];const m=y=>{const{scope:E,children:b,...D}=y,I=E?.[n]?.[f]||h,R=S.useMemo(()=>D,Object.values(D));return p.jsx(I.Provider,{value:R,children:b})};m.displayName=a+"Provider";function w(y,E){const b=E?.[n]?.[f]||h,D=S.useContext(b);if(D)return D;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,w]}const o=()=>{const a=t.map(c=>S.createContext(c));return function(h){const f=h?.[n]||a;return S.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[r,_O(o,...e)]}function _O(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=r.reduce((h,{useScope:f,scopeName:m})=>{const y=f(a)[`__scope${m}`];return{...h,...y}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var wO=bm[" useId ".trim().toString()]||(()=>{}),xO=0;function Ii(n){const[e,t]=S.useState(wO());return Wt(()=>{t(r=>r??String(xO++))},[n]),n||(e?`radix-${e}`:"")}var EO=bm[" useInsertionEffect ".trim().toString()]||Wt;function $a({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,a,c]=TO({defaultProp:e,onChange:t}),h=n!==void 0,f=h?n:o;{const w=S.useRef(n!==void 0);S.useEffect(()=>{const y=w.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),w.current=h},[h,r])}const m=S.useCallback(w=>{if(h){const y=SO(w)?w(n):w;y!==n&&c.current?.(y)}else a(w)},[h,n,a,c]);return[f,m]}function TO({defaultProp:n,onChange:e}){const[t,r]=S.useState(n),o=S.useRef(t),a=S.useRef(e);return EO(()=>{a.current=e},[e]),S.useEffect(()=>{o.current!==t&&(a.current?.(t),o.current=t)},[t,o]),[t,r,a]}function SO(n){return typeof n=="function"}function IO(n){const e=bO(n),t=S.forwardRef((r,o)=>{const{children:a,...c}=r,h=S.Children.toArray(a),f=h.find(AO);if(f){const m=f.props.children,w=h.map(y=>y===f?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...c,ref:o,children:S.isValidElement(m)?S.cloneElement(m,void 0,w):null})}return p.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function bO(n){const e=S.forwardRef((t,r)=>{const{children:o,...a}=t;if(S.isValidElement(o)){const c=kO(o),h=RO(a,o.props);return o.type!==S.Fragment&&(h.ref=r?nl(r,c):c),S.cloneElement(o,h)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var CO=Symbol("radix.slottable");function AO(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===CO}function RO(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function kO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var NO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=NO.reduce((n,e)=>{const t=IO(`Primitive.${e}`),r=S.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function PO(n,e){n&&Vc.flushSync(()=>n.dispatchEvent(e))}function DO(n,e=globalThis?.document){const t=js(n);S.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var OO="DismissableLayer",pm="dismissableLayer.update",jO="dismissableLayer.pointerDownOutside",MO="dismissableLayer.focusOutside",Kw,R1=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xg=S.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,m=S.useContext(R1),[w,y]=S.useState(null),E=w?.ownerDocument??globalThis?.document,[,b]=S.useState({}),D=wt(e,k=>y(k)),I=Array.from(m.layers),[R]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=I.indexOf(R),L=w?I.indexOf(w):-1,z=m.layersWithOutsidePointerEventsDisabled.size>0,Q=L>=j,X=FO(k=>{const C=k.target,P=[...m.branches].some(V=>V.contains(C));!Q||P||(o?.(k),c?.(k),k.defaultPrevented||h?.())},E),J=UO(k=>{const C=k.target;[...m.branches].some(V=>V.contains(C))||(a?.(k),c?.(k),k.defaultPrevented||h?.())},E);return DO(k=>{L===m.layers.size-1&&(r?.(k),!k.defaultPrevented&&h&&(k.preventDefault(),h()))},E),S.useEffect(()=>{if(w)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Kw=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(w)),m.layers.add(w),Qw(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=Kw)}},[w,E,t,m]),S.useEffect(()=>()=>{w&&(m.layers.delete(w),m.layersWithOutsidePointerEventsDisabled.delete(w),Qw())},[w,m]),S.useEffect(()=>{const k=()=>b({});return document.addEventListener(pm,k),()=>document.removeEventListener(pm,k)},[]),p.jsx(Xe.div,{...f,ref:D,style:{pointerEvents:z?Q?"auto":"none":void 0,...n.style},onFocusCapture:Qe(n.onFocusCapture,J.onFocusCapture),onBlurCapture:Qe(n.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Qe(n.onPointerDownCapture,X.onPointerDownCapture)})});xg.displayName=OO;var VO="DismissableLayerBranch",LO=S.forwardRef((n,e)=>{const t=S.useContext(R1),r=S.useRef(null),o=wt(e,r);return S.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),p.jsx(Xe.div,{...n,ref:o})});LO.displayName=VO;function FO(n,e=globalThis?.document){const t=js(n),r=S.useRef(!1),o=S.useRef(()=>{});return S.useEffect(()=>{const a=h=>{if(h.target&&!r.current){let f=function(){k1(jO,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);r.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function UO(n,e=globalThis?.document){const t=js(n),r=S.useRef(!1);return S.useEffect(()=>{const o=a=>{a.target&&!r.current&&k1(MO,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qw(){const n=new CustomEvent(pm);document.dispatchEvent(n)}function k1(n,e,t,{discrete:r}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?PO(o,a):o.dispatchEvent(a)}var bp="focusScope.autoFocusOnMount",Cp="focusScope.autoFocusOnUnmount",Yw={bubbles:!1,cancelable:!0},zO="FocusScope",Eg=S.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=S.useState(null),m=js(o),w=js(a),y=S.useRef(null),E=wt(e,I=>f(I)),b=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let I=function(z){if(b.paused||!h)return;const Q=z.target;h.contains(Q)?y.current=Q:pi(y.current,{select:!0})},R=function(z){if(b.paused||!h)return;const Q=z.relatedTarget;Q!==null&&(h.contains(Q)||pi(y.current,{select:!0}))},j=function(z){if(document.activeElement===document.body)for(const X of z)X.removedNodes.length>0&&pi(h)};document.addEventListener("focusin",I),document.addEventListener("focusout",R);const L=new MutationObserver(j);return h&&L.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",R),L.disconnect()}}},[r,h,b.paused]),S.useEffect(()=>{if(h){Jw.add(b);const I=document.activeElement;if(!h.contains(I)){const j=new CustomEvent(bp,Yw);h.addEventListener(bp,m),h.dispatchEvent(j),j.defaultPrevented||(BO(GO(N1(h)),{select:!0}),document.activeElement===I&&pi(h))}return()=>{h.removeEventListener(bp,m),setTimeout(()=>{const j=new CustomEvent(Cp,Yw);h.addEventListener(Cp,w),h.dispatchEvent(j),j.defaultPrevented||pi(I??document.body,{select:!0}),h.removeEventListener(Cp,w),Jw.remove(b)},0)}}},[h,m,w,b]);const D=S.useCallback(I=>{if(!t&&!r||b.paused)return;const R=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,j=document.activeElement;if(R&&j){const L=I.currentTarget,[z,Q]=$O(L);z&&Q?!I.shiftKey&&j===Q?(I.preventDefault(),t&&pi(z,{select:!0})):I.shiftKey&&j===z&&(I.preventDefault(),t&&pi(Q,{select:!0})):j===L&&I.preventDefault()}},[t,r,b.paused]);return p.jsx(Xe.div,{tabIndex:-1,...c,ref:E,onKeyDown:D})});Eg.displayName=zO;function BO(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(pi(r,{select:e}),document.activeElement!==t)return}function $O(n){const e=N1(n),t=Xw(e,n),r=Xw(e.reverse(),n);return[t,r]}function N1(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Xw(n,e){for(const t of n)if(!HO(t,{upTo:e}))return t}function HO(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function WO(n){return n instanceof HTMLInputElement&&"select"in n}function pi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&WO(n)&&e&&n.select()}}var Jw=qO();function qO(){let n=[];return{add(e){const t=n[0];e!==t&&t?.pause(),n=Zw(n,e),n.unshift(e)},remove(e){n=Zw(n,e),n[0]?.resume()}}}function Zw(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function GO(n){return n.filter(e=>e.tagName!=="A")}var KO="Portal",Tg=S.forwardRef((n,e)=>{const{container:t,...r}=n,[o,a]=S.useState(!1);Wt(()=>a(!0),[]);const c=t||o&&globalThis?.document?.body;return c?p1.createPortal(p.jsx(Xe.div,{...r,ref:e}),c):null});Tg.displayName=KO;function QO(n,e){return S.useReducer((t,r)=>e[t][r]??t,n)}var Lc=n=>{const{present:e,children:t}=n,r=YO(e),o=typeof t=="function"?t({present:r.isPresent}):S.Children.only(t),a=wt(r.ref,XO(o));return typeof t=="function"||r.isPresent?S.cloneElement(o,{ref:a}):null};Lc.displayName="Presence";function YO(n){const[e,t]=S.useState(),r=S.useRef(null),o=S.useRef(n),a=S.useRef("none"),c=n?"mounted":"unmounted",[h,f]=QO(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const m=rd(r.current);a.current=h==="mounted"?m:"none"},[h]),Wt(()=>{const m=r.current,w=o.current;if(w!==n){const E=a.current,b=rd(m);n?f("MOUNT"):b==="none"||m?.display==="none"?f("UNMOUNT"):f(w&&E!==b?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),Wt(()=>{if(e){let m;const w=e.ownerDocument.defaultView??window,y=b=>{const I=rd(r.current).includes(CSS.escape(b.animationName));if(b.target===e&&I&&(f("ANIMATION_END"),!o.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",m=w.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=b=>{b.target===e&&(a.current=rd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{w.clearTimeout(m),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:S.useCallback(m=>{r.current=m?getComputedStyle(m):null,t(m)},[])}}function rd(n){return n?.animationName||"none"}function XO(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Ap=0;function P1(){S.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??e0()),document.body.insertAdjacentElement("beforeend",n[1]??e0()),Ap++,()=>{Ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ap--}},[])}function e0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Jr=function(){return Jr=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Jr.apply(this,arguments)};function D1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function JO(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var xd="right-scroll-bar-position",Ed="width-before-scroll-bar",ZO="with-scroll-bars-hidden",ej="--removed-body-scroll-bar-size";function Rp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function tj(n,e){var t=S.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var nj=typeof window<"u"?S.useLayoutEffect:S.useEffect,t0=new WeakMap;function rj(n,e){var t=tj(null,function(r){return n.forEach(function(o){return Rp(o,r)})});return nj(function(){var r=t0.get(t);if(r){var o=new Set(r),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||Rp(h,null)}),a.forEach(function(h){o.has(h)||Rp(h,c)})}t0.set(t,n)},[n]),t}function sj(n){return n}function ij(n,e){e===void 0&&(e=sj);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,r);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(r=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){r=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var w=c;c=[],w.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(w){c.push(w),m()},filter:function(w){return c=c.filter(w),t}}}};return o}function oj(n){n===void 0&&(n={});var e=ij(null);return e.options=Jr({async:!0,ssr:!1},n),e}var O1=function(n){var e=n.sideCar,t=D1(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Jr({},t))};O1.isSideCarExport=!0;function aj(n,e){return n.useMedium(e),O1}var j1=oj(),kp=function(){},Th=S.forwardRef(function(n,e){var t=S.useRef(null),r=S.useState({onScrollCapture:kp,onWheelCapture:kp,onTouchMoveCapture:kp}),o=r[0],a=r[1],c=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,w=n.enabled,y=n.shards,E=n.sideCar,b=n.noRelative,D=n.noIsolation,I=n.inert,R=n.allowPinchZoom,j=n.as,L=j===void 0?"div":j,z=n.gapMode,Q=D1(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),X=E,J=rj([t,e]),k=Jr(Jr({},Q),o);return S.createElement(S.Fragment,null,w&&S.createElement(X,{sideCar:j1,removeScrollBar:m,shards:y,noRelative:b,noIsolation:D,inert:I,setCallbacks:a,allowPinchZoom:!!R,lockRef:t,gapMode:z}),c?S.cloneElement(S.Children.only(h),Jr(Jr({},k),{ref:J})):S.createElement(L,Jr({},k,{className:f,ref:J}),h))});Th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Th.classNames={fullWidth:Ed,zeroRight:xd};var lj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function cj(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=lj();return e&&n.setAttribute("nonce",e),n}function uj(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function dj(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var hj=function(){var n=0,e=null;return{add:function(t){n==0&&(e=cj())&&(uj(e,t),dj(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},fj=function(){var n=hj();return function(e,t){S.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},M1=function(){var n=fj(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},pj={left:0,top:0,right:0,gap:0},Np=function(n){return parseInt(n||"",10)||0},mj=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Np(t),Np(r),Np(o)]},gj=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return pj;var e=mj(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},yj=M1(),Pa="data-scroll-locked",vj=function(n,e,t,r){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(ZO,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xd,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(xd," .").concat(xd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Pa,`] {
    `).concat(ej,": ").concat(h,`px;
  }
`)},n0=function(){var n=parseInt(document.body.getAttribute(Pa)||"0",10);return isFinite(n)?n:0},_j=function(){S.useEffect(function(){return document.body.setAttribute(Pa,(n0()+1).toString()),function(){var n=n0()-1;n<=0?document.body.removeAttribute(Pa):document.body.setAttribute(Pa,n.toString())}},[])},wj=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;_j();var a=S.useMemo(function(){return gj(o)},[o]);return S.createElement(yj,{styles:vj(a,!e,o,t?"":"!important")})},mm=!1;if(typeof window<"u")try{var sd=Object.defineProperty({},"passive",{get:function(){return mm=!0,!0}});window.addEventListener("test",sd,sd),window.removeEventListener("test",sd,sd)}catch{mm=!1}var ya=mm?{passive:!1}:!1,xj=function(n){return n.tagName==="TEXTAREA"},V1=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!xj(n)&&t[e]==="visible")},Ej=function(n){return V1(n,"overflowY")},Tj=function(n){return V1(n,"overflowX")},r0=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=L1(n,r);if(o){var a=F1(n,r),c=a[1],h=a[2];if(c>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},Sj=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},Ij=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},L1=function(n,e){return n==="v"?Ej(e):Tj(e)},F1=function(n,e){return n==="v"?Sj(e):Ij(e)},bj=function(n,e){return n==="h"&&e==="rtl"?-1:1},Cj=function(n,e,t,r,o){var a=bj(n,window.getComputedStyle(e).direction),c=a*r,h=t.target,f=e.contains(h),m=!1,w=c>0,y=0,E=0;do{if(!h)break;var b=F1(n,h),D=b[0],I=b[1],R=b[2],j=I-R-a*D;(D||j)&&L1(n,h)&&(y+=j,E+=D);var L=h.parentNode;h=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(w&&Math.abs(y)<1||!w&&Math.abs(E)<1)&&(m=!0),m},id=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},s0=function(n){return[n.deltaX,n.deltaY]},i0=function(n){return n&&"current"in n?n.current:n},Aj=function(n,e){return n[0]===e[0]&&n[1]===e[1]},Rj=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},kj=0,va=[];function Nj(n){var e=S.useRef([]),t=S.useRef([0,0]),r=S.useRef(),o=S.useState(kj++)[0],a=S.useState(M1)[0],c=S.useRef(n);S.useEffect(function(){c.current=n},[n]),S.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var I=JO([n.lockRef.current],(n.shards||[]).map(i0),!0).filter(Boolean);return I.forEach(function(R){return R.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),I.forEach(function(R){return R.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=S.useCallback(function(I,R){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!c.current.allowPinchZoom;var j=id(I),L=t.current,z="deltaX"in I?I.deltaX:L[0]-j[0],Q="deltaY"in I?I.deltaY:L[1]-j[1],X,J=I.target,k=Math.abs(z)>Math.abs(Q)?"h":"v";if("touches"in I&&k==="h"&&J.type==="range")return!1;var C=r0(k,J);if(!C)return!0;if(C?X=k:(X=k==="v"?"h":"v",C=r0(k,J)),!C)return!1;if(!r.current&&"changedTouches"in I&&(z||Q)&&(r.current=X),!X)return!0;var P=r.current||X;return Cj(P,R,I,P==="h"?z:Q)},[]),f=S.useCallback(function(I){var R=I;if(!(!va.length||va[va.length-1]!==a)){var j="deltaY"in R?s0(R):id(R),L=e.current.filter(function(X){return X.name===R.type&&(X.target===R.target||R.target===X.shadowParent)&&Aj(X.delta,j)})[0];if(L&&L.should){R.cancelable&&R.preventDefault();return}if(!L){var z=(c.current.shards||[]).map(i0).filter(Boolean).filter(function(X){return X.contains(R.target)}),Q=z.length>0?h(R,z[0]):!c.current.noIsolation;Q&&R.cancelable&&R.preventDefault()}}},[]),m=S.useCallback(function(I,R,j,L){var z={name:I,delta:R,target:j,should:L,shadowParent:Pj(j)};e.current.push(z),setTimeout(function(){e.current=e.current.filter(function(Q){return Q!==z})},1)},[]),w=S.useCallback(function(I){t.current=id(I),r.current=void 0},[]),y=S.useCallback(function(I){m(I.type,s0(I),I.target,h(I,n.lockRef.current))},[]),E=S.useCallback(function(I){m(I.type,id(I),I.target,h(I,n.lockRef.current))},[]);S.useEffect(function(){return va.push(a),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:E}),document.addEventListener("wheel",f,ya),document.addEventListener("touchmove",f,ya),document.addEventListener("touchstart",w,ya),function(){va=va.filter(function(I){return I!==a}),document.removeEventListener("wheel",f,ya),document.removeEventListener("touchmove",f,ya),document.removeEventListener("touchstart",w,ya)}},[]);var b=n.removeScrollBar,D=n.inert;return S.createElement(S.Fragment,null,D?S.createElement(a,{styles:Rj(o)}):null,b?S.createElement(wj,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function Pj(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const Dj=aj(j1,Nj);var Sg=S.forwardRef(function(n,e){return S.createElement(Th,Jr({},n,{ref:e,sideCar:Dj}))});Sg.classNames=Th.classNames;var Oj=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},_a=new WeakMap,od=new WeakMap,ad={},Pp=0,U1=function(n){return n&&(n.host||U1(n.parentNode))},jj=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=U1(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},Mj=function(n,e,t,r){var o=jj(e,Array.isArray(n)?n:[n]);ad[t]||(ad[t]=new WeakMap);var a=ad[t],c=[],h=new Set,f=new Set(o),m=function(y){!y||h.has(y)||(h.add(y),m(y.parentNode))};o.forEach(m);var w=function(y){!y||f.has(y)||Array.prototype.forEach.call(y.children,function(E){if(h.has(E))w(E);else try{var b=E.getAttribute(r),D=b!==null&&b!=="false",I=(_a.get(E)||0)+1,R=(a.get(E)||0)+1;_a.set(E,I),a.set(E,R),c.push(E),I===1&&D&&od.set(E,!0),R===1&&E.setAttribute(t,"true"),D||E.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",E,j)}})};return w(e),h.clear(),Pp++,function(){c.forEach(function(y){var E=_a.get(y)-1,b=a.get(y)-1;_a.set(y,E),a.set(y,b),E||(od.has(y)||y.removeAttribute(r),od.delete(y)),b||y.removeAttribute(t)}),Pp--,Pp||(_a=new WeakMap,_a=new WeakMap,od=new WeakMap,ad={})}},z1=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=Oj(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),Mj(r,o,t,"aria-hidden")):function(){return null}};function Vj(n){const e=Lj(n),t=S.forwardRef((r,o)=>{const{children:a,...c}=r,h=S.Children.toArray(a),f=h.find(Uj);if(f){const m=f.props.children,w=h.map(y=>y===f?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...c,ref:o,children:S.isValidElement(m)?S.cloneElement(m,void 0,w):null})}return p.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function Lj(n){const e=S.forwardRef((t,r)=>{const{children:o,...a}=t;if(S.isValidElement(o)){const c=Bj(o),h=zj(a,o.props);return o.type!==S.Fragment&&(h.ref=r?nl(r,c):c),S.cloneElement(o,h)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Fj=Symbol("radix.slottable");function Uj(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Fj}function zj(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function Bj(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Sh="Dialog",[B1]=Oo(Sh),[$j,Rr]=B1(Sh),$1=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=S.useRef(null),f=S.useRef(null),[m,w]=$a({prop:r,defaultProp:o??!1,onChange:a,caller:Sh});return p.jsx($j,{scope:e,triggerRef:h,contentRef:f,contentId:Ii(),titleId:Ii(),descriptionId:Ii(),open:m,onOpenChange:w,onOpenToggle:S.useCallback(()=>w(y=>!y),[w]),modal:c,children:t})};$1.displayName=Sh;var H1="DialogTrigger",Hj=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Rr(H1,t),a=wt(e,o.triggerRef);return p.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Cg(o.open),...r,ref:a,onClick:Qe(n.onClick,o.onOpenToggle)})});Hj.displayName=H1;var Ig="DialogPortal",[Wj,W1]=B1(Ig,{forceMount:void 0}),q1=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,a=Rr(Ig,e);return p.jsx(Wj,{scope:e,forceMount:t,children:S.Children.map(r,c=>p.jsx(Lc,{present:t||a.open,children:p.jsx(Tg,{asChild:!0,container:o,children:c})}))})};q1.displayName=Ig;var Gd="DialogOverlay",G1=S.forwardRef((n,e)=>{const t=W1(Gd,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=Rr(Gd,n.__scopeDialog);return a.modal?p.jsx(Lc,{present:r||a.open,children:p.jsx(Gj,{...o,ref:e})}):null});G1.displayName=Gd;var qj=Vj("DialogOverlay.RemoveScroll"),Gj=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Rr(Gd,t);return p.jsx(Sg,{as:qj,allowPinchZoom:!0,shards:[o.contentRef],children:p.jsx(Xe.div,{"data-state":Cg(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Co="DialogContent",K1=S.forwardRef((n,e)=>{const t=W1(Co,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,a=Rr(Co,n.__scopeDialog);return p.jsx(Lc,{present:r||a.open,children:a.modal?p.jsx(Kj,{...o,ref:e}):p.jsx(Qj,{...o,ref:e})})});K1.displayName=Co;var Kj=S.forwardRef((n,e)=>{const t=Rr(Co,n.__scopeDialog),r=S.useRef(null),o=wt(e,t.contentRef,r);return S.useEffect(()=>{const a=r.current;if(a)return z1(a)},[]),p.jsx(Q1,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(n.onCloseAutoFocus,a=>{a.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:Qe(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:Qe(n.onFocusOutside,a=>a.preventDefault())})}),Qj=S.forwardRef((n,e)=>{const t=Rr(Co,n.__scopeDialog),r=S.useRef(!1),o=S.useRef(!1);return p.jsx(Q1,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{n.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||t.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{n.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;t.triggerRef.current?.contains(c)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Q1=S.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=Rr(Co,t),f=S.useRef(null),m=wt(e,f);return P1(),p.jsxs(p.Fragment,{children:[p.jsx(Eg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:p.jsx(xg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Cg(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(Yj,{titleId:h.titleId}),p.jsx(Jj,{contentRef:f,descriptionId:h.descriptionId})]})]})}),bg="DialogTitle",Y1=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Rr(bg,t);return p.jsx(Xe.h2,{id:o.titleId,...r,ref:e})});Y1.displayName=bg;var X1="DialogDescription",J1=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Rr(X1,t);return p.jsx(Xe.p,{id:o.descriptionId,...r,ref:e})});J1.displayName=X1;var Z1="DialogClose",eT=S.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Rr(Z1,t);return p.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Qe(n.onClick,()=>o.onOpenChange(!1))})});eT.displayName=Z1;function Cg(n){return n?"open":"closed"}var tT="DialogTitleWarning",[XL,nT]=vO(tT,{contentName:Co,titleName:bg,docsSlug:"dialog"}),Yj=({titleId:n})=>{const e=nT(tT),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Xj="DialogDescriptionWarning",Jj=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${nT(Xj).contentName}}.`;return S.useEffect(()=>{const o=n.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Zj=$1,eM=q1,tM=G1,nM=K1,rM=Y1,sM=J1,iM=eT;function rT({...n}){return p.jsx(Zj,{"data-slot":"dialog",...n})}function oM({...n}){return p.jsx(eM,{"data-slot":"dialog-portal",...n})}function aM({className:n,...e}){return p.jsx(tM,{"data-slot":"dialog-overlay",className:tt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n),...e})}function sT({className:n,children:e,...t}){return p.jsxs(oM,{"data-slot":"dialog-portal",children:[p.jsx(aM,{}),p.jsxs(nM,{"data-slot":"dialog-content",className:tt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...t,children:[e,p.jsxs(iM,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[p.jsx(hO,{}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function iT({className:n,...e}){return p.jsx("div",{"data-slot":"dialog-header",className:tt("flex flex-col gap-2 text-center sm:text-left",n),...e})}function oT({className:n,...e}){return p.jsx(rM,{"data-slot":"dialog-title",className:tt("text-lg leading-none font-semibold",n),...e})}function aT({className:n,...e}){return p.jsx(sM,{"data-slot":"dialog-description",className:tt("text-muted-foreground text-sm",n),...e})}function Cs({className:n,type:e,...t}){return p.jsx("input",{type:e,"data-slot":"input",className:tt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}var lM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cM=lM.reduce((n,e)=>{const t=xh(`Primitive.${e}`),r=S.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),uM="Label",lT=S.forwardRef((n,e)=>p.jsx(cM.label,{...n,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(n.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));lT.displayName=uM;var dM=lT;function _t({className:n,...e}){return p.jsx(dM,{"data-slot":"label",className:tt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...e})}function o0(n,[e,t]){return Math.min(t,Math.max(e,n))}function a0(n){const e=hM(n),t=S.forwardRef((r,o)=>{const{children:a,...c}=r,h=S.Children.toArray(a),f=h.find(pM);if(f){const m=f.props.children,w=h.map(y=>y===f?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...c,ref:o,children:S.isValidElement(m)?S.cloneElement(m,void 0,w):null})}return p.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function hM(n){const e=S.forwardRef((t,r)=>{const{children:o,...a}=t;if(S.isValidElement(o)){const c=gM(o),h=mM(a,o.props);return o.type!==S.Fragment&&(h.ref=r?nl(r,c):c),S.cloneElement(o,h)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var fM=Symbol("radix.slottable");function pM(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===fM}function mM(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function gM(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function cT(n){const e=n+"CollectionProvider",[t,r]=Oo(e),[o,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=I=>{const{scope:R,children:j}=I,L=de.useRef(null),z=de.useRef(new Map).current;return p.jsx(o,{scope:R,itemMap:z,collectionRef:L,children:j})};c.displayName=e;const h=n+"CollectionSlot",f=a0(h),m=de.forwardRef((I,R)=>{const{scope:j,children:L}=I,z=a(h,j),Q=wt(R,z.collectionRef);return p.jsx(f,{ref:Q,children:L})});m.displayName=h;const w=n+"CollectionItemSlot",y="data-radix-collection-item",E=a0(w),b=de.forwardRef((I,R)=>{const{scope:j,children:L,...z}=I,Q=de.useRef(null),X=wt(R,Q),J=a(w,j);return de.useEffect(()=>(J.itemMap.set(Q,{ref:Q,...z}),()=>void J.itemMap.delete(Q))),p.jsx(E,{[y]:"",ref:X,children:L})});b.displayName=w;function D(I){const R=a(n+"CollectionConsumer",I);return de.useCallback(()=>{const L=R.collectionRef.current;if(!L)return[];const z=Array.from(L.querySelectorAll(`[${y}]`));return Array.from(R.itemMap.values()).sort((J,k)=>z.indexOf(J.ref.current)-z.indexOf(k.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:c,Slot:m,ItemSlot:b},D,r]}var yM=S.createContext(void 0);function Ag(n){const e=S.useContext(yM);return n||e||"ltr"}const vM=["top","right","bottom","left"],Oi=Math.min,qn=Math.max,Kd=Math.round,ld=Math.floor,as=n=>({x:n,y:n}),_M={left:"right",right:"left",bottom:"top",top:"bottom"},wM={start:"end",end:"start"};function gm(n,e,t){return qn(n,Oi(e,t))}function Ms(n,e){return typeof n=="function"?n(e):n}function Vs(n){return n.split("-")[0]}function rl(n){return n.split("-")[1]}function Rg(n){return n==="x"?"y":"x"}function kg(n){return n==="y"?"height":"width"}const xM=new Set(["top","bottom"]);function Zr(n){return xM.has(Vs(n))?"y":"x"}function Ng(n){return Rg(Zr(n))}function EM(n,e,t){t===void 0&&(t=!1);const r=rl(n),o=Ng(n),a=kg(o);let c=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(c=Qd(c)),[c,Qd(c)]}function TM(n){const e=Qd(n);return[ym(n),e,ym(e)]}function ym(n){return n.replace(/start|end/g,e=>wM[e])}const l0=["left","right"],c0=["right","left"],SM=["top","bottom"],IM=["bottom","top"];function bM(n,e,t){switch(n){case"top":case"bottom":return t?e?c0:l0:e?l0:c0;case"left":case"right":return e?SM:IM;default:return[]}}function CM(n,e,t,r){const o=rl(n);let a=bM(Vs(n),t==="start",r);return o&&(a=a.map(c=>c+"-"+o),e&&(a=a.concat(a.map(ym)))),a}function Qd(n){return n.replace(/left|right|bottom|top/g,e=>_M[e])}function AM(n){return{top:0,right:0,bottom:0,left:0,...n}}function uT(n){return typeof n!="number"?AM(n):{top:n,right:n,bottom:n,left:n}}function Yd(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function u0(n,e,t){let{reference:r,floating:o}=n;const a=Zr(e),c=Ng(e),h=kg(c),f=Vs(e),m=a==="y",w=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,E=r[h]/2-o[h]/2;let b;switch(f){case"top":b={x:w,y:r.y-o.height};break;case"bottom":b={x:w,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y};break;case"left":b={x:r.x-o.width,y};break;default:b={x:r.x,y:r.y}}switch(rl(e)){case"start":b[c]-=E*(t&&m?-1:1);break;case"end":b[c]+=E*(t&&m?-1:1);break}return b}const RM=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:a=[],platform:c}=t,h=a.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:n,floating:e,strategy:o}),{x:w,y}=u0(m,r,f),E=r,b={},D=0;for(let I=0;I<h.length;I++){const{name:R,fn:j}=h[I],{x:L,y:z,data:Q,reset:X}=await j({x:w,y,initialPlacement:r,placement:E,strategy:o,middlewareData:b,rects:m,platform:c,elements:{reference:n,floating:e}});w=L??w,y=z??y,b={...b,[R]:{...b[R],...Q}},X&&D<=50&&(D++,typeof X=="object"&&(X.placement&&(E=X.placement),X.rects&&(m=X.rects===!0?await c.getElementRects({reference:n,floating:e,strategy:o}):X.rects),{x:w,y}=u0(m,E,f)),I=-1)}return{x:w,y,placement:E,strategy:o,middlewareData:b}};async function Tc(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:a,rects:c,elements:h,strategy:f}=n,{boundary:m="clippingAncestors",rootBoundary:w="viewport",elementContext:y="floating",altBoundary:E=!1,padding:b=0}=Ms(e,n),D=uT(b),R=h[E?y==="floating"?"reference":"floating":y],j=Yd(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(R)))==null||t?R:R.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(h.floating)),boundary:m,rootBoundary:w,strategy:f})),L=y==="floating"?{x:r,y:o,width:c.floating.width,height:c.floating.height}:c.reference,z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h.floating)),Q=await(a.isElement==null?void 0:a.isElement(z))?await(a.getScale==null?void 0:a.getScale(z))||{x:1,y:1}:{x:1,y:1},X=Yd(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:L,offsetParent:z,strategy:f}):L);return{top:(j.top-X.top+D.top)/Q.y,bottom:(X.bottom-j.bottom+D.bottom)/Q.y,left:(j.left-X.left+D.left)/Q.x,right:(X.right-j.right+D.right)/Q.x}}const kM=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:a,platform:c,elements:h,middlewareData:f}=e,{element:m,padding:w=0}=Ms(n,e)||{};if(m==null)return{};const y=uT(w),E={x:t,y:r},b=Ng(o),D=kg(b),I=await c.getDimensions(m),R=b==="y",j=R?"top":"left",L=R?"bottom":"right",z=R?"clientHeight":"clientWidth",Q=a.reference[D]+a.reference[b]-E[b]-a.floating[D],X=E[b]-a.reference[b],J=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let k=J?J[z]:0;(!k||!await(c.isElement==null?void 0:c.isElement(J)))&&(k=h.floating[z]||a.floating[D]);const C=Q/2-X/2,P=k/2-I[D]/2-1,V=Oi(y[j],P),M=Oi(y[L],P),U=V,N=k-I[D]-M,ve=k/2-I[D]/2+C,Ae=gm(U,ve,N),ae=!f.arrow&&rl(o)!=null&&ve!==Ae&&a.reference[D]/2-(ve<U?V:M)-I[D]/2<0,me=ae?ve<U?ve-U:ve-N:0;return{[b]:E[b]+me,data:{[b]:Ae,centerOffset:ve-Ae-me,...ae&&{alignmentOffset:me}},reset:ae}}}),NM=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:a,rects:c,initialPlacement:h,platform:f,elements:m}=e,{mainAxis:w=!0,crossAxis:y=!0,fallbackPlacements:E,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:D="none",flipAlignment:I=!0,...R}=Ms(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const j=Vs(o),L=Zr(h),z=Vs(h)===h,Q=await(f.isRTL==null?void 0:f.isRTL(m.floating)),X=E||(z||!I?[Qd(h)]:TM(h)),J=D!=="none";!E&&J&&X.push(...CM(h,I,D,Q));const k=[h,...X],C=await Tc(e,R),P=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(w&&P.push(C[j]),y){const ve=EM(o,c,Q);P.push(C[ve[0]],C[ve[1]])}if(V=[...V,{placement:o,overflows:P}],!P.every(ve=>ve<=0)){var M,U;const ve=(((M=a.flip)==null?void 0:M.index)||0)+1,Ae=k[ve];if(Ae&&(!(y==="alignment"?L!==Zr(Ae):!1)||V.every(H=>Zr(H.placement)===L?H.overflows[0]>0:!0)))return{data:{index:ve,overflows:V},reset:{placement:Ae}};let ae=(U=V.filter(me=>me.overflows[0]<=0).sort((me,H)=>me.overflows[1]-H.overflows[1])[0])==null?void 0:U.placement;if(!ae)switch(b){case"bestFit":{var N;const me=(N=V.filter(H=>{if(J){const ce=Zr(H.placement);return ce===L||ce==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ce=>ce>0).reduce((ce,oe)=>ce+oe,0)]).sort((H,ce)=>H[1]-ce[1])[0])==null?void 0:N[0];me&&(ae=me);break}case"initialPlacement":ae=h;break}if(o!==ae)return{reset:{placement:ae}}}return{}}}};function d0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function h0(n){return vM.some(e=>n[e]>=0)}const PM=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Ms(n,e);switch(r){case"referenceHidden":{const a=await Tc(e,{...o,elementContext:"reference"}),c=d0(a,t.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:h0(c)}}}case"escaped":{const a=await Tc(e,{...o,altBoundary:!0}),c=d0(a,t.floating);return{data:{escapedOffsets:c,escaped:h0(c)}}}default:return{}}}}},dT=new Set(["left","top"]);async function DM(n,e){const{placement:t,platform:r,elements:o}=n,a=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=Vs(t),h=rl(t),f=Zr(t)==="y",m=dT.has(c)?-1:1,w=a&&f?-1:1,y=Ms(e,n);let{mainAxis:E,crossAxis:b,alignmentAxis:D}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof D=="number"&&(b=h==="end"?D*-1:D),f?{x:b*w,y:E*m}:{x:E*m,y:b*w}}const OM=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:a,placement:c,middlewareData:h}=e,f=await DM(e,n);return c===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:a+f.y,data:{...f,placement:c}}}}},jM=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:a=!0,crossAxis:c=!1,limiter:h={fn:R=>{let{x:j,y:L}=R;return{x:j,y:L}}},...f}=Ms(n,e),m={x:t,y:r},w=await Tc(e,f),y=Zr(Vs(o)),E=Rg(y);let b=m[E],D=m[y];if(a){const R=E==="y"?"top":"left",j=E==="y"?"bottom":"right",L=b+w[R],z=b-w[j];b=gm(L,b,z)}if(c){const R=y==="y"?"top":"left",j=y==="y"?"bottom":"right",L=D+w[R],z=D-w[j];D=gm(L,D,z)}const I=h.fn({...e,[E]:b,[y]:D});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[E]:a,[y]:c}}}}}},MM=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:a,middlewareData:c}=e,{offset:h=0,mainAxis:f=!0,crossAxis:m=!0}=Ms(n,e),w={x:t,y:r},y=Zr(o),E=Rg(y);let b=w[E],D=w[y];const I=Ms(h,e),R=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const z=E==="y"?"height":"width",Q=a.reference[E]-a.floating[z]+R.mainAxis,X=a.reference[E]+a.reference[z]-R.mainAxis;b<Q?b=Q:b>X&&(b=X)}if(m){var j,L;const z=E==="y"?"width":"height",Q=dT.has(Vs(o)),X=a.reference[y]-a.floating[z]+(Q&&((j=c.offset)==null?void 0:j[y])||0)+(Q?0:R.crossAxis),J=a.reference[y]+a.reference[z]+(Q?0:((L=c.offset)==null?void 0:L[y])||0)-(Q?R.crossAxis:0);D<X?D=X:D>J&&(D=J)}return{[E]:b,[y]:D}}}},VM=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:a,platform:c,elements:h}=e,{apply:f=()=>{},...m}=Ms(n,e),w=await Tc(e,m),y=Vs(o),E=rl(o),b=Zr(o)==="y",{width:D,height:I}=a.floating;let R,j;y==="top"||y==="bottom"?(R=y,j=E===(await(c.isRTL==null?void 0:c.isRTL(h.floating))?"start":"end")?"left":"right"):(j=y,R=E==="end"?"top":"bottom");const L=I-w.top-w.bottom,z=D-w.left-w.right,Q=Oi(I-w[R],L),X=Oi(D-w[j],z),J=!e.middlewareData.shift;let k=Q,C=X;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(C=z),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=L),J&&!E){const V=qn(w.left,0),M=qn(w.right,0),U=qn(w.top,0),N=qn(w.bottom,0);b?C=D-2*(V!==0||M!==0?V+M:qn(w.left,w.right)):k=I-2*(U!==0||N!==0?U+N:qn(w.top,w.bottom))}await f({...e,availableWidth:C,availableHeight:k});const P=await c.getDimensions(h.floating);return D!==P.width||I!==P.height?{reset:{rects:!0}}:{}}}};function Ih(){return typeof window<"u"}function sl(n){return hT(n)?(n.nodeName||"").toLowerCase():"#document"}function Kn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function us(n){var e;return(e=(hT(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hT(n){return Ih()?n instanceof Node||n instanceof Kn(n).Node:!1}function Cr(n){return Ih()?n instanceof Element||n instanceof Kn(n).Element:!1}function cs(n){return Ih()?n instanceof HTMLElement||n instanceof Kn(n).HTMLElement:!1}function f0(n){return!Ih()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kn(n).ShadowRoot}const LM=new Set(["inline","contents"]);function Fc(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Ar(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!LM.has(o)}const FM=new Set(["table","td","th"]);function UM(n){return FM.has(sl(n))}const zM=[":popover-open",":modal"];function bh(n){return zM.some(e=>{try{return n.matches(e)}catch{return!1}})}const BM=["transform","translate","scale","rotate","perspective"],$M=["transform","translate","scale","rotate","perspective","filter"],HM=["paint","layout","strict","content"];function Pg(n){const e=Dg(),t=Cr(n)?Ar(n):n;return BM.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||$M.some(r=>(t.willChange||"").includes(r))||HM.some(r=>(t.contain||"").includes(r))}function WM(n){let e=ji(n);for(;cs(e)&&!Ha(e);){if(Pg(e))return e;if(bh(e))return null;e=ji(e)}return null}function Dg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qM=new Set(["html","body","#document"]);function Ha(n){return qM.has(sl(n))}function Ar(n){return Kn(n).getComputedStyle(n)}function Ch(n){return Cr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ji(n){if(sl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||f0(n)&&n.host||us(n);return f0(e)?e.host:e}function fT(n){const e=ji(n);return Ha(e)?n.ownerDocument?n.ownerDocument.body:n.body:cs(e)&&Fc(e)?e:fT(e)}function Sc(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=fT(n),a=o===((r=n.ownerDocument)==null?void 0:r.body),c=Kn(o);if(a){const h=vm(c);return e.concat(c,c.visualViewport||[],Fc(o)?o:[],h&&t?Sc(h):[])}return e.concat(o,Sc(o,[],t))}function vm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function pT(n){const e=Ar(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=cs(n),a=o?n.offsetWidth:t,c=o?n.offsetHeight:r,h=Kd(t)!==a||Kd(r)!==c;return h&&(t=a,r=c),{width:t,height:r,$:h}}function Og(n){return Cr(n)?n:n.contextElement}function Da(n){const e=Og(n);if(!cs(e))return as(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:a}=pT(e);let c=(a?Kd(t.width):t.width)/r,h=(a?Kd(t.height):t.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!h||!Number.isFinite(h))&&(h=1),{x:c,y:h}}const GM=as(0);function mT(n){const e=Kn(n);return!Dg()||!e.visualViewport?GM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KM(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kn(n)?!1:e}function Ao(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),a=Og(n);let c=as(1);e&&(r?Cr(r)&&(c=Da(r)):c=Da(n));const h=KM(a,t,r)?mT(a):as(0);let f=(o.left+h.x)/c.x,m=(o.top+h.y)/c.y,w=o.width/c.x,y=o.height/c.y;if(a){const E=Kn(a),b=r&&Cr(r)?Kn(r):r;let D=E,I=vm(D);for(;I&&r&&b!==D;){const R=Da(I),j=I.getBoundingClientRect(),L=Ar(I),z=j.left+(I.clientLeft+parseFloat(L.paddingLeft))*R.x,Q=j.top+(I.clientTop+parseFloat(L.paddingTop))*R.y;f*=R.x,m*=R.y,w*=R.x,y*=R.y,f+=z,m+=Q,D=Kn(I),I=vm(D)}}return Yd({width:w,height:y,x:f,y:m})}function Ah(n,e){const t=Ch(n).scrollLeft;return e?e.left+t:Ao(us(n)).left+t}function gT(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-Ah(n,t),o=t.top+e.scrollTop;return{x:r,y:o}}function QM(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const a=o==="fixed",c=us(r),h=e?bh(e.floating):!1;if(r===c||h&&a)return t;let f={scrollLeft:0,scrollTop:0},m=as(1);const w=as(0),y=cs(r);if((y||!y&&!a)&&((sl(r)!=="body"||Fc(c))&&(f=Ch(r)),cs(r))){const b=Ao(r);m=Da(r),w.x=b.x+r.clientLeft,w.y=b.y+r.clientTop}const E=c&&!y&&!a?gT(c,f):as(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-f.scrollLeft*m.x+w.x+E.x,y:t.y*m.y-f.scrollTop*m.y+w.y+E.y}}function YM(n){return Array.from(n.getClientRects())}function XM(n){const e=us(n),t=Ch(n),r=n.ownerDocument.body,o=qn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=qn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let c=-t.scrollLeft+Ah(n);const h=-t.scrollTop;return Ar(r).direction==="rtl"&&(c+=qn(e.clientWidth,r.clientWidth)-o),{width:o,height:a,x:c,y:h}}const p0=25;function JM(n,e){const t=Kn(n),r=us(n),o=t.visualViewport;let a=r.clientWidth,c=r.clientHeight,h=0,f=0;if(o){a=o.width,c=o.height;const w=Dg();(!w||w&&e==="fixed")&&(h=o.offsetLeft,f=o.offsetTop)}const m=Ah(r);if(m<=0){const w=r.ownerDocument,y=w.body,E=getComputedStyle(y),b=w.compatMode==="CSS1Compat"&&parseFloat(E.marginLeft)+parseFloat(E.marginRight)||0,D=Math.abs(r.clientWidth-y.clientWidth-b);D<=p0&&(a-=D)}else m<=p0&&(a+=m);return{width:a,height:c,x:h,y:f}}const ZM=new Set(["absolute","fixed"]);function eV(n,e){const t=Ao(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,a=cs(n)?Da(n):as(1),c=n.clientWidth*a.x,h=n.clientHeight*a.y,f=o*a.x,m=r*a.y;return{width:c,height:h,x:f,y:m}}function m0(n,e,t){let r;if(e==="viewport")r=JM(n,t);else if(e==="document")r=XM(us(n));else if(Cr(e))r=eV(e,t);else{const o=mT(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Yd(r)}function yT(n,e){const t=ji(n);return t===e||!Cr(t)||Ha(t)?!1:Ar(t).position==="fixed"||yT(t,e)}function tV(n,e){const t=e.get(n);if(t)return t;let r=Sc(n,[],!1).filter(h=>Cr(h)&&sl(h)!=="body"),o=null;const a=Ar(n).position==="fixed";let c=a?ji(n):n;for(;Cr(c)&&!Ha(c);){const h=Ar(c),f=Pg(c);!f&&h.position==="fixed"&&(o=null),(a?!f&&!o:!f&&h.position==="static"&&!!o&&ZM.has(o.position)||Fc(c)&&!f&&yT(n,c))?r=r.filter(w=>w!==c):o=h,c=ji(c)}return e.set(n,r),r}function nV(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const c=[...t==="clippingAncestors"?bh(e)?[]:tV(e,this._c):[].concat(t),r],h=c[0],f=c.reduce((m,w)=>{const y=m0(e,w,o);return m.top=qn(y.top,m.top),m.right=Oi(y.right,m.right),m.bottom=Oi(y.bottom,m.bottom),m.left=qn(y.left,m.left),m},m0(e,h,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function rV(n){const{width:e,height:t}=pT(n);return{width:e,height:t}}function sV(n,e,t){const r=cs(e),o=us(e),a=t==="fixed",c=Ao(n,!0,a,e);let h={scrollLeft:0,scrollTop:0};const f=as(0);function m(){f.x=Ah(o)}if(r||!r&&!a)if((sl(e)!=="body"||Fc(o))&&(h=Ch(e)),r){const b=Ao(e,!0,a,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else o&&m();a&&!r&&o&&m();const w=o&&!r&&!a?gT(o,h):as(0),y=c.left+h.scrollLeft-f.x-w.x,E=c.top+h.scrollTop-f.y-w.y;return{x:y,y:E,width:c.width,height:c.height}}function Dp(n){return Ar(n).position==="static"}function g0(n,e){if(!cs(n)||Ar(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return us(n)===t&&(t=t.ownerDocument.body),t}function vT(n,e){const t=Kn(n);if(bh(n))return t;if(!cs(n)){let o=ji(n);for(;o&&!Ha(o);){if(Cr(o)&&!Dp(o))return o;o=ji(o)}return t}let r=g0(n,e);for(;r&&UM(r)&&Dp(r);)r=g0(r,e);return r&&Ha(r)&&Dp(r)&&!Pg(r)?t:r||WM(n)||t}const iV=async function(n){const e=this.getOffsetParent||vT,t=this.getDimensions,r=await t(n.floating);return{reference:sV(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oV(n){return Ar(n).direction==="rtl"}const aV={convertOffsetParentRelativeRectToViewportRelativeRect:QM,getDocumentElement:us,getClippingRect:nV,getOffsetParent:vT,getElementRects:iV,getClientRects:YM,getDimensions:rV,getScale:Da,isElement:Cr,isRTL:oV};function _T(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function lV(n,e){let t=null,r;const o=us(n);function a(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function c(h,f){h===void 0&&(h=!1),f===void 0&&(f=1),a();const m=n.getBoundingClientRect(),{left:w,top:y,width:E,height:b}=m;if(h||e(),!E||!b)return;const D=ld(y),I=ld(o.clientWidth-(w+E)),R=ld(o.clientHeight-(y+b)),j=ld(w),z={rootMargin:-D+"px "+-I+"px "+-R+"px "+-j+"px",threshold:qn(0,Oi(1,f))||1};let Q=!0;function X(J){const k=J[0].intersectionRatio;if(k!==f){if(!Q)return c();k?c(!1,k):r=setTimeout(()=>{c(!1,1e-7)},1e3)}k===1&&!_T(m,n.getBoundingClientRect())&&c(),Q=!1}try{t=new IntersectionObserver(X,{...z,root:o.ownerDocument})}catch{t=new IntersectionObserver(X,z)}t.observe(n)}return c(!0),a}function cV(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,m=Og(n),w=o||a?[...m?Sc(m):[],...Sc(e)]:[];w.forEach(j=>{o&&j.addEventListener("scroll",t,{passive:!0}),a&&j.addEventListener("resize",t)});const y=m&&h?lV(m,t):null;let E=-1,b=null;c&&(b=new ResizeObserver(j=>{let[L]=j;L&&L.target===m&&b&&(b.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var z;(z=b)==null||z.observe(e)})),t()}),m&&!f&&b.observe(m),b.observe(e));let D,I=f?Ao(n):null;f&&R();function R(){const j=Ao(n);I&&!_T(I,j)&&t(),I=j,D=requestAnimationFrame(R)}return t(),()=>{var j;w.forEach(L=>{o&&L.removeEventListener("scroll",t),a&&L.removeEventListener("resize",t)}),y?.(),(j=b)==null||j.disconnect(),b=null,f&&cancelAnimationFrame(D)}}const uV=OM,dV=jM,hV=NM,fV=VM,pV=PM,y0=kM,mV=MM,gV=(n,e,t)=>{const r=new Map,o={platform:aV,...t},a={...o.platform,_c:r};return RM(n,e,{...o,platform:a})};var yV=typeof document<"u",vV=function(){},Td=yV?S.useLayoutEffect:vV;function Xd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Xd(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const a=o[r];if(!(a==="_owner"&&n.$$typeof)&&!Xd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function wT(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function v0(n,e){const t=wT(n);return Math.round(e*t)/t}function Op(n){const e=S.useRef(n);return Td(()=>{e.current=n}),e}function _V(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:a,floating:c}={},transform:h=!0,whileElementsMounted:f,open:m}=n,[w,y]=S.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[E,b]=S.useState(r);Xd(E,r)||b(r);const[D,I]=S.useState(null),[R,j]=S.useState(null),L=S.useCallback(H=>{H!==J.current&&(J.current=H,I(H))},[]),z=S.useCallback(H=>{H!==k.current&&(k.current=H,j(H))},[]),Q=a||D,X=c||R,J=S.useRef(null),k=S.useRef(null),C=S.useRef(w),P=f!=null,V=Op(f),M=Op(o),U=Op(m),N=S.useCallback(()=>{if(!J.current||!k.current)return;const H={placement:e,strategy:t,middleware:E};M.current&&(H.platform=M.current),gV(J.current,k.current,H).then(ce=>{const oe={...ce,isPositioned:U.current!==!1};ve.current&&!Xd(C.current,oe)&&(C.current=oe,Vc.flushSync(()=>{y(oe)}))})},[E,e,t,M,U]);Td(()=>{m===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[m]);const ve=S.useRef(!1);Td(()=>(ve.current=!0,()=>{ve.current=!1}),[]),Td(()=>{if(Q&&(J.current=Q),X&&(k.current=X),Q&&X){if(V.current)return V.current(Q,X,N);N()}},[Q,X,N,V,P]);const Ae=S.useMemo(()=>({reference:J,floating:k,setReference:L,setFloating:z}),[L,z]),ae=S.useMemo(()=>({reference:Q,floating:X}),[Q,X]),me=S.useMemo(()=>{const H={position:t,left:0,top:0};if(!ae.floating)return H;const ce=v0(ae.floating,w.x),oe=v0(ae.floating,w.y);return h?{...H,transform:"translate("+ce+"px, "+oe+"px)",...wT(ae.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:oe}},[t,h,ae.floating,w.x,w.y]);return S.useMemo(()=>({...w,update:N,refs:Ae,elements:ae,floatingStyles:me}),[w,N,Ae,ae,me])}const wV=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?y0({element:r.current,padding:o}).fn(t):{}:r?y0({element:r,padding:o}).fn(t):{}}}},xV=(n,e)=>({...uV(n),options:[n,e]}),EV=(n,e)=>({...dV(n),options:[n,e]}),TV=(n,e)=>({...mV(n),options:[n,e]}),SV=(n,e)=>({...hV(n),options:[n,e]}),IV=(n,e)=>({...fV(n),options:[n,e]}),bV=(n,e)=>({...pV(n),options:[n,e]}),CV=(n,e)=>({...wV(n),options:[n,e]});var AV="Arrow",xT=S.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...a}=n;return p.jsx(Xe.svg,{...a,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});xT.displayName=AV;var RV=xT;function ET(n){const[e,t]=S.useState(void 0);return Wt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let c,h;if("borderBoxSize"in a){const f=a.borderBoxSize,m=Array.isArray(f)?f[0]:f;c=m.inlineSize,h=m.blockSize}else c=n.offsetWidth,h=n.offsetHeight;t({width:c,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var jg="Popper",[TT,ST]=Oo(jg),[kV,IT]=TT(jg),bT=n=>{const{__scopePopper:e,children:t}=n,[r,o]=S.useState(null);return p.jsx(kV,{scope:e,anchor:r,onAnchorChange:o,children:t})};bT.displayName=jg;var CT="PopperAnchor",AT=S.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,a=IT(CT,t),c=S.useRef(null),h=wt(e,c),f=S.useRef(null);return S.useEffect(()=>{const m=f.current;f.current=r?.current||c.current,m!==f.current&&a.onAnchorChange(f.current)}),r?null:p.jsx(Xe.div,{...o,ref:h})});AT.displayName=CT;var Mg="PopperContent",[NV,PV]=TT(Mg),RT=S.forwardRef((n,e)=>{const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:a="center",alignOffset:c=0,arrowPadding:h=0,avoidCollisions:f=!0,collisionBoundary:m=[],collisionPadding:w=0,sticky:y="partial",hideWhenDetached:E=!1,updatePositionStrategy:b="optimized",onPlaced:D,...I}=n,R=IT(Mg,t),[j,L]=S.useState(null),z=wt(e,ne=>L(ne)),[Q,X]=S.useState(null),J=ET(Q),k=J?.width??0,C=J?.height??0,P=r+(a!=="center"?"-"+a:""),V=typeof w=="number"?w:{top:0,right:0,bottom:0,left:0,...w},M=Array.isArray(m)?m:[m],U=M.length>0,N={padding:V,boundary:M.filter(OV),altBoundary:U},{refs:ve,floatingStyles:Ae,placement:ae,isPositioned:me,middlewareData:H}=_V({strategy:"fixed",placement:P,whileElementsMounted:(...ne)=>cV(...ne,{animationFrame:b==="always"}),elements:{reference:R.anchor},middleware:[xV({mainAxis:o+C,alignmentAxis:c}),f&&EV({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?TV():void 0,...N}),f&&SV({...N}),IV({...N,apply:({elements:ne,rects:fe,availableWidth:Re,availableHeight:De})=>{const{width:ze,height:$e}=fe.reference,xt=ne.floating.style;xt.setProperty("--radix-popper-available-width",`${Re}px`),xt.setProperty("--radix-popper-available-height",`${De}px`),xt.setProperty("--radix-popper-anchor-width",`${ze}px`),xt.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),Q&&CV({element:Q,padding:h}),jV({arrowWidth:k,arrowHeight:C}),E&&bV({strategy:"referenceHidden",...N})]}),[ce,oe]=PT(ae),$=js(D);Wt(()=>{me&&$?.()},[me,$]);const Z=H.arrow?.x,ie=H.arrow?.y,he=H.arrow?.centerOffset!==0,[ge,be]=S.useState();return Wt(()=>{j&&be(window.getComputedStyle(j).zIndex)},[j]),p.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ae,transform:me?Ae.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:p.jsx(NV,{scope:t,placedSide:ce,onArrowChange:X,arrowX:Z,arrowY:ie,shouldHideArrow:he,children:p.jsx(Xe.div,{"data-side":ce,"data-align":oe,...I,ref:z,style:{...I.style,animation:me?void 0:"none"}})})})});RT.displayName=Mg;var kT="PopperArrow",DV={top:"bottom",right:"left",bottom:"top",left:"right"},NT=S.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,a=PV(kT,r),c=DV[a.placedSide];return p.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:p.jsx(RV,{...o,ref:t,style:{...o.style,display:"block"}})})});NT.displayName=kT;function OV(n){return n!==null}var jV=n=>({name:"transformOrigin",options:n,fn(e){const{placement:t,rects:r,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,h=c?0:n.arrowWidth,f=c?0:n.arrowHeight,[m,w]=PT(t),y={start:"0%",center:"50%",end:"100%"}[w],E=(o.arrow?.x??0)+h/2,b=(o.arrow?.y??0)+f/2;let D="",I="";return m==="bottom"?(D=c?y:`${E}px`,I=`${-f}px`):m==="top"?(D=c?y:`${E}px`,I=`${r.floating.height+f}px`):m==="right"?(D=`${-f}px`,I=c?y:`${b}px`):m==="left"&&(D=`${r.floating.width+f}px`,I=c?y:`${b}px`),{data:{x:D,y:I}}}});function PT(n){const[e,t="center"]=n.split("-");return[e,t]}var MV=bT,VV=AT,LV=RT,FV=NT;function UV(n){const e=zV(n),t=S.forwardRef((r,o)=>{const{children:a,...c}=r,h=S.Children.toArray(a),f=h.find($V);if(f){const m=f.props.children,w=h.map(y=>y===f?S.Children.count(m)>1?S.Children.only(null):S.isValidElement(m)?m.props.children:null:y);return p.jsx(e,{...c,ref:o,children:S.isValidElement(m)?S.cloneElement(m,void 0,w):null})}return p.jsx(e,{...c,ref:o,children:a})});return t.displayName=`${n}.Slot`,t}function zV(n){const e=S.forwardRef((t,r)=>{const{children:o,...a}=t;if(S.isValidElement(o)){const c=WV(o),h=HV(a,o.props);return o.type!==S.Fragment&&(h.ref=r?nl(r,c):c),S.cloneElement(o,h)}return S.Children.count(o)>1?S.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var BV=Symbol("radix.slottable");function $V(n){return S.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===BV}function HV(n,e){const t={...e};for(const r in e){const o=n[r],a=e[r];/^on[A-Z]/.test(r)?o&&a?t[r]=(...h)=>{const f=a(...h);return o(...h),f}:o&&(t[r]=o):r==="style"?t[r]={...o,...a}:r==="className"&&(t[r]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function WV(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function DT(n){const e=S.useRef({value:n,previous:n});return S.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var OT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qV="VisuallyHidden",GV=S.forwardRef((n,e)=>p.jsx(Xe.span,{...n,ref:e,style:{...OT,...n.style}}));GV.displayName=qV;var KV=[" ","Enter","ArrowUp","ArrowDown"],QV=[" ","Enter"],Ro="Select",[Rh,kh,YV]=cT(Ro),[il]=Oo(Ro,[YV,ST]),Nh=ST(),[XV,Ui]=il(Ro),[JV,ZV]=il(Ro),jT=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:a,value:c,defaultValue:h,onValueChange:f,dir:m,name:w,autoComplete:y,disabled:E,required:b,form:D}=n,I=Nh(e),[R,j]=S.useState(null),[L,z]=S.useState(null),[Q,X]=S.useState(!1),J=Ag(m),[k,C]=$a({prop:r,defaultProp:o??!1,onChange:a,caller:Ro}),[P,V]=$a({prop:c,defaultProp:h,onChange:f,caller:Ro}),M=S.useRef(null),U=R?D||!!R.closest("form"):!0,[N,ve]=S.useState(new Set),Ae=Array.from(N).map(ae=>ae.props.value).join(";");return p.jsx(MV,{...I,children:p.jsxs(XV,{required:b,scope:e,trigger:R,onTriggerChange:j,valueNode:L,onValueNodeChange:z,valueNodeHasChildren:Q,onValueNodeHasChildrenChange:X,contentId:Ii(),value:P,onValueChange:V,open:k,onOpenChange:C,dir:J,triggerPointerDownPosRef:M,disabled:E,children:[p.jsx(Rh.Provider,{scope:e,children:p.jsx(JV,{scope:n.__scopeSelect,onNativeOptionAdd:S.useCallback(ae=>{ve(me=>new Set(me).add(ae))},[]),onNativeOptionRemove:S.useCallback(ae=>{ve(me=>{const H=new Set(me);return H.delete(ae),H})},[]),children:t})}),U?p.jsxs(rS,{"aria-hidden":!0,required:b,tabIndex:-1,name:w,autoComplete:y,value:P,onChange:ae=>V(ae.target.value),disabled:E,form:D,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(N)]},Ae):null]})})};jT.displayName=Ro;var MT="SelectTrigger",VT=S.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,a=Nh(t),c=Ui(MT,t),h=c.disabled||r,f=wt(e,c.onTriggerChange),m=kh(t),w=S.useRef("touch"),[y,E,b]=iS(I=>{const R=m().filter(z=>!z.disabled),j=R.find(z=>z.value===c.value),L=oS(R,I,j);L!==void 0&&c.onValueChange(L.value)}),D=I=>{h||(c.onOpenChange(!0),b()),I&&(c.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return p.jsx(VV,{asChild:!0,...a,children:p.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":sS(c.value)?"":void 0,...o,ref:f,onClick:Qe(o.onClick,I=>{I.currentTarget.focus(),w.current!=="mouse"&&D(I)}),onPointerDown:Qe(o.onPointerDown,I=>{w.current=I.pointerType;const R=I.target;R.hasPointerCapture(I.pointerId)&&R.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(D(I),I.preventDefault())}),onKeyDown:Qe(o.onKeyDown,I=>{const R=y.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&E(I.key),!(R&&I.key===" ")&&KV.includes(I.key)&&(D(),I.preventDefault())})})})});VT.displayName=MT;var LT="SelectValue",FT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:a,placeholder:c="",...h}=n,f=Ui(LT,t),{onValueNodeHasChildrenChange:m}=f,w=a!==void 0,y=wt(e,f.onValueNodeChange);return Wt(()=>{m(w)},[m,w]),p.jsx(Xe.span,{...h,ref:y,style:{pointerEvents:"none"},children:sS(f.value)?p.jsx(p.Fragment,{children:c}):a})});FT.displayName=LT;var e4="SelectIcon",UT=S.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return p.jsx(Xe.span,{"aria-hidden":!0,...o,ref:e,children:r||""})});UT.displayName=e4;var t4="SelectPortal",zT=n=>p.jsx(Tg,{asChild:!0,...n});zT.displayName=t4;var ko="SelectContent",BT=S.forwardRef((n,e)=>{const t=Ui(ko,n.__scopeSelect),[r,o]=S.useState();if(Wt(()=>{o(new DocumentFragment)},[]),!t.open){const a=r;return a?Vc.createPortal(p.jsx($T,{scope:n.__scopeSelect,children:p.jsx(Rh.Slot,{scope:n.__scopeSelect,children:p.jsx("div",{children:n.children})})}),a):null}return p.jsx(HT,{...n,ref:e})});BT.displayName=ko;var xr=10,[$T,zi]=il(ko),n4="SelectContentImpl",r4=UV("SelectContent.RemoveScroll"),HT=S.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:a,onPointerDownOutside:c,side:h,sideOffset:f,align:m,alignOffset:w,arrowPadding:y,collisionBoundary:E,collisionPadding:b,sticky:D,hideWhenDetached:I,avoidCollisions:R,...j}=n,L=Ui(ko,t),[z,Q]=S.useState(null),[X,J]=S.useState(null),k=wt(e,ne=>Q(ne)),[C,P]=S.useState(null),[V,M]=S.useState(null),U=kh(t),[N,ve]=S.useState(!1),Ae=S.useRef(!1);S.useEffect(()=>{if(z)return z1(z)},[z]),P1();const ae=S.useCallback(ne=>{const[fe,...Re]=U().map($e=>$e.ref.current),[De]=Re.slice(-1),ze=document.activeElement;for(const $e of ne)if($e===ze||($e?.scrollIntoView({block:"nearest"}),$e===fe&&X&&(X.scrollTop=0),$e===De&&X&&(X.scrollTop=X.scrollHeight),$e?.focus(),document.activeElement!==ze))return},[U,X]),me=S.useCallback(()=>ae([C,z]),[ae,C,z]);S.useEffect(()=>{N&&me()},[N,me]);const{onOpenChange:H,triggerPointerDownPosRef:ce}=L;S.useEffect(()=>{if(z){let ne={x:0,y:0};const fe=De=>{ne={x:Math.abs(Math.round(De.pageX)-(ce.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ce.current?.y??0))}},Re=De=>{ne.x<=10&&ne.y<=10?De.preventDefault():z.contains(De.target)||H(!1),document.removeEventListener("pointermove",fe),ce.current=null};return ce.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Re,{capture:!0})}}},[z,H,ce]),S.useEffect(()=>{const ne=()=>H(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[H]);const[oe,$]=iS(ne=>{const fe=U().filter(ze=>!ze.disabled),Re=fe.find(ze=>ze.ref.current===document.activeElement),De=oS(fe,ne,Re);De&&setTimeout(()=>De.ref.current.focus())}),Z=S.useCallback((ne,fe,Re)=>{const De=!Ae.current&&!Re;(L.value!==void 0&&L.value===fe||De)&&(P(ne),De&&(Ae.current=!0))},[L.value]),ie=S.useCallback(()=>z?.focus(),[z]),he=S.useCallback((ne,fe,Re)=>{const De=!Ae.current&&!Re;(L.value!==void 0&&L.value===fe||De)&&M(ne)},[L.value]),ge=r==="popper"?_m:WT,be=ge===_m?{side:h,sideOffset:f,align:m,alignOffset:w,arrowPadding:y,collisionBoundary:E,collisionPadding:b,sticky:D,hideWhenDetached:I,avoidCollisions:R}:{};return p.jsx($T,{scope:t,content:z,viewport:X,onViewportChange:J,itemRefCallback:Z,selectedItem:C,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:me,selectedItemText:V,position:r,isPositioned:N,searchRef:oe,children:p.jsx(Sg,{as:r4,allowPinchZoom:!0,children:p.jsx(Eg,{asChild:!0,trapped:L.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Qe(o,ne=>{L.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:p.jsx(xg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>L.onOpenChange(!1),children:p.jsx(ge,{role:"listbox",id:L.contentId,"data-state":L.open?"open":"closed",dir:L.dir,onContextMenu:ne=>ne.preventDefault(),...j,...be,onPlaced:()=>ve(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Qe(j.onKeyDown,ne=>{const fe=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!fe&&ne.key.length===1&&$(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let De=U().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ze=ne.target,$e=De.indexOf(ze);De=De.slice($e+1)}setTimeout(()=>ae(De)),ne.preventDefault()}})})})})})})});HT.displayName=n4;var s4="SelectItemAlignedPosition",WT=S.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,a=Ui(ko,t),c=zi(ko,t),[h,f]=S.useState(null),[m,w]=S.useState(null),y=wt(e,k=>w(k)),E=kh(t),b=S.useRef(!1),D=S.useRef(!0),{viewport:I,selectedItem:R,selectedItemText:j,focusSelectedItem:L}=c,z=S.useCallback(()=>{if(a.trigger&&a.valueNode&&h&&m&&I&&R&&j){const k=a.trigger.getBoundingClientRect(),C=m.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),V=j.getBoundingClientRect();if(a.dir!=="rtl"){const ze=V.left-C.left,$e=P.left-ze,xt=k.left-$e,qt=k.width+xt,kr=Math.max(qt,C.width),On=window.innerWidth-xr,en=o0($e,[xr,Math.max(xr,On-kr)]);h.style.minWidth=qt+"px",h.style.left=en+"px"}else{const ze=C.right-V.right,$e=window.innerWidth-P.right-ze,xt=window.innerWidth-k.right-$e,qt=k.width+xt,kr=Math.max(qt,C.width),On=window.innerWidth-xr,en=o0($e,[xr,Math.max(xr,On-kr)]);h.style.minWidth=qt+"px",h.style.right=en+"px"}const M=E(),U=window.innerHeight-xr*2,N=I.scrollHeight,ve=window.getComputedStyle(m),Ae=parseInt(ve.borderTopWidth,10),ae=parseInt(ve.paddingTop,10),me=parseInt(ve.borderBottomWidth,10),H=parseInt(ve.paddingBottom,10),ce=Ae+ae+N+H+me,oe=Math.min(R.offsetHeight*5,ce),$=window.getComputedStyle(I),Z=parseInt($.paddingTop,10),ie=parseInt($.paddingBottom,10),he=k.top+k.height/2-xr,ge=U-he,be=R.offsetHeight/2,ne=R.offsetTop+be,fe=Ae+ae+ne,Re=ce-fe;if(fe<=he){const ze=M.length>0&&R===M[M.length-1].ref.current;h.style.bottom="0px";const $e=m.clientHeight-I.offsetTop-I.offsetHeight,xt=Math.max(ge,be+(ze?ie:0)+$e+me),qt=fe+xt;h.style.height=qt+"px"}else{const ze=M.length>0&&R===M[0].ref.current;h.style.top="0px";const xt=Math.max(he,Ae+I.offsetTop+(ze?Z:0)+be)+Re;h.style.height=xt+"px",I.scrollTop=fe-he+I.offsetTop}h.style.margin=`${xr}px 0`,h.style.minHeight=oe+"px",h.style.maxHeight=U+"px",r?.(),requestAnimationFrame(()=>b.current=!0)}},[E,a.trigger,a.valueNode,h,m,I,R,j,a.dir,r]);Wt(()=>z(),[z]);const[Q,X]=S.useState();Wt(()=>{m&&X(window.getComputedStyle(m).zIndex)},[m]);const J=S.useCallback(k=>{k&&D.current===!0&&(z(),L?.(),D.current=!1)},[z,L]);return p.jsx(o4,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:b,onScrollButtonChange:J,children:p.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:Q},children:p.jsx(Xe.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});WT.displayName=s4;var i4="SelectPopperPosition",_m=S.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=xr,...a}=n,c=Nh(t);return p.jsx(LV,{...c,...a,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_m.displayName=i4;var[o4,Vg]=il(ko,{}),wm="SelectViewport",qT=S.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,a=zi(wm,t),c=Vg(wm,t),h=wt(e,a.onViewportChange),f=S.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Rh.Slot,{scope:t,children:p.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Qe(o.onScroll,m=>{const w=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:E}=c;if(E?.current&&y){const b=Math.abs(f.current-w.scrollTop);if(b>0){const D=window.innerHeight-xr*2,I=parseFloat(y.style.minHeight),R=parseFloat(y.style.height),j=Math.max(I,R);if(j<D){const L=j+b,z=Math.min(D,L),Q=L-z;y.style.height=z+"px",y.style.bottom==="0px"&&(w.scrollTop=Q>0?Q:0,y.style.justifyContent="flex-end")}}}f.current=w.scrollTop})})})]})});qT.displayName=wm;var GT="SelectGroup",[a4,l4]=il(GT),c4=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Ii();return p.jsx(a4,{scope:t,id:o,children:p.jsx(Xe.div,{role:"group","aria-labelledby":o,...r,ref:e})})});c4.displayName=GT;var KT="SelectLabel",u4=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=l4(KT,t);return p.jsx(Xe.div,{id:o.id,...r,ref:e})});u4.displayName=KT;var Jd="SelectItem",[d4,QT]=il(Jd),YT=S.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:a,...c}=n,h=Ui(Jd,t),f=zi(Jd,t),m=h.value===r,[w,y]=S.useState(a??""),[E,b]=S.useState(!1),D=wt(e,L=>f.itemRefCallback?.(L,r,o)),I=Ii(),R=S.useRef("touch"),j=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(d4,{scope:t,value:r,disabled:o,textId:I,isSelected:m,onItemTextChange:S.useCallback(L=>{y(z=>z||(L?.textContent??"").trim())},[]),children:p.jsx(Rh.ItemSlot,{scope:t,value:r,disabled:o,textValue:w,children:p.jsx(Xe.div,{role:"option","aria-labelledby":I,"data-highlighted":E?"":void 0,"aria-selected":m&&E,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:D,onFocus:Qe(c.onFocus,()=>b(!0)),onBlur:Qe(c.onBlur,()=>b(!1)),onClick:Qe(c.onClick,()=>{R.current!=="mouse"&&j()}),onPointerUp:Qe(c.onPointerUp,()=>{R.current==="mouse"&&j()}),onPointerDown:Qe(c.onPointerDown,L=>{R.current=L.pointerType}),onPointerMove:Qe(c.onPointerMove,L=>{R.current=L.pointerType,o?f.onItemLeave?.():R.current==="mouse"&&L.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(c.onPointerLeave,L=>{L.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Qe(c.onKeyDown,L=>{f.searchRef?.current!==""&&L.key===" "||(QV.includes(L.key)&&j(),L.key===" "&&L.preventDefault())})})})})});YT.displayName=Jd;var rc="SelectItemText",XT=S.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...a}=n,c=Ui(rc,t),h=zi(rc,t),f=QT(rc,t),m=ZV(rc,t),[w,y]=S.useState(null),E=wt(e,j=>y(j),f.onItemTextChange,j=>h.itemTextRefCallback?.(j,f.value,f.disabled)),b=w?.textContent,D=S.useMemo(()=>p.jsx("option",{value:f.value,disabled:f.disabled,children:b},f.value),[f.disabled,f.value,b]),{onNativeOptionAdd:I,onNativeOptionRemove:R}=m;return Wt(()=>(I(D),()=>R(D)),[I,R,D]),p.jsxs(p.Fragment,{children:[p.jsx(Xe.span,{id:f.textId,...a,ref:E}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Vc.createPortal(a.children,c.valueNode):null]})});XT.displayName=rc;var JT="SelectItemIndicator",ZT=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return QT(JT,t).isSelected?p.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});ZT.displayName=JT;var xm="SelectScrollUpButton",eS=S.forwardRef((n,e)=>{const t=zi(xm,n.__scopeSelect),r=Vg(xm,n.__scopeSelect),[o,a]=S.useState(!1),c=wt(e,r.onScrollButtonChange);return Wt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollTop>0;a(m)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?p.jsx(nS,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop-f.offsetHeight)}}):null});eS.displayName=xm;var Em="SelectScrollDownButton",tS=S.forwardRef((n,e)=>{const t=zi(Em,n.__scopeSelect),r=Vg(Em,n.__scopeSelect),[o,a]=S.useState(!1),c=wt(e,r.onScrollButtonChange);return Wt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=f.scrollHeight-f.clientHeight,w=Math.ceil(f.scrollTop)<m;a(w)};const f=t.viewport;return h(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?p.jsx(nS,{...n,ref:c,onAutoScroll:()=>{const{viewport:h,selectedItem:f}=t;h&&f&&(h.scrollTop=h.scrollTop+f.offsetHeight)}}):null});tS.displayName=Em;var nS=S.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,a=zi("SelectScrollButton",t),c=S.useRef(null),h=kh(t),f=S.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return S.useEffect(()=>()=>f(),[f]),Wt(()=>{h().find(w=>w.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),p.jsx(Xe.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Qe(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:Qe(o.onPointerMove,()=>{a.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:Qe(o.onPointerLeave,()=>{f()})})}),h4="SelectSeparator",f4=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return p.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});f4.displayName=h4;var Tm="SelectArrow",p4=S.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=Nh(t),a=Ui(Tm,t),c=zi(Tm,t);return a.open&&c.position==="popper"?p.jsx(FV,{...o,...r,ref:e}):null});p4.displayName=Tm;var m4="SelectBubbleInput",rS=S.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=S.useRef(null),a=wt(r,o),c=DT(e);return S.useEffect(()=>{const h=o.current;if(!h)return;const f=window.HTMLSelectElement.prototype,w=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&w){const y=new Event("change",{bubbles:!0});w.call(h,e),h.dispatchEvent(y)}},[c,e]),p.jsx(Xe.select,{...t,style:{...OT,...t.style},ref:a,defaultValue:e})});rS.displayName=m4;function sS(n){return n===""||n===void 0}function iS(n){const e=js(n),t=S.useRef(""),r=S.useRef(0),o=S.useCallback(c=>{const h=t.current+c;e(h),(function f(m){t.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>f(""),1e3))})(h)},[e]),a=S.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,a]}function oS(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let c=g4(n,Math.max(a,0));o.length===1&&(c=c.filter(m=>m!==t));const f=c.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==t?f:void 0}function g4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var y4=jT,v4=VT,_4=FT,w4=UT,x4=zT,E4=BT,T4=qT,S4=YT,I4=XT,b4=ZT,C4=eS,A4=tS;function aS({...n}){return p.jsx(y4,{"data-slot":"select",...n})}function lS({...n}){return p.jsx(_4,{"data-slot":"select-value",...n})}function cS({className:n,size:e="default",children:t,...r}){return p.jsxs(v4,{"data-slot":"select-trigger","data-size":e,className:tt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...r,children:[t,p.jsx(w4,{asChild:!0,children:p.jsx(S1,{className:"size-4 opacity-50"})})]})}function uS({className:n,children:e,position:t="popper",...r}){return p.jsx(x4,{children:p.jsxs(E4,{"data-slot":"select-content",className:tt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[p.jsx(R4,{}),p.jsx(T4,{className:tt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),p.jsx(k4,{})]})})}function sc({className:n,children:e,...t}){return p.jsxs(S4,{"data-slot":"select-item",className:tt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(b4,{children:p.jsx(RD,{className:"size-4"})})}),p.jsx(I4,{children:e})]})}function R4({className:n,...e}){return p.jsx(C4,{"data-slot":"select-scroll-up-button",className:tt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(jD,{className:"size-4"})})}function k4({className:n,...e}){return p.jsx(A4,{"data-slot":"select-scroll-down-button",className:tt("flex cursor-default items-center justify-center py-1",n),...e,children:p.jsx(S1,{className:"size-4"})})}function dS({className:n,...e}){return p.jsx("textarea",{"data-slot":"textarea",className:tt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function N4(n){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}const P4=n=>{switch(n){case"success":return j4;case"info":return V4;case"warning":return M4;case"error":return L4;default:return null}},D4=Array(12).fill(0),O4=({visible:n,className:e})=>de.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},de.createElement("div",{className:"sonner-spinner"},D4.map((t,r)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),M4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F4=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U4=()=>{const[n,e]=de.useState(document.hidden);return de.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n};let Sm=1;class z4{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...o}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Sm++,c=this.toasts.find(f=>f.id===a),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),c?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:h,title:r}):f):this.addToast({title:r,...o,dismissible:h,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,c;const h=o.then(async m=>{if(c=["resolve",m],de.isValidElement(m))a=!1,this.create({id:r,type:"default",message:m});else if($4(m)&&!m.ok){a=!1;const y=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,E=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,D=typeof y=="object"&&!de.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:E,...D})}else if(m instanceof Error){a=!1;const y=typeof t.error=="function"?await t.error(m):t.error,E=typeof t.description=="function"?await t.description(m):t.description,D=typeof y=="object"&&!de.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:E,...D})}else if(t.success!==void 0){a=!1;const y=typeof t.success=="function"?await t.success(m):t.success,E=typeof t.description=="function"?await t.description(m):t.description,D=typeof y=="object"&&!de.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:E,...D})}}).catch(async m=>{if(c=["reject",m],t.error!==void 0){a=!1;const w=typeof t.error=="function"?await t.error(m):t.error,y=typeof t.description=="function"?await t.description(m):t.description,b=typeof w=="object"&&!de.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:y,...b})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),f=()=>new Promise((m,w)=>h.then(()=>c[0]==="reject"?w(c[1]):m(c[1])).catch(w));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,t)=>{const r=t?.id||Sm++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nn=new z4,B4=(n,e)=>{const t=e?.id||Sm++;return Nn.addToast({title:n,...e,id:t}),t},$4=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",H4=B4,W4=()=>Nn.toasts,q4=()=>Nn.getActiveToasts(),yo=Object.assign(H4,{success:Nn.success,info:Nn.info,warning:Nn.warning,error:Nn.error,custom:Nn.custom,message:Nn.message,promise:Nn.promise,dismiss:Nn.dismiss,loading:Nn.loading},{getHistory:W4,getToasts:q4});N4("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function cd(n){return n.label!==void 0}const G4=3,K4="24px",Q4="16px",_0=4e3,Y4=356,X4=14,J4=45,Z4=200;function Yr(...n){return n.filter(Boolean).join(" ")}function eL(n){const[e,t]=n.split("-"),r=[];return e&&r.push(e),t&&r.push(t),r}const tL=n=>{var e,t,r,o,a,c,h,f,m;const{invert:w,toast:y,unstyled:E,interacting:b,setHeights:D,visibleToasts:I,heights:R,index:j,toasts:L,expanded:z,removeToast:Q,defaultRichColors:X,closeButton:J,style:k,cancelButtonStyle:C,actionButtonStyle:P,className:V="",descriptionClassName:M="",duration:U,position:N,gap:ve,expandByDefault:Ae,classNames:ae,icons:me,closeButtonAriaLabel:H="Close toast"}=n,[ce,oe]=de.useState(null),[$,Z]=de.useState(null),[ie,he]=de.useState(!1),[ge,be]=de.useState(!1),[ne,fe]=de.useState(!1),[Re,De]=de.useState(!1),[ze,$e]=de.useState(!1),[xt,qt]=de.useState(0),[kr,On]=de.useState(0),en=de.useRef(y.duration||U||_0),Fs=de.useRef(null),rt=de.useRef(null),Et=j===0,jn=j+1<=I,Ut=y.type,Qn=y.dismissible!==!1,jo=y.className||"",Nr=y.descriptionClassName||"",Pr=de.useMemo(()=>R.findIndex(Oe=>Oe.toastId===y.id)||0,[R,y.id]),Us=de.useMemo(()=>{var Oe;return(Oe=y.closeButton)!=null?Oe:J},[y.closeButton,J]),lr=de.useMemo(()=>y.duration||U||_0,[y.duration,U]),zs=de.useRef(0),Tn=de.useRef(0),cr=de.useRef(0),ur=de.useRef(null),[Dr,Bs]=N.split("-"),$s=de.useMemo(()=>R.reduce((Oe,lt,At)=>At>=Pr?Oe:Oe+lt.height,0),[R,Pr]),Sn=U4(),Hs=y.invert||w,Yn=Ut==="loading";Tn.current=de.useMemo(()=>Pr*ve+$s,[Pr,$s]),de.useEffect(()=>{en.current=lr},[lr]),de.useEffect(()=>{he(!0)},[]),de.useEffect(()=>{const Oe=rt.current;if(Oe){const lt=Oe.getBoundingClientRect().height;return On(lt),D(At=>[{toastId:y.id,height:lt,position:y.position},...At]),()=>D(At=>At.filter(Gt=>Gt.toastId!==y.id))}},[D,y.id]),de.useLayoutEffect(()=>{if(!ie)return;const Oe=rt.current,lt=Oe.style.height;Oe.style.height="auto";const At=Oe.getBoundingClientRect().height;Oe.style.height=lt,On(At),D(Gt=>Gt.find(bt=>bt.toastId===y.id)?Gt.map(bt=>bt.toastId===y.id?{...bt,height:At}:bt):[{toastId:y.id,height:At,position:y.position},...Gt])},[ie,y.title,y.description,D,y.id,y.jsx,y.action,y.cancel]);const _n=de.useCallback(()=>{be(!0),qt(Tn.current),D(Oe=>Oe.filter(lt=>lt.toastId!==y.id)),setTimeout(()=>{Q(y)},Z4)},[y,Q,D,Tn]);de.useEffect(()=>{if(y.promise&&Ut==="loading"||y.duration===1/0||y.type==="loading")return;let Oe;return z||b||Sn?(()=>{if(cr.current<zs.current){const Gt=new Date().getTime()-zs.current;en.current=en.current-Gt}cr.current=new Date().getTime()})():(()=>{en.current!==1/0&&(zs.current=new Date().getTime(),Oe=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),_n()},en.current))})(),()=>clearTimeout(Oe)},[z,b,y,Ut,Sn,_n]),de.useEffect(()=>{y.delete&&(_n(),y.onDismiss==null||y.onDismiss.call(y,y))},[_n,y.delete]);function dr(){var Oe;if(me?.loading){var lt;return de.createElement("div",{className:Yr(ae?.loader,y==null||(lt=y.classNames)==null?void 0:lt.loader,"sonner-loader"),"data-visible":Ut==="loading"},me.loading)}return de.createElement(O4,{className:Yr(ae?.loader,y==null||(Oe=y.classNames)==null?void 0:Oe.loader),visible:Ut==="loading"})}const hr=y.icon||me?.[Ut]||P4(Ut);var ft,Ws;return de.createElement("li",{tabIndex:0,ref:rt,className:Yr(V,jo,ae?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,ae?.default,ae?.[Ut],y==null||(t=y.classNames)==null?void 0:t[Ut]),"data-sonner-toast":"","data-rich-colors":(ft=y.richColors)!=null?ft:X,"data-styled":!(y.jsx||y.unstyled||E),"data-mounted":ie,"data-promise":!!y.promise,"data-swiped":ze,"data-removed":ge,"data-visible":jn,"data-y-position":Dr,"data-x-position":Bs,"data-index":j,"data-front":Et,"data-swiping":ne,"data-dismissible":Qn,"data-type":Ut,"data-invert":Hs,"data-swipe-out":Re,"data-swipe-direction":$,"data-expanded":!!(z||Ae&&ie),"data-testid":y.testId,style:{"--index":j,"--toasts-before":j,"--z-index":L.length-j,"--offset":`${ge?xt:Tn.current}px`,"--initial-height":Ae?"auto":`${kr}px`,...k,...y.style},onDragEnd:()=>{fe(!1),oe(null),ur.current=null},onPointerDown:Oe=>{Oe.button!==2&&(Yn||!Qn||(Fs.current=new Date,qt(Tn.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(fe(!0),ur.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,lt,At;if(Re||!Qn)return;ur.current=null;const Gt=Number(((Oe=rt.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wn=Number(((lt=rt.current)==null?void 0:lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),bt=new Date().getTime()-((At=Fs.current)==null?void 0:At.getTime()),Pt=ce==="x"?Gt:wn,Mn=Math.abs(Pt)/bt;if(Math.abs(Pt)>=J4||Mn>.11){qt(Tn.current),y.onDismiss==null||y.onDismiss.call(y,y),Z(ce==="x"?Gt>0?"right":"left":wn>0?"down":"up"),_n(),De(!0);return}else{var Dt,cn;(Dt=rt.current)==null||Dt.style.setProperty("--swipe-amount-x","0px"),(cn=rt.current)==null||cn.style.setProperty("--swipe-amount-y","0px")}$e(!1),fe(!1),oe(null)},onPointerMove:Oe=>{var lt,At,Gt;if(!ur.current||!Qn||((lt=window.getSelection())==null?void 0:lt.toString().length)>0)return;const bt=Oe.clientY-ur.current.y,Pt=Oe.clientX-ur.current.x;var Mn;const Dt=(Mn=n.swipeDirections)!=null?Mn:eL(N);!ce&&(Math.abs(Pt)>1||Math.abs(bt)>1)&&oe(Math.abs(Pt)>Math.abs(bt)?"x":"y");let cn={x:0,y:0};const Xn=Kt=>1/(1.5+Math.abs(Kt)/20);if(ce==="y"){if(Dt.includes("top")||Dt.includes("bottom"))if(Dt.includes("top")&&bt<0||Dt.includes("bottom")&&bt>0)cn.y=bt;else{const Kt=bt*Xn(bt);cn.y=Math.abs(Kt)<Math.abs(bt)?Kt:bt}}else if(ce==="x"&&(Dt.includes("left")||Dt.includes("right")))if(Dt.includes("left")&&Pt<0||Dt.includes("right")&&Pt>0)cn.x=Pt;else{const Kt=Pt*Xn(Pt);cn.x=Math.abs(Kt)<Math.abs(Pt)?Kt:Pt}(Math.abs(cn.x)>0||Math.abs(cn.y)>0)&&$e(!0),(At=rt.current)==null||At.style.setProperty("--swipe-amount-x",`${cn.x}px`),(Gt=rt.current)==null||Gt.style.setProperty("--swipe-amount-y",`${cn.y}px`)}},Us&&!y.jsx&&Ut!=="loading"?de.createElement("button",{"aria-label":H,"data-disabled":Yn,"data-close-button":!0,onClick:Yn||!Qn?()=>{}:()=>{_n(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Yr(ae?.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(Ws=me?.close)!=null?Ws:F4):null,(Ut||y.icon||y.promise)&&y.icon!==null&&(me?.[Ut]!==null||y.icon)?de.createElement("div",{"data-icon":"",className:Yr(ae?.icon,y==null||(o=y.classNames)==null?void 0:o.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||dr():null,y.type!=="loading"?hr:null):null,de.createElement("div",{"data-content":"",className:Yr(ae?.content,y==null||(a=y.classNames)==null?void 0:a.content)},de.createElement("div",{"data-title":"",className:Yr(ae?.title,y==null||(c=y.classNames)==null?void 0:c.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?de.createElement("div",{"data-description":"",className:Yr(M,Nr,ae?.description,y==null||(h=y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),de.isValidElement(y.cancel)?y.cancel:y.cancel&&cd(y.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||C,onClick:Oe=>{cd(y.cancel)&&Qn&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Oe),_n())},className:Yr(ae?.cancelButton,y==null||(f=y.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,de.isValidElement(y.action)?y.action:y.action&&cd(y.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||P,onClick:Oe=>{cd(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Oe),!Oe.defaultPrevented&&_n())},className:Yr(ae?.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function w0(){if(typeof window>"u"||typeof document>"u")return"ltr";const n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}function nL(n,e){const t={};return[n,e].forEach((r,o)=>{const a=o===1,c=a?"--mobile-offset":"--offset",h=a?Q4:K4;function f(m){["top","right","bottom","left"].forEach(w=>{t[`${c}-${w}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?t[`${c}-${m}`]=h:t[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):f(h)}),t}const rL=de.forwardRef(function(e,t){const{id:r,invert:o,position:a="bottom-right",hotkey:c=["altKey","KeyT"],expand:h,closeButton:f,className:m,offset:w,mobileOffset:y,theme:E="light",richColors:b,duration:D,style:I,visibleToasts:R=G4,toastOptions:j,dir:L=w0(),gap:z=X4,icons:Q,containerAriaLabel:X="Notifications"}=e,[J,k]=de.useState([]),C=de.useMemo(()=>r?J.filter(ie=>ie.toasterId===r):J.filter(ie=>!ie.toasterId),[J,r]),P=de.useMemo(()=>Array.from(new Set([a].concat(C.filter(ie=>ie.position).map(ie=>ie.position)))),[C,a]),[V,M]=de.useState([]),[U,N]=de.useState(!1),[ve,Ae]=de.useState(!1),[ae,me]=de.useState(E!=="system"?E:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=de.useRef(null),ce=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=de.useRef(null),$=de.useRef(!1),Z=de.useCallback(ie=>{k(he=>{var ge;return(ge=he.find(be=>be.id===ie.id))!=null&&ge.delete||Nn.dismiss(ie.id),he.filter(({id:be})=>be!==ie.id)})},[]);return de.useEffect(()=>Nn.subscribe(ie=>{if(ie.dismiss){requestAnimationFrame(()=>{k(he=>he.map(ge=>ge.id===ie.id?{...ge,delete:!0}:ge))});return}setTimeout(()=>{p1.flushSync(()=>{k(he=>{const ge=he.findIndex(be=>be.id===ie.id);return ge!==-1?[...he.slice(0,ge),{...he[ge],...ie},...he.slice(ge+1)]:[ie,...he]})})})}),[J]),de.useEffect(()=>{if(E!=="system"){me(E);return}if(E==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;const ie=window.matchMedia("(prefers-color-scheme: dark)");try{ie.addEventListener("change",({matches:he})=>{me(he?"dark":"light")})}catch{ie.addListener(({matches:ge})=>{try{me(ge?"dark":"light")}catch(be){console.error(be)}})}},[E]),de.useEffect(()=>{J.length<=1&&N(!1)},[J]),de.useEffect(()=>{const ie=he=>{var ge;if(c.every(fe=>he[fe]||he.code===fe)){var ne;N(!0),(ne=H.current)==null||ne.focus()}he.code==="Escape"&&(document.activeElement===H.current||(ge=H.current)!=null&&ge.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",ie),()=>document.removeEventListener("keydown",ie)},[c]),de.useEffect(()=>{if(H.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,$.current=!1)}},[H.current]),de.createElement("section",{ref:t,"aria-label":`${X} ${ce}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ie,he)=>{var ge;const[be,ne]=ie.split("-");return C.length?de.createElement("ol",{key:ie,dir:L==="auto"?w0():L,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ae,"data-y-position":be,"data-x-position":ne,style:{"--front-toast-height":`${((ge=V[0])==null?void 0:ge.height)||0}px`,"--width":`${Y4}px`,"--gap":`${z}px`,...I,...nL(w,y)},onBlur:fe=>{$.current&&!fe.currentTarget.contains(fe.relatedTarget)&&($.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||$.current||($.current=!0,oe.current=fe.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{ve||N(!1)},onDragEnd:()=>N(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||Ae(!0)},onPointerUp:()=>Ae(!1)},C.filter(fe=>!fe.position&&he===0||fe.position===ie).map((fe,Re)=>{var De,ze;return de.createElement(tL,{key:fe.id,icons:Q,index:Re,toast:fe,defaultRichColors:b,duration:(De=j?.duration)!=null?De:D,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:o,visibleToasts:R,closeButton:(ze=j?.closeButton)!=null?ze:f,interacting:ve,position:ie,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Z,toasts:C.filter($e=>$e.position==fe.position),heights:V.filter($e=>$e.position==fe.position),setHeights:M,expandByDefault:h,gap:z,expanded:U,swipeDirections:e.swipeDirections})})):null}))});function x0({isOpen:n,onClose:e,patients:t,selectedPatientId:r,onAddMedication:o}){const[a,c]=S.useState({medication:"",dosage:"",time:"",instructions:"",patientId:r||""}),[h,f]=S.useState({}),m=(b,D)=>{c(I=>({...I,[b]:D})),h[b]&&f(I=>({...I,[b]:""}))},w=()=>{const b={};return a.medication.trim()||(b.medication="El nombre del medicamento es requerido"),a.dosage.trim()||(b.dosage="La dosis es requerida"),a.time||(b.time="La hora es requerida"),a.patientId||(b.patientId="Debe seleccionar un paciente"),f(b),Object.keys(b).length===0},y=b=>{if(b.preventDefault(),!w())return;const D=new Date,I=D.getHours()*60+D.getMinutes(),[R,j]=a.time.split(":").map(Number),L=R*60+j;let z="pending";L<I&&(z="overdue");const Q={medication:a.medication,time:a.time,dosage:a.dosage,type:z,instructions:a.instructions||void 0};o(a.patientId,Q);const X=t.find(J=>J.id===a.patientId);yo.success("Medicamento agregado",{description:`${a.medication} para ${X?.name}`}),c({medication:"",dosage:"",time:"",instructions:"",patientId:r||""}),f({}),e()},E=()=>{c({medication:"",dosage:"",time:"",instructions:"",patientId:r||""}),f({}),e()};return p.jsx(rT,{open:n,onOpenChange:E,children:p.jsxs(sT,{className:"sm:max-w-[500px]",children:[p.jsxs(iT,{children:[p.jsxs(oT,{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(bo,{className:"text-blue-600",size:20})}),p.jsx("span",{children:"Agregar Medicamento"})]}),p.jsx(aT,{children:"Complete el formulario para agregar un nuevo medicamento al plan de tratamiento del paciente."})]}),p.jsxs("form",{onSubmit:y,className:"space-y-4 mt-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"patient",children:"Paciente *"}),p.jsxs(aS,{value:a.patientId,onValueChange:b=>m("patientId",b),disabled:!!r,children:[p.jsx(cS,{className:h.patientId?"border-red-500":"",children:p.jsx(lS,{placeholder:"Seleccionar paciente"})}),p.jsx(uS,{children:t.map(b=>p.jsxs(sc,{value:b.id,children:[b.name," - Hab. ",b.room]},b.id))})]}),h.patientId&&p.jsx("p",{className:"text-sm text-red-500",children:h.patientId})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"medication",children:"Nombre del Medicamento *"}),p.jsx(Cs,{id:"medication",placeholder:"Ej: Metformina 500mg",value:a.medication,onChange:b=>m("medication",b.target.value),className:h.medication?"border-red-500":""}),h.medication&&p.jsx("p",{className:"text-sm text-red-500",children:h.medication})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"dosage",children:"Dosis *"}),p.jsx(Cs,{id:"dosage",placeholder:"Ej: 1 tableta",value:a.dosage,onChange:b=>m("dosage",b.target.value),className:h.dosage?"border-red-500":""}),h.dosage&&p.jsx("p",{className:"text-sm text-red-500",children:h.dosage})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"time",children:"Hora *"}),p.jsxs("div",{className:"relative",children:[p.jsx(Cs,{id:"time",type:"time",value:a.time,onChange:b=>m("time",b.target.value),className:h.time?"border-red-500":""}),p.jsx(Di,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-500 pointer-events-none",size:16})]}),h.time&&p.jsx("p",{className:"text-sm text-red-500",children:h.time})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"instructions",children:"Instrucciones Especiales"}),p.jsx(dS,{id:"instructions",placeholder:"Ej: Tomar con alimentos, evitar lcteos, etc.",value:a.instructions,onChange:b=>m("instructions",b.target.value),rows:3}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Opcional: Agregue instrucciones especiales o precauciones"})]}),p.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[p.jsx(ut,{type:"button",variant:"outline",onClick:E,children:"Cancelar"}),p.jsxs(ut,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx(bo,{size:16,className:"mr-2"}),"Agregar Medicamento"]})]})]})]})})}function sL({isOpen:n,onClose:e,onAddPatient:t}){const[r,o]=S.useState(""),[a,c]=S.useState(""),[h,f]=S.useState(""),[m,w]=S.useState(""),[y,E]=S.useState(""),[b,D]=S.useState(""),[I,R]=S.useState(""),[j,L]=S.useState(""),z=()=>{o(""),c(""),f(""),w(""),E(""),D(""),R(""),L("")},Q=J=>{if(J.preventDefault(),!r||!a||!h||!m){yo.error("Por favor completa todos los campos obligatorios");return}const k=new Date,C=k.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric"}),P=k.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",hour12:!0}),V=`https://images.unsplash.com/photo-1${Math.random()>.5?"559839734-2b71ea197ec2":"612349317-d75513f63fa5"}?w=150&h=150&fit=crop&crop=face`,M={name:r,room:a,condition:h,age:parseInt(m),admissionDate:C,avatar:V,vitals:{heartRate:y||"-- bpm",temperature:b||"--C",bloodPressure:I||"--/--",lastUpdate:P},medications:[],notes:j||"Sin notas adicionales."};t(M),yo.success("Paciente aadido exitosamente",{description:`${r} ha sido registrado en la habitacin ${a}`}),z(),e()},X=()=>{z(),e()};return p.jsx(rT,{open:n,onOpenChange:J=>!J&&X(),children:p.jsxs(sT,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[p.jsxs(iT,{children:[p.jsxs(oT,{className:"flex items-center space-x-2",children:[p.jsx(Na,{className:"text-blue-600",size:24}),p.jsx("span",{children:"Registrar Nuevo Paciente"})]}),p.jsx(aT,{children:"Completa la informacin del paciente para aadirlo al sistema"})]}),p.jsxs("form",{onSubmit:Q,className:"space-y-6 mt-4",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"flex items-center space-x-2 text-muted-foreground",children:[p.jsx(Na,{size:18}),p.jsx("span",{children:"Informacin Personal"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2 col-span-2",children:[p.jsxs(_t,{htmlFor:"name",children:["Nombre Completo ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Cs,{id:"name",placeholder:"Ej: Mara Gonzlez",value:r,onChange:J=>o(J.target.value),required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(_t,{htmlFor:"age",children:["Edad ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Cs,{id:"age",type:"number",placeholder:"Ej: 68",value:m,onChange:J=>w(J.target.value),min:"0",max:"120",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(_t,{htmlFor:"room",children:["Habitacin ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(qD,{size:18,className:"text-muted-foreground"}),p.jsx(Cs,{id:"room",placeholder:"Ej: 101",value:a,onChange:J=>c(J.target.value),required:!0})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(_t,{htmlFor:"condition",children:["Estado de Salud ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs(aS,{value:h,onValueChange:f,required:!0,children:[p.jsx(cS,{id:"condition",children:p.jsx(lS,{placeholder:"Selecciona el estado"})}),p.jsxs(uS,{children:[p.jsx(sc,{value:"Estable",children:"Estable"}),p.jsx(sc,{value:"Moderado",children:"Moderado"}),p.jsx(sc,{value:"Crtico",children:"Crtico"}),p.jsx(sc,{value:"Recuperacin",children:"En Recuperacin"})]})]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"flex items-center space-x-2 text-muted-foreground",children:[p.jsx(E1,{size:18}),p.jsx("span",{children:"Signos Vitales (Opcional)"})]}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"heartRate",children:"Frecuencia Cardaca"}),p.jsx(Cs,{id:"heartRate",placeholder:"Ej: 72 bpm",value:y,onChange:J=>E(J.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"temperature",children:"Temperatura"}),p.jsx(Cs,{id:"temperature",placeholder:"Ej: 36.8C",value:b,onChange:J=>D(J.target.value)})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"bloodPressure",children:"Presin Arterial"}),p.jsx(Cs,{id:"bloodPressure",placeholder:"Ej: 120/80",value:I,onChange:J=>R(J.target.value)})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(_t,{htmlFor:"notes",children:"Notas Adicionales"}),p.jsx(dS,{id:"notes",placeholder:"Informacin relevante del paciente, condiciones especiales, alergias, etc.",value:j,onChange:J=>L(J.target.value),rows:4})]}),p.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[p.jsx(ut,{type:"button",variant:"outline",onClick:X,children:"Cancelar"}),p.jsxs(ut,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",children:[p.jsx(Na,{size:18,className:"mr-2"}),"Registrar Paciente"]})]})]})]})})}var jp="rovingFocusGroup.onEntryFocus",iL={bubbles:!1,cancelable:!0},Uc="RovingFocusGroup",[Im,hS,oL]=cT(Uc),[aL,fS]=Oo(Uc,[oL]),[lL,cL]=aL(Uc),pS=S.forwardRef((n,e)=>p.jsx(Im.Provider,{scope:n.__scopeRovingFocusGroup,children:p.jsx(Im.Slot,{scope:n.__scopeRovingFocusGroup,children:p.jsx(uL,{...n,ref:e})})}));pS.displayName=Uc;var uL=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:a,currentTabStopId:c,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:f,onEntryFocus:m,preventScrollOnEntryFocus:w=!1,...y}=n,E=S.useRef(null),b=wt(e,E),D=Ag(a),[I,R]=$a({prop:c,defaultProp:h??null,onChange:f,caller:Uc}),[j,L]=S.useState(!1),z=js(m),Q=hS(t),X=S.useRef(!1),[J,k]=S.useState(0);return S.useEffect(()=>{const C=E.current;if(C)return C.addEventListener(jp,z),()=>C.removeEventListener(jp,z)},[z]),p.jsx(lL,{scope:t,orientation:r,dir:D,loop:o,currentTabStopId:I,onItemFocus:S.useCallback(C=>R(C),[R]),onItemShiftTab:S.useCallback(()=>L(!0),[]),onFocusableItemAdd:S.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:S.useCallback(()=>k(C=>C-1),[]),children:p.jsx(Xe.div,{tabIndex:j||J===0?-1:0,"data-orientation":r,...y,ref:b,style:{outline:"none",...n.style},onMouseDown:Qe(n.onMouseDown,()=>{X.current=!0}),onFocus:Qe(n.onFocus,C=>{const P=!X.current;if(C.target===C.currentTarget&&P&&!j){const V=new CustomEvent(jp,iL);if(C.currentTarget.dispatchEvent(V),!V.defaultPrevented){const M=Q().filter(ae=>ae.focusable),U=M.find(ae=>ae.active),N=M.find(ae=>ae.id===I),Ae=[U,N,...M].filter(Boolean).map(ae=>ae.ref.current);yS(Ae,w)}}X.current=!1}),onBlur:Qe(n.onBlur,()=>L(!1))})})}),mS="RovingFocusGroupItem",gS=S.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:a,children:c,...h}=n,f=Ii(),m=a||f,w=cL(mS,t),y=w.currentTabStopId===m,E=hS(t),{onFocusableItemAdd:b,onFocusableItemRemove:D,currentTabStopId:I}=w;return S.useEffect(()=>{if(r)return b(),()=>D()},[r,b,D]),p.jsx(Im.ItemSlot,{scope:t,id:m,focusable:r,active:o,children:p.jsx(Xe.span,{tabIndex:y?0:-1,"data-orientation":w.orientation,...h,ref:e,onMouseDown:Qe(n.onMouseDown,R=>{r?w.onItemFocus(m):R.preventDefault()}),onFocus:Qe(n.onFocus,()=>w.onItemFocus(m)),onKeyDown:Qe(n.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){w.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const j=fL(R,w.orientation,w.dir);if(j!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let z=E().filter(Q=>Q.focusable).map(Q=>Q.ref.current);if(j==="last")z.reverse();else if(j==="prev"||j==="next"){j==="prev"&&z.reverse();const Q=z.indexOf(R.currentTarget);z=w.loop?pL(z,Q+1):z.slice(Q+1)}setTimeout(()=>yS(z))}}),children:typeof c=="function"?c({isCurrentTabStop:y,hasTabStop:I!=null}):c})})});gS.displayName=mS;var dL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fL(n,e,t){const r=hL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return dL[r]}function yS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function pL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var mL=pS,gL=gS,Ph="Tabs",[yL]=Oo(Ph,[fS]),vS=fS(),[vL,Lg]=yL(Ph),_S=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:a,orientation:c="horizontal",dir:h,activationMode:f="automatic",...m}=n,w=Ag(h),[y,E]=$a({prop:r,onChange:o,defaultProp:a??"",caller:Ph});return p.jsx(vL,{scope:t,baseId:Ii(),value:y,onValueChange:E,orientation:c,dir:w,activationMode:f,children:p.jsx(Xe.div,{dir:w,"data-orientation":c,...m,ref:e})})});_S.displayName=Ph;var wS="TabsList",xS=S.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,a=Lg(wS,t),c=vS(t);return p.jsx(mL,{asChild:!0,...c,orientation:a.orientation,dir:a.dir,loop:r,children:p.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});xS.displayName=wS;var ES="TabsTrigger",TS=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...a}=n,c=Lg(ES,t),h=vS(t),f=bS(c.baseId,r),m=CS(c.baseId,r),w=r===c.value;return p.jsx(gL,{asChild:!0,...h,focusable:!o,active:w,children:p.jsx(Xe.button,{type:"button",role:"tab","aria-selected":w,"aria-controls":m,"data-state":w?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...a,ref:e,onMouseDown:Qe(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?c.onValueChange(r):y.preventDefault()}),onKeyDown:Qe(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&c.onValueChange(r)}),onFocus:Qe(n.onFocus,()=>{const y=c.activationMode!=="manual";!w&&!o&&y&&c.onValueChange(r)})})})});TS.displayName=ES;var SS="TabsContent",IS=S.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:a,...c}=n,h=Lg(SS,t),f=bS(h.baseId,r),m=CS(h.baseId,r),w=r===h.value,y=S.useRef(w);return S.useEffect(()=>{const E=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(E)},[]),p.jsx(Lc,{present:o||w,children:({present:E})=>p.jsx(Xe.div,{"data-state":w?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":f,hidden:!E,id:m,tabIndex:0,...c,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:E&&a})})});IS.displayName=SS;function bS(n,e){return`${n}-trigger-${e}`}function CS(n,e){return`${n}-content-${e}`}var _L=_S,wL=xS,xL=TS,EL=IS;function TL({className:n,...e}){return p.jsx(_L,{"data-slot":"tabs",className:tt("flex flex-col gap-2",n),...e})}function SL({className:n,...e}){return p.jsx(wL,{"data-slot":"tabs-list",className:tt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",n),...e})}function E0({className:n,...e}){return p.jsx(xL,{"data-slot":"tabs-trigger",className:tt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function T0({className:n,...e}){return p.jsx(EL,{"data-slot":"tabs-content",className:tt("flex-1 outline-none",n),...e})}function IL({patients:n,onBack:e}){const t=n.flatMap(h=>h.medications.filter(f=>f.type==="taken").map(f=>({...f,patient:{id:h.id,name:h.name,room:h.room,avatar:h.avatar}}))),r=n.flatMap(h=>h.medications.map(f=>({...f,patient:{id:h.id,name:h.name,room:h.room,avatar:h.avatar}}))),o=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=(()=>{const h=r.length,f=r.filter(y=>y.type==="taken").length,m=r.filter(y=>y.type==="pending").length,w=r.filter(y=>y.type==="overdue").length;return{total:h,taken:f,pending:m,overdue:w}})();return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("div",{className:"bg-card border-b border-border",children:p.jsx("div",{className:"px-4 py-4",children:p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx(ut,{variant:"ghost",size:"icon",onClick:e,children:p.jsx(Eh,{size:20})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:p.jsx(fm,{className:"text-purple-600",size:20})}),p.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Historial Mdico"})]})]})})}),p.jsxs("div",{className:"px-4 py-6 space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[p.jsx(st,{className:"text-center",children:p.jsxs(it,{className:"p-3",children:[p.jsx("p",{className:"text-xl font-bold text-foreground",children:c.total}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})}),p.jsx(st,{className:"text-center bg-green-50 border-green-200",children:p.jsxs(it,{className:"p-3",children:[p.jsx("p",{className:"text-xl font-bold text-green-600",children:c.taken}),p.jsx("p",{className:"text-xs text-green-600",children:"Tomados"})]})}),p.jsx(st,{className:"text-center bg-blue-50 border-blue-200",children:p.jsxs(it,{className:"p-3",children:[p.jsx("p",{className:"text-xl font-bold text-blue-600",children:c.pending}),p.jsx("p",{className:"text-xs text-blue-600",children:"Pendientes"})]})}),p.jsx(st,{className:"text-center bg-red-50 border-red-200",children:p.jsxs(it,{className:"p-3",children:[p.jsx("p",{className:"text-xl font-bold text-red-600",children:c.overdue}),p.jsx("p",{className:"text-xs text-red-600",children:"Retrasados"})]})})]}),p.jsxs(TL,{defaultValue:"all",className:"w-full",children:[p.jsxs(SL,{className:"grid w-full grid-cols-2",children:[p.jsx(E0,{value:"all",children:"Todos"}),p.jsx(E0,{value:"completed",children:"Completados"})]}),p.jsxs(T0,{value:"all",className:"space-y-4 mt-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"capitalize",children:o}),p.jsxs(ut,{variant:"ghost",size:"sm",children:[p.jsx(qw,{size:16,className:"mr-1"}),"Filtrar"]})]}),p.jsx("div",{className:"space-y-3",children:r.length===0?p.jsx(st,{children:p.jsxs(it,{className:"p-8 text-center",children:[p.jsx(fm,{className:"mx-auto mb-3 text-muted-foreground",size:48}),p.jsx("p",{className:"text-muted-foreground",children:"No hay registros en el historial"})]})}):r.map((h,f)=>p.jsx(st,{children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsxs(wc,{className:"w-12 h-12",children:[p.jsx(xc,{src:h.patient.avatar}),p.jsx(Ec,{children:h.patient.name.split(" ").map(m=>m[0]).join("")})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground",children:h.patient.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Habitacin ",h.patient.room]})]}),p.jsx(Ba,{className:h.type==="taken"?"bg-green-100 text-green-800":h.type==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800",children:h.type==="taken"?"Tomado":h.type==="overdue"?"Retrasado":"Pendiente"})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(bo,{size:14,className:"text-muted-foreground"}),p.jsx("p",{className:"text-sm text-foreground",children:h.medication})]}),p.jsxs("div",{className:"flex items-center justify-between mt-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:h.dosage}),p.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[p.jsx(Di,{size:12,className:"mr-1"}),h.time]})]}),h.instructions&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:h.instructions})]})]})})},f))})]}),p.jsxs(T0,{value:"completed",className:"space-y-4 mt-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("h2",{className:"capitalize",children:o}),p.jsxs(ut,{variant:"ghost",size:"sm",children:[p.jsx(qw,{size:16,className:"mr-1"}),"Filtrar"]})]}),p.jsx("div",{className:"space-y-3",children:t.length===0?p.jsx(st,{children:p.jsxs(it,{className:"p-8 text-center",children:[p.jsx(qd,{className:"mx-auto mb-3 text-muted-foreground",size:48}),p.jsx("p",{className:"text-muted-foreground",children:"No hay medicamentos completados hoy"})]})}):t.map((h,f)=>p.jsx(st,{className:"bg-green-50 border-green-200",children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsxs(wc,{className:"w-12 h-12",children:[p.jsx(xc,{src:h.patient.avatar}),p.jsx(Ec,{children:h.patient.name.split(" ").map(m=>m[0]).join("")})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center justify-between mb-1",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground",children:h.patient.name}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Habitacin ",h.patient.room]})]}),p.jsx(qd,{className:"text-green-600",size:20})]}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(bo,{size:14,className:"text-green-600"}),p.jsx("p",{className:"text-sm text-foreground",children:h.medication})]}),p.jsxs("div",{className:"flex items-center justify-between mt-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground",children:h.dosage}),p.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[p.jsx(Di,{size:12,className:"mr-1"}),h.time]})]}),h.instructions&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:h.instructions})]})]})})},f))})]})]})]})]})}function bL({patients:n,onBack:e}){const[t,r]=S.useState(new Date),o=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],c=(()=>{const I=new Date(t),R=I.getDate()-I.getDay(),j=[];for(let L=0;L<7;L++){const z=new Date(I);z.setDate(R+L),j.push(z)}return j})(),h=new Date,f=I=>I.toDateString()===h.toDateString(),m=I=>I.toDateString()===t.toDateString(),y=n.flatMap(I=>I.medications.map(R=>({...R,patient:{id:I.id,name:I.name,room:I.room,avatar:I.avatar}}))).sort((I,R)=>{const j=I.time.split(":").map(Number),L=R.time.split(":").map(Number);return j[0]*60+j[1]-(L[0]*60+L[1])}),b=(()=>{const I={};return y.forEach(R=>{const j=R.time.split(":")[0];I[j]||(I[j]=[]),I[j].push(R)}),Object.entries(I).sort((R,j)=>parseInt(R[0])-parseInt(j[0]))})(),D=I=>{const R=new Date(t);R.setDate(R.getDate()+(I==="next"?7:-7)),r(R)};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("div",{className:"bg-card border-b border-border",children:p.jsx("div",{className:"px-4 py-4",children:p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx(ut,{variant:"ghost",size:"icon",onClick:e,children:p.jsx(Eh,{size:20})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(Wd,{className:"text-blue-600",size:20})}),p.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Programacin"})]})]})})}),p.jsxs("div",{className:"px-4 py-6 space-y-6",children:[p.jsxs(st,{children:[p.jsx(Er,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(Tr,{className:"text-base",children:t.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>D("prev"),children:p.jsx(PD,{size:20})}),p.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>r(new Date),children:"Hoy"}),p.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>D("next"),children:p.jsx(_g,{size:20})})]})]})}),p.jsx(it,{children:p.jsx("div",{className:"grid grid-cols-7 gap-2",children:c.map((I,R)=>p.jsxs("button",{onClick:()=>r(I),className:`
                    flex flex-col items-center p-3 rounded-lg transition-all
                    ${m(I)?"bg-blue-600 text-white":f(I)?"bg-blue-50 text-blue-600":"hover:bg-muted"}
                  `,children:[p.jsx("span",{className:"text-xs mb-1",children:o[I.getDay()]}),p.jsx("span",{className:"text-lg font-semibold",children:I.getDate()})]},R))})})]}),p.jsx(st,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Medicamentos Programados"}),p.jsx("p",{className:"text-2xl font-bold text-foreground",children:y.length})]}),p.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(bo,{className:"text-blue-600",size:24})})]})})}),p.jsxs("div",{children:[p.jsx("h2",{className:"mb-4",children:f(t)?"Agenda de Hoy":t.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})}),p.jsx("div",{className:"space-y-6",children:b.length===0?p.jsx(st,{children:p.jsxs(it,{className:"p-8 text-center",children:[p.jsx(Wd,{className:"mx-auto mb-3 text-muted-foreground",size:48}),p.jsx("p",{className:"text-muted-foreground",children:"No hay medicamentos programados para este da"})]})}):b.map(([I,R])=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Di,{size:16,className:"text-blue-600"}),p.jsxs("span",{className:"font-semibold text-foreground",children:[I,":00"]})]}),p.jsx("div",{className:"flex-1 h-px bg-border"}),p.jsxs(Ba,{variant:"outline",className:"text-xs",children:[R.length," ",R.length===1?"medicamento":"medicamentos"]})]}),p.jsx("div",{className:"space-y-3 ml-8",children:R.map((j,L)=>p.jsx(st,{children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsxs(wc,{className:"w-10 h-10",children:[p.jsx(xc,{src:j.patient.avatar}),p.jsx(Ec,{className:"text-xs",children:j.patient.name.split(" ").map(z=>z[0]).join("")})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-foreground",children:j.medication}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(Na,{size:12,className:"text-muted-foreground"}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.patient.name," - Hab. ",j.patient.room]})]})]}),p.jsx(Ba,{className:j.type==="taken"?"bg-green-100 text-green-800":j.type==="overdue"?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800",children:j.time})]}),p.jsxs("div",{className:"mt-2",children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:j.dosage}),j.instructions&&p.jsx("p",{className:"text-xs text-muted-foreground mt-1 italic",children:j.instructions})]})]})]})})},L))})]},I))})]})]})]})}var Dh="Switch",[CL]=Oo(Dh),[AL,RL]=CL(Dh),AS=S.forwardRef((n,e)=>{const{__scopeSwitch:t,name:r,checked:o,defaultChecked:a,required:c,disabled:h,value:f="on",onCheckedChange:m,form:w,...y}=n,[E,b]=S.useState(null),D=wt(e,z=>b(z)),I=S.useRef(!1),R=E?w||!!E.closest("form"):!0,[j,L]=$a({prop:o,defaultProp:a??!1,onChange:m,caller:Dh});return p.jsxs(AL,{scope:t,checked:j,disabled:h,children:[p.jsx(Xe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":PS(j),"data-disabled":h?"":void 0,disabled:h,value:f,...y,ref:D,onClick:Qe(n.onClick,z=>{L(Q=>!Q),R&&(I.current=z.isPropagationStopped(),I.current||z.stopPropagation())})}),R&&p.jsx(NS,{control:E,bubbles:!I.current,name:r,value:f,checked:j,required:c,disabled:h,form:w,style:{transform:"translateX(-100%)"}})]})});AS.displayName=Dh;var RS="SwitchThumb",kS=S.forwardRef((n,e)=>{const{__scopeSwitch:t,...r}=n,o=RL(RS,t);return p.jsx(Xe.span,{"data-state":PS(o.checked),"data-disabled":o.disabled?"":void 0,...r,ref:e})});kS.displayName=RS;var kL="SwitchBubbleInput",NS=S.forwardRef(({__scopeSwitch:n,control:e,checked:t,bubbles:r=!0,...o},a)=>{const c=S.useRef(null),h=wt(c,a),f=DT(t),m=ET(e);return S.useEffect(()=>{const w=c.current;if(!w)return;const y=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==t&&b){const D=new Event("click",{bubbles:r});b.call(w,t),w.dispatchEvent(D)}},[f,t,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});NS.displayName=kL;function PS(n){return n?"checked":"unchecked"}var NL=AS,PL=kS;function ud({className:n,...e}){return p.jsx(NL,{"data-slot":"switch",className:tt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n),...e,children:p.jsx(PL,{"data-slot":"switch-thumb",className:tt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var DL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OL=DL.reduce((n,e)=>{const t=xh(`Primitive.${e}`),r=S.forwardRef((o,a)=>{const{asChild:c,...h}=o,f=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(f,{...h,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{}),jL="Separator",S0="horizontal",ML=["horizontal","vertical"],DS=S.forwardRef((n,e)=>{const{decorative:t,orientation:r=S0,...o}=n,a=VL(r)?r:S0,h=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return p.jsx(OL.div,{"data-orientation":a,...h,...o,ref:e})});DS.displayName=jL;function VL(n){return ML.includes(n)}var LL=DS;function wa({className:n,orientation:e="horizontal",decorative:t=!0,...r}){return p.jsx(LL,{"data-slot":"separator-root",decorative:t,orientation:e,className:tt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n),...r})}function FL({onBack:n}){const[e,t]=S.useState(!0),[r,o]=S.useState(!0),[a,c]=S.useState(!0),[h,f]=S.useState(!0),m=b=>{t(b),yo.success(b?"Notificaciones activadas":"Notificaciones desactivadas")},w=b=>{o(b),yo.success(b?"Sonido activado":"Sonido desactivado")},y=()=>{yo.success("Datos exportados",{description:"Los datos han sido descargados correctamente"})},E=()=>{yo.warning("Funcin no disponible",{description:"Esta accin requiere confirmacin del administrador"})};return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("div",{className:"bg-card border-b border-border",children:p.jsx("div",{className:"px-4 py-4",children:p.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[p.jsx(ut,{variant:"ghost",size:"icon",onClick:n,children:p.jsx(Eh,{size:20})}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(I1,{className:"text-blue-600",size:20})}),p.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"Configuracin"})]})]})})}),p.jsxs("div",{className:"px-4 py-6 space-y-6",children:[p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(T1,{className:"text-blue-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Notificaciones"})]}),p.jsx(Ql,{children:"Gestiona cmo y cundo recibes notificaciones"})]}),p.jsxs(it,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{htmlFor:"notifications",children:"Notificaciones Push"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Recibir alertas en tiempo real"})]}),p.jsx(ud,{id:"notifications",checked:e,onCheckedChange:m})]}),p.jsx(wa,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{htmlFor:"reminder-alerts",children:"Alertas de Recordatorios"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificar antes de cada medicamento"})]}),p.jsx(ud,{id:"reminder-alerts",checked:a,onCheckedChange:c,disabled:!e})]}),p.jsx(wa,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{htmlFor:"overdue-alerts",children:"Alertas de Retrasos"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Notificar medicamentos retrasados"})]}),p.jsx(ud,{id:"overdue-alerts",checked:h,onCheckedChange:f,disabled:!e})]})]})]}),p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Gw,{className:"text-indigo-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Idioma"})]}),p.jsx(Ql,{children:"Configura el idioma de la aplicacin"})]}),p.jsx(it,{className:"space-y-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{htmlFor:"language",children:"Idioma de la Aplicacin"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Espaol (Espaa)"})]}),p.jsxs(ut,{variant:"outline",size:"sm",children:[p.jsx(Gw,{size:16,className:"mr-2"}),"Cambiar"]})]})})]}),p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(uO,{className:"text-green-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Sonido"})]}),p.jsx(Ql,{children:"Configuracin de alertas sonoras"})]}),p.jsx(it,{className:"space-y-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{htmlFor:"sound",children:"Sonido de Alertas"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Reproducir sonido en las notificaciones"})]}),p.jsx(ud,{id:"sound",checked:r,onCheckedChange:w})]})})]}),p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(b1,{className:"text-red-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Seguridad y Privacidad"})]}),p.jsx(Ql,{children:"Protege tu informacin y la de tus pacientes"})]}),p.jsxs(it,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{children:"Perfil de Usuario"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Enfermero/a Principal"})]}),p.jsxs(ut,{variant:"outline",size:"sm",children:[p.jsx(Na,{size:16,className:"mr-2"}),"Editar"]})]}),p.jsx(wa,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{children:"Cambiar Contrasea"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Actualiza tu contrasea de acceso"})]}),p.jsx(ut,{variant:"outline",size:"sm",children:"Cambiar"})]})]})]}),p.jsxs(st,{children:[p.jsxs(Er,{children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Ww,{className:"text-purple-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Gestin de Datos"})]}),p.jsx(Ql,{children:"Administra la informacin de la aplicacin"})]}),p.jsxs(it,{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{children:"Exportar Datos"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Descargar historial y registros"})]}),p.jsxs(ut,{variant:"outline",size:"sm",onClick:y,children:[p.jsx(Ww,{size:16,className:"mr-2"}),"Exportar"]})]}),p.jsx(wa,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(_t,{className:"text-red-600",children:"Borrar Datos"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Eliminar toda la informacin local"})]}),p.jsxs(ut,{variant:"destructive",size:"sm",onClick:E,children:[p.jsx(rO,{size:16,className:"mr-2"}),"Borrar"]})]})]})]}),p.jsxs(st,{children:[p.jsx(Er,{children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(KD,{className:"text-blue-600",size:20}),p.jsx(Tr,{className:"text-base",children:"Acerca de"})]})}),p.jsxs(it,{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(_t,{children:"Versin"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"1.0.0"})]}),p.jsx(wa,{}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx(_t,{children:"Desarrollador"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"CareControl Team"})]}),p.jsx(wa,{}),p.jsxs("div",{className:"pt-2",children:[p.jsx(ut,{variant:"link",className:"p-0 h-auto text-blue-600",children:"Trminos y Condiciones"}),p.jsx("br",{}),p.jsx(ut,{variant:"link",className:"p-0 h-auto text-blue-600",children:"Poltica de Privacidad"})]})]})]})]})]})}const UL="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function zL(n){const[e,t]=S.useState(!1),r=()=>{t(!0)},{src:o,alt:a,style:c,className:h,...f}=n;return e?p.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:c,children:p.jsx("div",{className:"flex items-center justify-center w-full h-full",children:p.jsx("img",{src:UL,alt:"Error loading image",...f,"data-original-url":o})})}):p.jsx("img",{src:o,alt:a,className:h,style:c,...f,onError:r})}var BL=(n,e,t,r,o,a,c,h)=>{let f=document.documentElement,m=["light","dark"];function w(b){(Array.isArray(n)?n:[n]).forEach(D=>{let I=D==="class",R=I&&a?o.map(j=>a[j]||j):o;I?(f.classList.remove(...R),f.classList.add(a&&a[b]?a[b]:b)):f.setAttribute(D,b)}),y(b)}function y(b){h&&m.includes(b)&&(f.style.colorScheme=b)}function E(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)w(r);else try{let b=localStorage.getItem(e)||t,D=c&&b==="system"?E():b;w(D)}catch{}},$L=S.createContext(void 0),HL={setTheme:n=>{},themes:[]},WL=()=>{var n;return(n=S.useContext($L))!=null?n:HL};S.memo(({forcedTheme:n,storageKey:e,attribute:t,enableSystem:r,enableColorScheme:o,defaultTheme:a,value:c,themes:h,nonce:f,scriptProps:m})=>{let w=JSON.stringify([t,e,a,n,h,c,r,o]).slice(1,-1);return S.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${BL.toString()})(${w})`}})});const Yl=({...n})=>{const{theme:e="system"}=WL();return p.jsx(rL,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...n})};function qL({user:n}){const[e,t]=S.useState("home"),[r,o]=S.useState(null),[a,c]=S.useState(!1),[h,f]=S.useState(!1),[m,w]=S.useState([]);S.useEffect(()=>{if(!n)return;const L=`users/${n.uid}/patients`,z=lw(xp,L),Q=Gk(z),X=Zk(Q,J=>{const k=J.docs.map(C=>({...C.data(),id:C.id}));w(k)});return()=>X()},[n]);const y=m.flatMap(L=>(L.medications||[]).map(z=>({...z,patient:{id:L.id,name:L.name,room:L.room,avatar:L.avatar,condition:L.condition}}))),E=[{medication:"Omeprazol 20mg",time:"Maana 07:30",dosage:"1 cpsula",patient:"Mara Gonzlez"},{medication:"Insulina",time:"Maana 08:00",dosage:"10 UI",patient:"Carlos Rodrguez"}],b=L=>{o(L),t("patient")},D=()=>{o(null),t("home")},I=async(L,z)=>{if(!n){console.error("No hay usuario autenticado para aadir medicacin.");return}const Q=oE(xp,"users",n.uid,"patients",L);try{await Xk(Q,{medications:tN({...z,instructions:z.instructions||""})}),console.log("Medicacin aadida a Firestore")}catch(X){console.error("Error al aadir medicacin a Firestore: ",X)}},R=async L=>{if(!n){console.error("No hay usuario autenticado para aadir paciente.");return}try{const z={...L,medications:[]},Q=`users/${n.uid}/patients`,X=await Jk(lw(xp,Q),z);console.log("Paciente guardado en Firestore con ID: ",X.id)}catch(z){console.error("Error al aadir paciente a Firestore: ",z)}};if(e==="patient"&&r){const L=m.find(z=>z.id===r);if(L)return p.jsxs(p.Fragment,{children:[p.jsx(yO,{patient:L,onBack:D,onAddMedication:()=>c(!0)}),p.jsx(x0,{isOpen:a,onClose:()=>c(!1),patients:m.map(z=>({id:z.id,name:z.name,room:z.room})),selectedPatientId:r,onAddMedication:I}),p.jsx(Yl,{})]})}if(e==="history")return p.jsxs(p.Fragment,{children:[p.jsx(IL,{patients:m,onBack:D}),p.jsx(Yl,{})]});if(e==="schedule")return p.jsxs(p.Fragment,{children:[p.jsx(bL,{patients:m,onBack:D}),p.jsx(Yl,{})]});if(e==="settings")return p.jsxs(p.Fragment,{children:[p.jsx(FL,{onBack:D}),p.jsx(Yl,{})]});const j=new Date().toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("div",{className:"bg-card border-b border-border",children:p.jsxs("div",{className:"px-4 py-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:p.jsx(b1,{className:"text-white",size:20})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-semibold text-foreground",children:"CareControl"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Sistema de gestin mdica"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs(Ba,{variant:"outline",className:"text-xs",children:[p.jsx(lO,{size:12,className:"mr-1"}),m.length," pacientes"]}),p.jsx(ut,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>f(!0),title:"Agregar paciente",children:p.jsx(A1,{size:20})}),p.jsx(ut,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>c(!0),title:"Agregar medicamento",children:p.jsx(wg,{size:20})}),p.jsx(ut,{variant:"ghost",size:"icon",className:"rounded-full",children:p.jsx(Na,{size:20})})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-muted-foreground",children:"Hoy es"}),p.jsx("p",{className:"font-medium text-foreground capitalize",children:j})]}),p.jsxs(ut,{variant:"ghost",size:"sm",className:"text-blue-600",children:[p.jsx(Wd,{size:16,className:"mr-1"}),"Ver mes"]})]})]})}),p.jsxs("div",{className:"px-4 py-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"mb-4",children:"Resumen de Hoy"}),p.jsx(gO,{})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"mb-4",children:"Acciones Rpidas"}),p.jsx(mO,{onAddPatient:()=>f(!0),onAddMedication:()=>c(!0),onViewSchedule:()=>t("schedule"),onViewHistory:()=>t("history"),onViewSettings:()=>t("settings")})]}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{children:"Recordatorios de Hoy"}),p.jsxs(ut,{variant:"ghost",size:"sm",className:"text-blue-600",children:["Ver todos",p.jsx(_g,{size:16,className:"ml-1"})]})]}),p.jsx("div",{className:"space-y-3",children:y.map((L,z)=>p.jsx(fO,{...L,onClick:()=>b(L.patient.id)},z))})]}),p.jsxs("div",{children:[p.jsx("h2",{className:"mb-4",children:"Prximos Recordatorios"}),p.jsxs(st,{children:[p.jsx(Er,{className:"pb-3",children:p.jsx(Tr,{className:"text-base",children:"Maana"})}),p.jsx(it,{className:"space-y-3",children:E.map((L,z)=>p.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(T1,{size:14,className:"text-blue-600"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-foreground",children:L.medication}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[L.dosage,"  ",L.patient]})]})]}),p.jsx("p",{className:"text-xs text-muted-foreground",children:L.time})]},z))})]})]}),p.jsx(st,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:p.jsx(it,{className:"p-4",children:p.jsxs("div",{className:"flex items-start space-x-3",children:[p.jsx(zL,{src:"https://images.unsplash.com/photo-1668417421159-e6dacfad76a7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtZWRpY2FsJTIwcGlsbHMlMjBoZWFsdGhjYXJlfGVufDF8fHx8MTc1OTM0NzM1Nnww&ixlib.rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Alerta de cuidado",className:"w-12 h-12 rounded-lg object-cover"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Alerta del Sistema"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Carlos Rodrguez (Hab. 205) tiene un medicamento retrasado. Revisar inmediatamente."})]})]})})})]}),p.jsx(x0,{isOpen:a,onClose:()=>c(!1),patients:m.map(L=>({id:L.id,name:L.name,room:L.room})),onAddMedication:I}),p.jsx(sL,{isOpen:h,onClose:()=>f(!1),onAddPatient:R}),p.jsx(Yl,{})]})}function GL(){const[n,e]=S.useState(null),[t,r]=S.useState(!0);return S.useEffect(()=>{const o=rP(cm,a=>{e(a),r(!1)});return()=>o()},[]),t?p.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Cargando..."}):p.jsx(p.Fragment,{children:n?p.jsx(qL,{user:n}):p.jsx(y2,{})})}KI.createRoot(document.getElementById("root")).render(p.jsx(S.StrictMode,{children:p.jsx(GL,{})}));
